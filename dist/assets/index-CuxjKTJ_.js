const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/App-BbS5zoGd.js","assets/App-BdT7PAja.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(s){if(s.ep)return;s.ep=!0;const c=a(s);fetch(s.href,c)}})();function xs(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Qh={exports:{}},ss={};var OC;function ub(){if(OC)return ss;OC=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(r,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var f in s)f!=="key"&&(c[f]=s[f])}else c=s;return s=c.ref,{$$typeof:i,type:r,key:d,ref:s!==void 0?s:null,props:c}}return ss.Fragment=e,ss.jsx=a,ss.jsxs=a,ss}var IC;function db(){return IC||(IC=1,Qh.exports=ub()),Qh.exports}var w=db(),Yh={exports:{}},ls={},Vh={exports:{}},$h={};var kC;function hb(){return kC||(kC=1,(function(i){function e(N,F){var X=N.length;N.push(F);e:for(;0<X;){var le=X-1>>>1,ce=N[le];if(0<s(ce,F))N[le]=F,N[X]=ce,X=le;else break e}}function a(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var F=N[0],X=N.pop();if(X!==F){N[0]=X;e:for(var le=0,ce=N.length,_=ce>>>1;le<_;){var G=2*(le+1)-1,ee=N[G],ne=G+1,he=N[ne];if(0>s(ee,X))ne<ce&&0>s(he,ee)?(N[le]=he,N[ne]=X,le=ne):(N[le]=ee,N[G]=X,le=G);else if(ne<ce&&0>s(he,X))N[le]=he,N[ne]=X,le=ne;else break e}}return F}function s(N,F){var X=N.sortIndex-F.sortIndex;return X!==0?X:N.id-F.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();i.unstable_now=function(){return d.now()-f}}var g=[],p=[],y=1,v=null,T=3,S=!1,O=!1,M=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function $(N){for(var F=a(p);F!==null;){if(F.callback===null)r(p);else if(F.startTime<=N)r(p),F.sortIndex=F.expirationTime,e(g,F);else break;F=a(p)}}function V(N){if(M=!1,$(N),!O)if(a(g)!==null)O=!0,te||(te=!0,q());else{var F=a(p);F!==null&&re(V,F.startTime-N)}}var te=!1,Z=-1,de=5,ge=-1;function ve(){return I?!0:!(i.unstable_now()-ge<de)}function W(){if(I=!1,te){var N=i.unstable_now();ge=N;var F=!0;try{e:{O=!1,M&&(M=!1,L(Z),Z=-1),S=!0;var X=T;try{t:{for($(N),v=a(g);v!==null&&!(v.expirationTime>N&&ve());){var le=v.callback;if(typeof le=="function"){v.callback=null,T=v.priorityLevel;var ce=le(v.expirationTime<=N);if(N=i.unstable_now(),typeof ce=="function"){v.callback=ce,$(N),F=!0;break t}v===a(g)&&r(g),$(N)}else r(g);v=a(g)}if(v!==null)F=!0;else{var _=a(p);_!==null&&re(V,_.startTime-N),F=!1}}break e}finally{v=null,T=X,S=!1}F=void 0}}finally{F?q():te=!1}}}var q;if(typeof B=="function")q=function(){B(W)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ie=ae.port2;ae.port1.onmessage=W,q=function(){ie.postMessage(null)}}else q=function(){P(W,0)};function re(N,F){Z=P(function(){N(i.unstable_now())},F)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(N){N.callback=null},i.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<N?Math.floor(1e3/N):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(N){switch(T){case 1:case 2:case 3:var F=3;break;default:F=T}var X=T;T=F;try{return N()}finally{T=X}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(N,F){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var X=T;T=N;try{return F()}finally{T=X}},i.unstable_scheduleCallback=function(N,F,X){var le=i.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?le+X:le):X=le,N){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=X+ce,N={id:y++,callback:F,priorityLevel:N,startTime:X,expirationTime:ce,sortIndex:-1},X>le?(N.sortIndex=X,e(p,N),a(g)===null&&N===a(p)&&(M?(L(Z),Z=-1):M=!0,re(V,X-le))):(N.sortIndex=ce,e(g,N),O||S||(O=!0,te||(te=!0,q()))),N},i.unstable_shouldYield=ve,i.unstable_wrapCallback=function(N){var F=T;return function(){var X=T;T=F;try{return N.apply(this,arguments)}finally{T=X}}}})($h)),$h}var NC;function fb(){return NC||(NC=1,Vh.exports=hb()),Vh.exports}var Wh={exports:{}},Ee={};var MC;function gb(){if(MC)return Ee;MC=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function S(_){return _===null||typeof _!="object"?null:(_=T&&_[T]||_["@@iterator"],typeof _=="function"?_:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,I={};function P(_,G,ee){this.props=_,this.context=G,this.refs=I,this.updater=ee||O}P.prototype.isReactComponent={},P.prototype.setState=function(_,G){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,G,"setState")},P.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function L(){}L.prototype=P.prototype;function B(_,G,ee){this.props=_,this.context=G,this.refs=I,this.updater=ee||O}var $=B.prototype=new L;$.constructor=B,M($,P.prototype),$.isPureReactComponent=!0;var V=Array.isArray;function te(){}var Z={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function ge(_,G,ee){var ne=ee.ref;return{$$typeof:i,type:_,key:G,ref:ne!==void 0?ne:null,props:ee}}function ve(_,G){return ge(_.type,G,_.props)}function W(_){return typeof _=="object"&&_!==null&&_.$$typeof===i}function q(_){var G={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(ee){return G[ee]})}var ae=/\/+/g;function ie(_,G){return typeof _=="object"&&_!==null&&_.key!=null?q(""+_.key):G.toString(36)}function re(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(te,te):(_.status="pending",_.then(function(G){_.status==="pending"&&(_.status="fulfilled",_.value=G)},function(G){_.status==="pending"&&(_.status="rejected",_.reason=G)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function N(_,G,ee,ne,he){var Ce=typeof _;(Ce==="undefined"||Ce==="boolean")&&(_=null);var we=!1;if(_===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(_.$$typeof){case i:case e:we=!0;break;case y:return we=_._init,N(we(_._payload),G,ee,ne,he)}}if(we)return he=he(_),we=ne===""?"."+ie(_,0):ne,V(he)?(ee="",we!=null&&(ee=we.replace(ae,"$&/")+"/"),N(he,G,ee,"",function(In){return In})):he!=null&&(W(he)&&(he=ve(he,ee+(he.key==null||_&&_.key===he.key?"":(""+he.key).replace(ae,"$&/")+"/")+we)),G.push(he)),1;we=0;var Xe=ne===""?".":ne+":";if(V(_))for(var Pe=0;Pe<_.length;Pe++)ne=_[Pe],Ce=Xe+ie(ne,Pe),we+=N(ne,G,ee,Ce,he);else if(Pe=S(_),typeof Pe=="function")for(_=Pe.call(_),Pe=0;!(ne=_.next()).done;)ne=ne.value,Ce=Xe+ie(ne,Pe++),we+=N(ne,G,ee,Ce,he);else if(Ce==="object"){if(typeof _.then=="function")return N(re(_),G,ee,ne,he);throw G=String(_),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return we}function F(_,G,ee){if(_==null)return _;var ne=[],he=0;return N(_,ne,"","",function(Ce){return G.call(ee,Ce,he++)}),ne}function X(_){if(_._status===-1){var G=_._result;G=G(),G.then(function(ee){(_._status===0||_._status===-1)&&(_._status=1,_._result=ee)},function(ee){(_._status===0||_._status===-1)&&(_._status=2,_._result=ee)}),_._status===-1&&(_._status=0,_._result=G)}if(_._status===1)return _._result.default;throw _._result}var le=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},ce={map:F,forEach:function(_,G,ee){F(_,function(){G.apply(this,arguments)},ee)},count:function(_){var G=0;return F(_,function(){G++}),G},toArray:function(_){return F(_,function(G){return G})||[]},only:function(_){if(!W(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return Ee.Activity=v,Ee.Children=ce,Ee.Component=P,Ee.Fragment=a,Ee.Profiler=s,Ee.PureComponent=B,Ee.StrictMode=r,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(_){return Z.H.useMemoCache(_)}},Ee.cache=function(_){return function(){return _.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(_,G,ee){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var ne=M({},_.props),he=_.key;if(G!=null)for(Ce in G.key!==void 0&&(he=""+G.key),G)!de.call(G,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&G.ref===void 0||(ne[Ce]=G[Ce]);var Ce=arguments.length-2;if(Ce===1)ne.children=ee;else if(1<Ce){for(var we=Array(Ce),Xe=0;Xe<Ce;Xe++)we[Xe]=arguments[Xe+2];ne.children=we}return ge(_.type,he,ne)},Ee.createContext=function(_){return _={$$typeof:d,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:c,_context:_},_},Ee.createElement=function(_,G,ee){var ne,he={},Ce=null;if(G!=null)for(ne in G.key!==void 0&&(Ce=""+G.key),G)de.call(G,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(he[ne]=G[ne]);var we=arguments.length-2;if(we===1)he.children=ee;else if(1<we){for(var Xe=Array(we),Pe=0;Pe<we;Pe++)Xe[Pe]=arguments[Pe+2];he.children=Xe}if(_&&_.defaultProps)for(ne in we=_.defaultProps,we)he[ne]===void 0&&(he[ne]=we[ne]);return ge(_,Ce,he)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(_){return{$$typeof:f,render:_}},Ee.isValidElement=W,Ee.lazy=function(_){return{$$typeof:y,_payload:{_status:-1,_result:_},_init:X}},Ee.memo=function(_,G){return{$$typeof:p,type:_,compare:G===void 0?null:G}},Ee.startTransition=function(_){var G=Z.T,ee={};Z.T=ee;try{var ne=_(),he=Z.S;he!==null&&he(ee,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(te,le)}catch(Ce){le(Ce)}finally{G!==null&&ee.types!==null&&(G.types=ee.types),Z.T=G}},Ee.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ee.use=function(_){return Z.H.use(_)},Ee.useActionState=function(_,G,ee){return Z.H.useActionState(_,G,ee)},Ee.useCallback=function(_,G){return Z.H.useCallback(_,G)},Ee.useContext=function(_){return Z.H.useContext(_)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(_,G){return Z.H.useDeferredValue(_,G)},Ee.useEffect=function(_,G){return Z.H.useEffect(_,G)},Ee.useEffectEvent=function(_){return Z.H.useEffectEvent(_)},Ee.useId=function(){return Z.H.useId()},Ee.useImperativeHandle=function(_,G,ee){return Z.H.useImperativeHandle(_,G,ee)},Ee.useInsertionEffect=function(_,G){return Z.H.useInsertionEffect(_,G)},Ee.useLayoutEffect=function(_,G){return Z.H.useLayoutEffect(_,G)},Ee.useMemo=function(_,G){return Z.H.useMemo(_,G)},Ee.useOptimistic=function(_,G){return Z.H.useOptimistic(_,G)},Ee.useReducer=function(_,G,ee){return Z.H.useReducer(_,G,ee)},Ee.useRef=function(_){return Z.H.useRef(_)},Ee.useState=function(_){return Z.H.useState(_)},Ee.useSyncExternalStore=function(_,G,ee){return Z.H.useSyncExternalStore(_,G,ee)},Ee.useTransition=function(){return Z.H.useTransition()},Ee.version="19.2.0",Ee}var DC;function jf(){return DC||(DC=1,Wh.exports=gb()),Wh.exports}var Xh={exports:{}},Mt={};var xC;function pb(){if(xC)return Mt;xC=1;var i=jf();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(g,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:g,containerInfo:p,implementation:y}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mt.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(g,p,null,y)},Mt.flushSync=function(g){var p=d.T,y=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=p,r.p=y,r.d.f()}},Mt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},Mt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Mt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:S}):y==="script"&&r.d.X(g,{crossOrigin:v,integrity:T,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Mt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},Mt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin);r.d.L(g,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Mt.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},Mt.requestFormReset=function(g){r.d.r(g)},Mt.unstable_batchedUpdates=function(g,p){return g(p)},Mt.useFormState=function(g,p,y){return d.H.useFormState(g,p,y)},Mt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Mt.version="19.2.0",Mt}var UC;function uT(){if(UC)return Xh.exports;UC=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xh.exports=pb(),Xh.exports}var LC;function mb(){if(LC)return ls;LC=1;var i=fb(),e=jf(),a=uT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,o=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(o=n.return),t=n.return;while(t)}return n.tag===3?o:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function f(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var o=t,l=n;;){var u=o.return;if(u===null)break;var h=u.alternate;if(h===null){if(l=u.return,l!==null){o=l;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===o)return g(u),t;if(h===l)return g(u),n;h=h.sibling}throw Error(r(188))}if(o.return!==l.return)o=u,l=h;else{for(var m=!1,E=u.child;E;){if(E===o){m=!0,o=u,l=h;break}if(E===l){m=!0,l=u,o=h;break}E=E.sibling}if(!m){for(E=h.child;E;){if(E===o){m=!0,o=h,l=u;break}if(E===l){m=!0,l=h,o=u;break}E=E.sibling}if(!m)throw Error(r(189))}}if(o.alternate!==l)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),B=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ge=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function q(t){return t===null||typeof t!="object"?null:(t=W&&t[W]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ae?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case P:return"Profiler";case I:return"StrictMode";case V:return"Suspense";case te:return"SuspenseList";case ge:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case B:return t.displayName||"Context";case L:return(t._context.displayName||"Context")+".Consumer";case $:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case de:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var re=Array.isArray,N=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},le=[],ce=-1;function _(t){return{current:t}}function G(t){0>ce||(t.current=le[ce],le[ce]=null,ce--)}function ee(t,n){ce++,le[ce]=t.current,t.current=n}var ne=_(null),he=_(null),Ce=_(null),we=_(null);function Xe(t,n){switch(ee(Ce,n),ee(he,t),ee(ne,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Xv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Xv(n),t=Jv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(ne),ee(ne,t)}function Pe(){G(ne),G(he),G(Ce)}function In(t){t.memoizedState!==null&&ee(we,t);var n=ne.current,o=Jv(n,t.type);n!==o&&(ee(he,t),ee(ne,o))}function Gn(t){he.current===t&&(G(ne),G(he)),we.current===t&&(G(we),as._currentValue=X)}var Ma,ea;function zt(t){if(Ma===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Ma=n&&n[1]||"",ea=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ma+t+ea}var Ye=!1;function ta(t,n){if(!t||Ye)return"";Ye=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var U=H}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(H){U=H}t.call(Q.prototype)}}else{try{throw Error()}catch(H){U=H}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&U&&typeof H.stack=="string")return[H.stack,U.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),m=h[0],E=h[1];if(m&&E){var A=m.split(`
`),x=E.split(`
`);for(u=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;if(l===A.length||u===x.length)for(l=A.length-1,u=x.length-1;1<=l&&0<=u&&A[l]!==x[u];)u--;for(;1<=l&&0<=u;l--,u--)if(A[l]!==x[u]){if(l!==1||u!==1)do if(l--,u--,0>u||A[l]!==x[u]){var z=`
`+A[l].replace(" at new "," at ");return t.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",t.displayName)),z}while(1<=l&&0<=u);break}}}finally{Ye=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?zt(o):""}function Da(t,n){switch(t.tag){case 26:case 27:case 5:return zt(t.type);case 16:return zt("Lazy");case 13:return t.child!==n&&n!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return ta(t.type,!1);case 11:return ta(t.type.render,!1);case 1:return ta(t.type,!0);case 31:return zt("Activity");default:return""}}function Qs(t){try{var n="",o=null;do n+=Da(t,o),o=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ho=Object.prototype.hasOwnProperty,kn=i.unstable_scheduleCallback,xa=i.unstable_cancelCallback,Ys=i.unstable_shouldYield,Vs=i.unstable_requestPaint,Tt=i.unstable_now,$s=i.unstable_getCurrentPriorityLevel,fo=i.unstable_ImmediatePriority,go=i.unstable_UserBlockingPriority,Si=i.unstable_NormalPriority,Fw=i.unstable_LowPriority,Np=i.unstable_IdlePriority,Qw=i.log,Yw=i.unstable_setDisableYieldValue,po=null,en=null;function Ua(t){if(typeof Qw=="function"&&Yw(t),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(po,t)}catch{}}var tn=Math.clz32?Math.clz32:Ww,Vw=Math.log,$w=Math.LN2;function Ww(t){return t>>>=0,t===0?32:31-(Vw(t)/$w|0)|0}var Ws=256,Xs=262144,Js=4194304;function Ai(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zs(t,n,o){var l=t.pendingLanes;if(l===0)return 0;var u=0,h=t.suspendedLanes,m=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?u=Ai(l):(m&=E,m!==0?u=Ai(m):o||(o=E&~t,o!==0&&(u=Ai(o))))):(E=l&~h,E!==0?u=Ai(E):m!==0?u=Ai(m):o||(o=l&~t,o!==0&&(u=Ai(o)))),u===0?0:n!==0&&n!==u&&(n&h)===0&&(h=u&-u,o=n&-n,h>=o||h===32&&(o&4194048)!==0)?n:u}function mo(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Xw(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mp(){var t=Js;return Js<<=1,(Js&62914560)===0&&(Js=4194304),t}function xu(t){for(var n=[],o=0;31>o;o++)n.push(t);return n}function yo(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jw(t,n,o,l,u,h){var m=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var E=t.entanglements,A=t.expirationTimes,x=t.hiddenUpdates;for(o=m&~o;0<o;){var z=31-tn(o),Q=1<<z;E[z]=0,A[z]=-1;var U=x[z];if(U!==null)for(x[z]=null,z=0;z<U.length;z++){var H=U[z];H!==null&&(H.lane&=-536870913)}o&=~Q}l!==0&&Dp(t,l,0),h!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=h&~(m&~n))}function Dp(t,n,o){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-tn(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|o&261930}function xp(t,n){var o=t.entangledLanes|=n;for(t=t.entanglements;o;){var l=31-tn(o),u=1<<l;u&n|t[l]&n&&(t[l]|=n),o&=~u}}function Up(t,n){var o=n&-n;return o=(o&42)!==0?1:Uu(o),(o&(t.suspendedLanes|n))!==0?0:o}function Uu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Lu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Lp(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:TC(t.type))}function Pp(t,n){var o=F.p;try{return F.p=t,n()}finally{F.p=o}}var La=Math.random().toString(36).slice(2),St="__reactFiber$"+La,Kt="__reactProps$"+La,Zi="__reactContainer$"+La,Pu="__reactEvents$"+La,Zw="__reactListeners$"+La,e_="__reactHandles$"+La,Hp="__reactResources$"+La,vo="__reactMarker$"+La;function Hu(t){delete t[St],delete t[Kt],delete t[Pu],delete t[Zw],delete t[e_]}function er(t){var n=t[St];if(n)return n;for(var o=t.parentNode;o;){if(n=o[Zi]||o[St]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(t=rC(t);t!==null;){if(o=t[St])return o;t=rC(t)}return n}t=o,o=t.parentNode}return null}function tr(t){if(t=t[St]||t[Zi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Co(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function nr(t){var n=t[Hp];return n||(n=t[Hp]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function vt(t){t[vo]=!0}var Bp=new Set,Gp={};function wi(t,n){ar(t,n),ar(t+"Capture",n)}function ar(t,n){for(Gp[t]=n,t=0;t<n.length;t++)Bp.add(n[t])}var t_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zp={},Kp={};function n_(t){return ho.call(Kp,t)?!0:ho.call(zp,t)?!1:t_.test(t)?Kp[t]=!0:(zp[t]=!0,!1)}function el(t,n,o){if(n_(n))if(o===null)t.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+o)}}function tl(t,n,o){if(o===null)t.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+o)}}function na(t,n,o,l){if(l===null)t.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(n,o,""+l)}}function pn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jp(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function a_(t,n,o){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,h=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(m){o=""+m,h.call(this,m)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(m){o=""+m},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Bu(t){if(!t._valueTracker){var n=jp(t)?"checked":"value";t._valueTracker=a_(t,n,""+t[n])}}function qp(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var o=n.getValue(),l="";return t&&(l=jp(t)?t.checked?"true":"false":t.value),t=l,t!==o?(n.setValue(t),!0):!1}function nl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var i_=/[\n"\\]/g;function mn(t){return t.replace(i_,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Gu(t,n,o,l,u,h,m,E){t.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.type=m:t.removeAttribute("type"),n!=null?m==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+pn(n)):t.value!==""+pn(n)&&(t.value=""+pn(n)):m!=="submit"&&m!=="reset"||t.removeAttribute("value"),n!=null?zu(t,m,pn(n)):o!=null?zu(t,m,pn(o)):l!=null&&t.removeAttribute("value"),u==null&&h!=null&&(t.defaultChecked=!!h),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+pn(E):t.removeAttribute("name")}function Fp(t,n,o,l,u,h,m,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||o!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Bu(t);return}o=o!=null?""+pn(o):"",n=n!=null?""+pn(n):o,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.name=m),Bu(t)}function zu(t,n,o){n==="number"&&nl(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function ir(t,n,o,l){if(t=t.options,n){n={};for(var u=0;u<o.length;u++)n["$"+o[u]]=!0;for(o=0;o<t.length;o++)u=n.hasOwnProperty("$"+t[o].value),t[o].selected!==u&&(t[o].selected=u),u&&l&&(t[o].defaultSelected=!0)}else{for(o=""+pn(o),n=null,u=0;u<t.length;u++){if(t[u].value===o){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function Qp(t,n,o){if(n!=null&&(n=""+pn(n),n!==t.value&&(t.value=n),o==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=o!=null?""+pn(o):""}function Yp(t,n,o,l){if(n==null){if(l!=null){if(o!=null)throw Error(r(92));if(re(l)){if(1<l.length)throw Error(r(93));l=l[0]}o=l}o==null&&(o=""),n=o}o=pn(n),t.defaultValue=o,l=t.textContent,l===o&&l!==""&&l!==null&&(t.value=l),Bu(t)}function rr(t,n){if(n){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=n;return}}t.textContent=n}var r_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vp(t,n,o){var l=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,o):typeof o!="number"||o===0||r_.has(n)?n==="float"?t.cssFloat=o:t[n]=(""+o).trim():t[n]=o+"px"}function $p(t,n,o){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&o[u]!==l&&Vp(t,u,l)}else for(var h in n)n.hasOwnProperty(h)&&Vp(t,h,n[h])}function Ku(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),s_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(t){return s_.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function aa(){}var ju=null;function qu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var or=null,sr=null;function Wp(t){var n=tr(t);if(n&&(t=n.stateNode)){var o=t[Kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Gu(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var l=o[n];if(l!==t&&l.form===t.form){var u=l[Kt]||null;if(!u)throw Error(r(90));Gu(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<o.length;n++)l=o[n],l.form===t.form&&qp(l)}break e;case"textarea":Qp(t,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&ir(t,!!o.multiple,n,!1)}}}var Fu=!1;function Xp(t,n,o){if(Fu)return t(n,o);Fu=!0;try{var l=t(n);return l}finally{if(Fu=!1,(or!==null||sr!==null)&&(ql(),or&&(n=or,t=sr,sr=or=null,Wp(n),t)))for(n=0;n<t.length;n++)Wp(t[n])}}function Eo(t,n){var o=t.stateNode;if(o===null)return null;var l=o[Kt]||null;if(l===null)return null;o=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,n,typeof o));return o}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qu=!1;if(ia)try{var To={};Object.defineProperty(To,"passive",{get:function(){Qu=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{Qu=!1}var Pa=null,Yu=null,il=null;function Jp(){if(il)return il;var t,n=Yu,o=n.length,l,u="value"in Pa?Pa.value:Pa.textContent,h=u.length;for(t=0;t<o&&n[t]===u[t];t++);var m=o-t;for(l=1;l<=m&&n[o-l]===u[h-l];l++);return il=u.slice(t,1<l?1-l:void 0)}function rl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ol(){return!0}function Zp(){return!1}function jt(t){function n(o,l,u,h,m){this._reactName=o,this._targetInst=u,this.type=l,this.nativeEvent=h,this.target=m,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(o=t[E],this[E]=o?o(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ol:Zp,this.isPropagationStopped=Zp,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ol)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ol)},persist:function(){},isPersistent:ol}),n}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sl=jt(_i),So=v({},_i,{view:0,detail:0}),l_=jt(So),Vu,$u,Ao,ll=v({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ao&&(Ao&&t.type==="mousemove"?(Vu=t.screenX-Ao.screenX,$u=t.screenY-Ao.screenY):$u=Vu=0,Ao=t),Vu)},movementY:function(t){return"movementY"in t?t.movementY:$u}}),em=jt(ll),c_=v({},ll,{dataTransfer:0}),u_=jt(c_),d_=v({},So,{relatedTarget:0}),Wu=jt(d_),h_=v({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),f_=jt(h_),g_=v({},_i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),p_=jt(g_),m_=v({},_i,{data:0}),tm=jt(m_),y_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E_(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=C_[t])?!!n[t]:!1}function Xu(){return E_}var T_=v({},So,{key:function(t){if(t.key){var n=y_[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=rl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xu,charCode:function(t){return t.type==="keypress"?rl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S_=jt(T_),A_=v({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nm=jt(A_),w_=v({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xu}),__=jt(w_),R_=v({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),b_=jt(R_),O_=v({},ll,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),I_=jt(O_),k_=v({},_i,{newState:0,oldState:0}),N_=jt(k_),M_=[9,13,27,32],Ju=ia&&"CompositionEvent"in window,wo=null;ia&&"documentMode"in document&&(wo=document.documentMode);var D_=ia&&"TextEvent"in window&&!wo,am=ia&&(!Ju||wo&&8<wo&&11>=wo),im=" ",rm=!1;function om(t,n){switch(t){case"keyup":return M_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lr=!1;function x_(t,n){switch(t){case"compositionend":return sm(n);case"keypress":return n.which!==32?null:(rm=!0,im);case"textInput":return t=n.data,t===im&&rm?null:t;default:return null}}function U_(t,n){if(lr)return t==="compositionend"||!Ju&&om(t,n)?(t=Jp(),il=Yu=Pa=null,lr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return am&&n.locale!=="ko"?null:n.data;default:return null}}var L_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!L_[t.type]:n==="textarea"}function cm(t,n,o,l){or?sr?sr.push(l):sr=[l]:or=l,n=Xl(n,"onChange"),0<n.length&&(o=new sl("onChange","change",null,o,l),t.push({event:o,listeners:n}))}var _o=null,Ro=null;function P_(t){Fv(t,0)}function cl(t){var n=Co(t);if(qp(n))return t}function um(t,n){if(t==="change")return n}var dm=!1;if(ia){var Zu;if(ia){var ed="oninput"in document;if(!ed){var hm=document.createElement("div");hm.setAttribute("oninput","return;"),ed=typeof hm.oninput=="function"}Zu=ed}else Zu=!1;dm=Zu&&(!document.documentMode||9<document.documentMode)}function fm(){_o&&(_o.detachEvent("onpropertychange",gm),Ro=_o=null)}function gm(t){if(t.propertyName==="value"&&cl(Ro)){var n=[];cm(n,Ro,t,qu(t)),Xp(P_,n)}}function H_(t,n,o){t==="focusin"?(fm(),_o=n,Ro=o,_o.attachEvent("onpropertychange",gm)):t==="focusout"&&fm()}function B_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cl(Ro)}function G_(t,n){if(t==="click")return cl(n)}function z_(t,n){if(t==="input"||t==="change")return cl(n)}function K_(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:K_;function bo(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var o=Object.keys(t),l=Object.keys(n);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var u=o[l];if(!ho.call(n,u)||!nn(t[u],n[u]))return!1}return!0}function pm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mm(t,n){var o=pm(t);t=0;for(var l;o;){if(o.nodeType===3){if(l=t+o.textContent.length,t<=n&&l>=n)return{node:o,offset:n-t};t=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=pm(o)}}function ym(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ym(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function vm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=nl(t.document);n instanceof t.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)t=n.contentWindow;else break;n=nl(t.document)}return n}function td(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var j_=ia&&"documentMode"in document&&11>=document.documentMode,cr=null,nd=null,Oo=null,ad=!1;function Cm(t,n,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ad||cr==null||cr!==nl(l)||(l=cr,"selectionStart"in l&&td(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Oo&&bo(Oo,l)||(Oo=l,l=Xl(nd,"onSelect"),0<l.length&&(n=new sl("onSelect","select",null,n,o),t.push({event:n,listeners:l}),n.target=cr)))}function Ri(t,n){var o={};return o[t.toLowerCase()]=n.toLowerCase(),o["Webkit"+t]="webkit"+n,o["Moz"+t]="moz"+n,o}var ur={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionrun:Ri("Transition","TransitionRun"),transitionstart:Ri("Transition","TransitionStart"),transitioncancel:Ri("Transition","TransitionCancel"),transitionend:Ri("Transition","TransitionEnd")},id={},Em={};ia&&(Em=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function bi(t){if(id[t])return id[t];if(!ur[t])return t;var n=ur[t],o;for(o in n)if(n.hasOwnProperty(o)&&o in Em)return id[t]=n[o];return t}var Tm=bi("animationend"),Sm=bi("animationiteration"),Am=bi("animationstart"),q_=bi("transitionrun"),F_=bi("transitionstart"),Q_=bi("transitioncancel"),wm=bi("transitionend"),_m=new Map,rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rd.push("scrollEnd");function Nn(t,n){_m.set(t,n),wi(n,[t])}var ul=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},yn=[],dr=0,od=0;function dl(){for(var t=dr,n=od=dr=0;n<t;){var o=yn[n];yn[n++]=null;var l=yn[n];yn[n++]=null;var u=yn[n];yn[n++]=null;var h=yn[n];if(yn[n++]=null,l!==null&&u!==null){var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}h!==0&&Rm(o,u,h)}}function hl(t,n,o,l){yn[dr++]=t,yn[dr++]=n,yn[dr++]=o,yn[dr++]=l,od|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function sd(t,n,o,l){return hl(t,n,o,l),fl(t)}function Oi(t,n){return hl(t,null,null,n),fl(t)}function Rm(t,n,o){t.lanes|=o;var l=t.alternate;l!==null&&(l.lanes|=o);for(var u=!1,h=t.return;h!==null;)h.childLanes|=o,l=h.alternate,l!==null&&(l.childLanes|=o),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(u=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,u&&n!==null&&(u=31-tn(o),t=h.hiddenUpdates,l=t[u],l===null?t[u]=[n]:l.push(n),n.lane=o|536870912),h):null}function fl(t){if(50<Wo)throw Wo=0,mh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var hr={};function Y_(t,n,o,l){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,n,o,l){return new Y_(t,n,o,l)}function ld(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ra(t,n){var o=t.alternate;return o===null?(o=an(t.tag,n,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=n,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,n=t.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function bm(t,n){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,n=o.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function gl(t,n,o,l,u,h){var m=0;if(l=t,typeof t=="function")ld(t)&&(m=1);else if(typeof t=="string")m=JR(t,o,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ge:return t=an(31,o,n,u),t.elementType=ge,t.lanes=h,t;case M:return Ii(o.children,u,h,n);case I:m=8,u|=24;break;case P:return t=an(12,o,n,u|2),t.elementType=P,t.lanes=h,t;case V:return t=an(13,o,n,u),t.elementType=V,t.lanes=h,t;case te:return t=an(19,o,n,u),t.elementType=te,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:m=10;break e;case L:m=9;break e;case $:m=11;break e;case Z:m=14;break e;case de:m=16,l=null;break e}m=29,o=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=an(m,o,n,u),n.elementType=t,n.type=l,n.lanes=h,n}function Ii(t,n,o,l){return t=an(7,t,l,n),t.lanes=o,t}function cd(t,n,o){return t=an(6,t,null,n),t.lanes=o,t}function Om(t){var n=an(18,null,null,0);return n.stateNode=t,n}function ud(t,n,o){return n=an(4,t.children!==null?t.children:[],t.key,n),n.lanes=o,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Im=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var o=Im.get(t);return o!==void 0?o:(n={value:t,source:n,stack:Qs(n)},Im.set(t,n),n)}return{value:t,source:n,stack:Qs(n)}}var fr=[],gr=0,pl=null,Io=0,Cn=[],En=0,Ha=null,zn=1,Kn="";function oa(t,n){fr[gr++]=Io,fr[gr++]=pl,pl=t,Io=n}function km(t,n,o){Cn[En++]=zn,Cn[En++]=Kn,Cn[En++]=Ha,Ha=t;var l=zn;t=Kn;var u=32-tn(l)-1;l&=~(1<<u),o+=1;var h=32-tn(n)+u;if(30<h){var m=u-u%5;h=(l&(1<<m)-1).toString(32),l>>=m,u-=m,zn=1<<32-tn(n)+u|o<<u|l,Kn=h+t}else zn=1<<h|o<<u|l,Kn=t}function dd(t){t.return!==null&&(oa(t,1),km(t,1,0))}function hd(t){for(;t===pl;)pl=fr[--gr],fr[gr]=null,Io=fr[--gr],fr[gr]=null;for(;t===Ha;)Ha=Cn[--En],Cn[En]=null,Kn=Cn[--En],Cn[En]=null,zn=Cn[--En],Cn[En]=null}function Nm(t,n){Cn[En++]=zn,Cn[En++]=Kn,Cn[En++]=Ha,zn=n.id,Kn=n.overflow,Ha=t}var At=null,Je=null,Ie=!1,Ba=null,Tn=!1,fd=Error(r(519));function Ga(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ko(vn(n,t)),fd}function Mm(t){var n=t.stateNode,o=t.type,l=t.memoizedProps;switch(n[St]=t,n[Kt]=l,o){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(o=0;o<Jo.length;o++)Re(Jo[o],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":Re("invalid",n),Fp(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",n);break;case"textarea":Re("invalid",n),Yp(n,l.value,l.defaultValue,l.children)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||l.suppressHydrationWarning===!0||$v(n.textContent,o)?(l.popover!=null&&(Re("beforetoggle",n),Re("toggle",n)),l.onScroll!=null&&Re("scroll",n),l.onScrollEnd!=null&&Re("scrollend",n),l.onClick!=null&&(n.onclick=aa),n=!0):n=!1,n||Ga(t,!0)}function Dm(t){for(At=t.return;At;)switch(At.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:At=At.return}}function pr(t){if(t!==At)return!1;if(!Ie)return Dm(t),Ie=!0,!1;var n=t.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Nh(t.type,t.memoizedProps)),o=!o),o&&Je&&Ga(t),Dm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Je=iC(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Je=iC(t)}else n===27?(n=Je,ei(t.type)?(t=Lh,Lh=null,Je=t):Je=n):Je=At?An(t.stateNode.nextSibling):null;return!0}function ki(){Je=At=null,Ie=!1}function gd(){var t=Ba;return t!==null&&(Yt===null?Yt=t:Yt.push.apply(Yt,t),Ba=null),t}function ko(t){Ba===null?Ba=[t]:Ba.push(t)}var pd=_(null),Ni=null,sa=null;function za(t,n,o){ee(pd,n._currentValue),n._currentValue=o}function la(t){t._currentValue=pd.current,G(pd)}function md(t,n,o){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===o)break;t=t.return}}function yd(t,n,o,l){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var h=u.dependencies;if(h!==null){var m=u.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=u;for(var A=0;A<n.length;A++)if(E.context===n[A]){h.lanes|=o,E=h.alternate,E!==null&&(E.lanes|=o),md(h.return,o,t),l||(m=null);break e}h=E.next}}else if(u.tag===18){if(m=u.return,m===null)throw Error(r(341));m.lanes|=o,h=m.alternate,h!==null&&(h.lanes|=o),md(m,o,t),m=null}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===t){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}}function mr(t,n,o,l){t=null;for(var u=n,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var m=u.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var E=u.type;nn(u.pendingProps.value,m.value)||(t!==null?t.push(E):t=[E])}}else if(u===we.current){if(m=u.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(as):t=[as])}u=u.return}t!==null&&yd(n,t,o,l),n.flags|=262144}function ml(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mi(t){Ni=t,sa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function wt(t){return xm(Ni,t)}function yl(t,n){return Ni===null&&Mi(t),xm(t,n)}function xm(t,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},sa===null){if(t===null)throw Error(r(308));sa=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else sa=sa.next=n;return o}var V_=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(o,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(o){return o()})}},$_=i.unstable_scheduleCallback,W_=i.unstable_NormalPriority,ct={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vd(){return{controller:new V_,data:new Map,refCount:0}}function No(t){t.refCount--,t.refCount===0&&$_(W_,function(){t.controller.abort()})}var Mo=null,Cd=0,yr=0,vr=null;function X_(t,n){if(Mo===null){var o=Mo=[];Cd=0,yr=Sh(),vr={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Cd++,n.then(Um,Um),n}function Um(){if(--Cd===0&&Mo!==null){vr!==null&&(vr.status="fulfilled");var t=Mo;Mo=null,yr=0,vr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function J_(t,n){var o=[],l={status:"pending",value:null,reason:null,then:function(u){o.push(u)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<o.length;u++)(0,o[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<o.length;u++)(0,o[u])(void 0)}),l}var Lm=N.S;N.S=function(t,n){Cv=Tt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&X_(t,n),Lm!==null&&Lm(t,n)};var Di=_(null);function Ed(){var t=Di.current;return t!==null?t:Ve.pooledCache}function vl(t,n){n===null?ee(Di,Di.current):ee(Di,n.pool)}function Pm(){var t=Ed();return t===null?null:{parent:ct._currentValue,pool:t}}var Cr=Error(r(460)),Td=Error(r(474)),Cl=Error(r(542)),El={then:function(){}};function Hm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bm(t,n,o){switch(o=t[o],o===void 0?t.push(n):o!==n&&(n.then(aa,aa),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,zm(t),t;default:if(typeof n.status=="string")n.then(aa,aa);else{if(t=Ve,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,zm(t),t}throw Ui=n,Cr}}function xi(t){try{var n=t._init;return n(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ui=o,Cr):o}}var Ui=null;function Gm(){if(Ui===null)throw Error(r(459));var t=Ui;return Ui=null,t}function zm(t){if(t===Cr||t===Cl)throw Error(r(483))}var Er=null,Do=0;function Tl(t){var n=Do;return Do+=1,Er===null&&(Er=[]),Bm(Er,t,n)}function xo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Sl(t,n){throw n.$$typeof===T?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Km(t){function n(k,b){if(t){var D=k.deletions;D===null?(k.deletions=[b],k.flags|=16):D.push(b)}}function o(k,b){if(!t)return null;for(;b!==null;)n(k,b),b=b.sibling;return null}function l(k){for(var b=new Map;k!==null;)k.key!==null?b.set(k.key,k):b.set(k.index,k),k=k.sibling;return b}function u(k,b){return k=ra(k,b),k.index=0,k.sibling=null,k}function h(k,b,D){return k.index=D,t?(D=k.alternate,D!==null?(D=D.index,D<b?(k.flags|=67108866,b):D):(k.flags|=67108866,b)):(k.flags|=1048576,b)}function m(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,b,D,j){return b===null||b.tag!==6?(b=cd(D,k.mode,j),b.return=k,b):(b=u(b,D),b.return=k,b)}function A(k,b,D,j){var me=D.type;return me===M?z(k,b,D.props.children,j,D.key):b!==null&&(b.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===de&&xi(me)===b.type)?(b=u(b,D.props),xo(b,D),b.return=k,b):(b=gl(D.type,D.key,D.props,null,k.mode,j),xo(b,D),b.return=k,b)}function x(k,b,D,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==D.containerInfo||b.stateNode.implementation!==D.implementation?(b=ud(D,k.mode,j),b.return=k,b):(b=u(b,D.children||[]),b.return=k,b)}function z(k,b,D,j,me){return b===null||b.tag!==7?(b=Ii(D,k.mode,j,me),b.return=k,b):(b=u(b,D),b.return=k,b)}function Q(k,b,D){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=cd(""+b,k.mode,D),b.return=k,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case S:return D=gl(b.type,b.key,b.props,null,k.mode,D),xo(D,b),D.return=k,D;case O:return b=ud(b,k.mode,D),b.return=k,b;case de:return b=xi(b),Q(k,b,D)}if(re(b)||q(b))return b=Ii(b,k.mode,D,null),b.return=k,b;if(typeof b.then=="function")return Q(k,Tl(b),D);if(b.$$typeof===B)return Q(k,yl(k,b),D);Sl(k,b)}return null}function U(k,b,D,j){var me=b!==null?b.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return me!==null?null:E(k,b,""+D,j);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case S:return D.key===me?A(k,b,D,j):null;case O:return D.key===me?x(k,b,D,j):null;case de:return D=xi(D),U(k,b,D,j)}if(re(D)||q(D))return me!==null?null:z(k,b,D,j,null);if(typeof D.then=="function")return U(k,b,Tl(D),j);if(D.$$typeof===B)return U(k,b,yl(k,D),j);Sl(k,D)}return null}function H(k,b,D,j,me){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return k=k.get(D)||null,E(b,k,""+j,me);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return k=k.get(j.key===null?D:j.key)||null,A(b,k,j,me);case O:return k=k.get(j.key===null?D:j.key)||null,x(b,k,j,me);case de:return j=xi(j),H(k,b,D,j,me)}if(re(j)||q(j))return k=k.get(D)||null,z(b,k,j,me,null);if(typeof j.then=="function")return H(k,b,D,Tl(j),me);if(j.$$typeof===B)return H(k,b,D,yl(b,j),me);Sl(b,j)}return null}function ue(k,b,D,j){for(var me=null,Ne=null,fe=b,Se=b=0,Oe=null;fe!==null&&Se<D.length;Se++){fe.index>Se?(Oe=fe,fe=null):Oe=fe.sibling;var Me=U(k,fe,D[Se],j);if(Me===null){fe===null&&(fe=Oe);break}t&&fe&&Me.alternate===null&&n(k,fe),b=h(Me,b,Se),Ne===null?me=Me:Ne.sibling=Me,Ne=Me,fe=Oe}if(Se===D.length)return o(k,fe),Ie&&oa(k,Se),me;if(fe===null){for(;Se<D.length;Se++)fe=Q(k,D[Se],j),fe!==null&&(b=h(fe,b,Se),Ne===null?me=fe:Ne.sibling=fe,Ne=fe);return Ie&&oa(k,Se),me}for(fe=l(fe);Se<D.length;Se++)Oe=H(fe,k,Se,D[Se],j),Oe!==null&&(t&&Oe.alternate!==null&&fe.delete(Oe.key===null?Se:Oe.key),b=h(Oe,b,Se),Ne===null?me=Oe:Ne.sibling=Oe,Ne=Oe);return t&&fe.forEach(function(ri){return n(k,ri)}),Ie&&oa(k,Se),me}function ye(k,b,D,j){if(D==null)throw Error(r(151));for(var me=null,Ne=null,fe=b,Se=b=0,Oe=null,Me=D.next();fe!==null&&!Me.done;Se++,Me=D.next()){fe.index>Se?(Oe=fe,fe=null):Oe=fe.sibling;var ri=U(k,fe,Me.value,j);if(ri===null){fe===null&&(fe=Oe);break}t&&fe&&ri.alternate===null&&n(k,fe),b=h(ri,b,Se),Ne===null?me=ri:Ne.sibling=ri,Ne=ri,fe=Oe}if(Me.done)return o(k,fe),Ie&&oa(k,Se),me;if(fe===null){for(;!Me.done;Se++,Me=D.next())Me=Q(k,Me.value,j),Me!==null&&(b=h(Me,b,Se),Ne===null?me=Me:Ne.sibling=Me,Ne=Me);return Ie&&oa(k,Se),me}for(fe=l(fe);!Me.done;Se++,Me=D.next())Me=H(fe,k,Se,Me.value,j),Me!==null&&(t&&Me.alternate!==null&&fe.delete(Me.key===null?Se:Me.key),b=h(Me,b,Se),Ne===null?me=Me:Ne.sibling=Me,Ne=Me);return t&&fe.forEach(function(cb){return n(k,cb)}),Ie&&oa(k,Se),me}function qe(k,b,D,j){if(typeof D=="object"&&D!==null&&D.type===M&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case S:e:{for(var me=D.key;b!==null;){if(b.key===me){if(me=D.type,me===M){if(b.tag===7){o(k,b.sibling),j=u(b,D.props.children),j.return=k,k=j;break e}}else if(b.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===de&&xi(me)===b.type){o(k,b.sibling),j=u(b,D.props),xo(j,D),j.return=k,k=j;break e}o(k,b);break}else n(k,b);b=b.sibling}D.type===M?(j=Ii(D.props.children,k.mode,j,D.key),j.return=k,k=j):(j=gl(D.type,D.key,D.props,null,k.mode,j),xo(j,D),j.return=k,k=j)}return m(k);case O:e:{for(me=D.key;b!==null;){if(b.key===me)if(b.tag===4&&b.stateNode.containerInfo===D.containerInfo&&b.stateNode.implementation===D.implementation){o(k,b.sibling),j=u(b,D.children||[]),j.return=k,k=j;break e}else{o(k,b);break}else n(k,b);b=b.sibling}j=ud(D,k.mode,j),j.return=k,k=j}return m(k);case de:return D=xi(D),qe(k,b,D,j)}if(re(D))return ue(k,b,D,j);if(q(D)){if(me=q(D),typeof me!="function")throw Error(r(150));return D=me.call(D),ye(k,b,D,j)}if(typeof D.then=="function")return qe(k,b,Tl(D),j);if(D.$$typeof===B)return qe(k,b,yl(k,D),j);Sl(k,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,b!==null&&b.tag===6?(o(k,b.sibling),j=u(b,D),j.return=k,k=j):(o(k,b),j=cd(D,k.mode,j),j.return=k,k=j),m(k)):o(k,b)}return function(k,b,D,j){try{Do=0;var me=qe(k,b,D,j);return Er=null,me}catch(fe){if(fe===Cr||fe===Cl)throw fe;var Ne=an(29,fe,null,k.mode);return Ne.lanes=j,Ne.return=k,Ne}finally{}}}var Li=Km(!0),jm=Km(!1),Ka=!1;function Sd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ja(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qa(t,n,o){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(xe&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=fl(t),Rm(t,null,o),n}return hl(t,l,n,o),fl(t)}function Uo(t,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,o|=l,n.lanes=o,xp(t,o)}}function wd(t,n){var o=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var u=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var m={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};h===null?u=h=m:h=h.next=m,o=o.next}while(o!==null);h===null?u=h=n:h=h.next=n}else u=h=n;o={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=n:t.next=n,o.lastBaseUpdate=n}var _d=!1;function Lo(){if(_d){var t=vr;if(t!==null)throw t}}function Po(t,n,o,l){_d=!1;var u=t.updateQueue;Ka=!1;var h=u.firstBaseUpdate,m=u.lastBaseUpdate,E=u.shared.pending;if(E!==null){u.shared.pending=null;var A=E,x=A.next;A.next=null,m===null?h=x:m.next=x,m=A;var z=t.alternate;z!==null&&(z=z.updateQueue,E=z.lastBaseUpdate,E!==m&&(E===null?z.firstBaseUpdate=x:E.next=x,z.lastBaseUpdate=A))}if(h!==null){var Q=u.baseState;m=0,z=x=A=null,E=h;do{var U=E.lane&-536870913,H=U!==E.lane;if(H?(be&U)===U:(l&U)===U){U!==0&&U===yr&&(_d=!0),z!==null&&(z=z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,ye=E;U=n;var qe=o;switch(ye.tag){case 1:if(ue=ye.payload,typeof ue=="function"){Q=ue.call(qe,Q,U);break e}Q=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ye.payload,U=typeof ue=="function"?ue.call(qe,Q,U):ue,U==null)break e;Q=v({},Q,U);break e;case 2:Ka=!0}}U=E.callback,U!==null&&(t.flags|=64,H&&(t.flags|=8192),H=u.callbacks,H===null?u.callbacks=[U]:H.push(U))}else H={lane:U,tag:E.tag,payload:E.payload,callback:E.callback,next:null},z===null?(x=z=H,A=Q):z=z.next=H,m|=U;if(E=E.next,E===null){if(E=u.shared.pending,E===null)break;H=E,E=H.next,H.next=null,u.lastBaseUpdate=H,u.shared.pending=null}}while(!0);z===null&&(A=Q),u.baseState=A,u.firstBaseUpdate=x,u.lastBaseUpdate=z,h===null&&(u.shared.lanes=0),$a|=m,t.lanes=m,t.memoizedState=Q}}function qm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Fm(t,n){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)qm(o[t],n)}var Tr=_(null),Al=_(0);function Qm(t,n){t=ya,ee(Al,t),ee(Tr,n),ya=t|n.baseLanes}function Rd(){ee(Al,ya),ee(Tr,Tr.current)}function bd(){ya=Al.current,G(Tr),G(Al)}var rn=_(null),Sn=null;function Fa(t){var n=t.alternate;ee(ot,ot.current&1),ee(rn,t),Sn===null&&(n===null||Tr.current!==null||n.memoizedState!==null)&&(Sn=t)}function Od(t){ee(ot,ot.current),ee(rn,t),Sn===null&&(Sn=t)}function Ym(t){t.tag===22?(ee(ot,ot.current),ee(rn,t),Sn===null&&(Sn=t)):Qa()}function Qa(){ee(ot,ot.current),ee(rn,rn.current)}function on(t){G(rn),Sn===t&&(Sn=null),G(ot)}var ot=_(0);function wl(t){for(var n=t;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||xh(o)||Uh(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ca=0,Te=null,Ke=null,ut=null,_l=!1,Sr=!1,Pi=!1,Rl=0,Ho=0,Ar=null,Z_=0;function at(){throw Error(r(321))}function Id(t,n){if(n===null)return!1;for(var o=0;o<n.length&&o<t.length;o++)if(!nn(t[o],n[o]))return!1;return!0}function kd(t,n,o,l,u,h){return ca=h,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,N.H=t===null||t.memoizedState===null?ky:Fd,Pi=!1,h=o(l,u),Pi=!1,Sr&&(h=$m(n,o,l,u)),Vm(t),h}function Vm(t){N.H=zo;var n=Ke!==null&&Ke.next!==null;if(ca=0,ut=Ke=Te=null,_l=!1,Ho=0,Ar=null,n)throw Error(r(300));t===null||dt||(t=t.dependencies,t!==null&&ml(t)&&(dt=!0))}function $m(t,n,o,l){Te=t;var u=0;do{if(Sr&&(Ar=null),Ho=0,Sr=!1,25<=u)throw Error(r(301));if(u+=1,ut=Ke=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}N.H=Ny,h=n(o,l)}while(Sr);return h}function eR(){var t=N.H,n=t.useState()[0];return n=typeof n.then=="function"?Bo(n):n,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Te.flags|=1024),n}function Nd(){var t=Rl!==0;return Rl=0,t}function Md(t,n,o){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~o}function Dd(t){if(_l){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}_l=!1}ca=0,ut=Ke=Te=null,Sr=!1,Ho=Rl=0,Ar=null}function Pt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Te.memoizedState=ut=t:ut=ut.next=t,ut}function st(){if(Ke===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var n=ut===null?Te.memoizedState:ut.next;if(n!==null)ut=n,Ke=t;else{if(t===null)throw Te.alternate===null?Error(r(467)):Error(r(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},ut===null?Te.memoizedState=ut=t:ut=ut.next=t}return ut}function bl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(t){var n=Ho;return Ho+=1,Ar===null&&(Ar=[]),t=Bm(Ar,t,n),n=Te,(ut===null?n.memoizedState:ut.next)===null&&(n=n.alternate,N.H=n===null||n.memoizedState===null?ky:Fd),t}function Ol(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bo(t);if(t.$$typeof===B)return wt(t)}throw Error(r(438,String(t)))}function xd(t){var n=null,o=Te.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=bl(),Te.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(t),l=0;l<t;l++)o[l]=ve;return n.index++,o}function ua(t,n){return typeof n=="function"?n(t):n}function Il(t){var n=st();return Ud(n,Ke,t)}function Ud(t,n,o){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=o;var u=t.baseQueue,h=l.pending;if(h!==null){if(u!==null){var m=u.next;u.next=h.next,h.next=m}n.baseQueue=u=h,l.pending=null}if(h=t.baseState,u===null)t.memoizedState=h;else{n=u.next;var E=m=null,A=null,x=n,z=!1;do{var Q=x.lane&-536870913;if(Q!==x.lane?(be&Q)===Q:(ca&Q)===Q){var U=x.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),Q===yr&&(z=!0);else if((ca&U)===U){x=x.next,U===yr&&(z=!0);continue}else Q={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},A===null?(E=A=Q,m=h):A=A.next=Q,Te.lanes|=U,$a|=U;Q=x.action,Pi&&o(h,Q),h=x.hasEagerState?x.eagerState:o(h,Q)}else U={lane:Q,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},A===null?(E=A=U,m=h):A=A.next=U,Te.lanes|=Q,$a|=Q;x=x.next}while(x!==null&&x!==n);if(A===null?m=h:A.next=E,!nn(h,t.memoizedState)&&(dt=!0,z&&(o=vr,o!==null)))throw o;t.memoizedState=h,t.baseState=m,t.baseQueue=A,l.lastRenderedState=h}return u===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ld(t){var n=st(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var l=o.dispatch,u=o.pending,h=n.memoizedState;if(u!==null){o.pending=null;var m=u=u.next;do h=t(h,m.action),m=m.next;while(m!==u);nn(h,n.memoizedState)||(dt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),o.lastRenderedState=h}return[h,l]}function Wm(t,n,o){var l=Te,u=st(),h=Ie;if(h){if(o===void 0)throw Error(r(407));o=o()}else o=n();var m=!nn((Ke||u).memoizedState,o);if(m&&(u.memoizedState=o,dt=!0),u=u.queue,Bd(Zm.bind(null,l,u,t),[t]),u.getSnapshot!==n||m||ut!==null&&ut.memoizedState.tag&1){if(l.flags|=2048,wr(9,{destroy:void 0},Jm.bind(null,l,u,o,n),null),Ve===null)throw Error(r(349));h||(ca&127)!==0||Xm(l,n,o)}return o}function Xm(t,n,o){t.flags|=16384,t={getSnapshot:n,value:o},n=Te.updateQueue,n===null?(n=bl(),Te.updateQueue=n,n.stores=[t]):(o=n.stores,o===null?n.stores=[t]:o.push(t))}function Jm(t,n,o,l){n.value=o,n.getSnapshot=l,ey(n)&&ty(t)}function Zm(t,n,o){return o(function(){ey(n)&&ty(t)})}function ey(t){var n=t.getSnapshot;t=t.value;try{var o=n();return!nn(t,o)}catch{return!0}}function ty(t){var n=Oi(t,2);n!==null&&Vt(n,t,2)}function Pd(t){var n=Pt();if(typeof t=="function"){var o=t;if(t=o(),Pi){Ua(!0);try{o()}finally{Ua(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:t},n}function ny(t,n,o,l){return t.baseState=o,Ud(t,Ke,typeof l=="function"?l:ua)}function tR(t,n,o,l,u){if(Ml(t))throw Error(r(485));if(t=n.action,t!==null){var h={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){h.listeners.push(m)}};N.T!==null?o(!0):h.isTransition=!1,l(h),o=n.pending,o===null?(h.next=n.pending=h,ay(n,h)):(h.next=o.next,n.pending=o.next=h)}}function ay(t,n){var o=n.action,l=n.payload,u=t.state;if(n.isTransition){var h=N.T,m={};N.T=m;try{var E=o(u,l),A=N.S;A!==null&&A(m,E),iy(t,n,E)}catch(x){Hd(t,n,x)}finally{h!==null&&m.types!==null&&(h.types=m.types),N.T=h}}else try{h=o(u,l),iy(t,n,h)}catch(x){Hd(t,n,x)}}function iy(t,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){ry(t,n,l)},function(l){return Hd(t,n,l)}):ry(t,n,o)}function ry(t,n,o){n.status="fulfilled",n.value=o,oy(n),t.state=o,n=t.pending,n!==null&&(o=n.next,o===n?t.pending=null:(o=o.next,n.next=o,ay(t,o)))}function Hd(t,n,o){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=o,oy(n),n=n.next;while(n!==l)}t.action=null}function oy(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function sy(t,n){return n}function ly(t,n){if(Ie){var o=Ve.formState;if(o!==null){e:{var l=Te;if(Ie){if(Je){t:{for(var u=Je,h=Tn;u.nodeType!==8;){if(!h){u=null;break t}if(u=An(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){Je=An(u.nextSibling),l=u.data==="F!";break e}}Ga(l)}l=!1}l&&(n=o[0])}}return o=Pt(),o.memoizedState=o.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sy,lastRenderedState:n},o.queue=l,o=by.bind(null,Te,l),l.dispatch=o,l=Pd(!1),h=qd.bind(null,Te,!1,l.queue),l=Pt(),u={state:n,dispatch:null,action:t,pending:null},l.queue=u,o=tR.bind(null,Te,u,h,o),u.dispatch=o,l.memoizedState=t,[n,o,!1]}function cy(t){var n=st();return uy(n,Ke,t)}function uy(t,n,o){if(n=Ud(t,n,sy)[0],t=Il(ua)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Bo(n)}catch(m){throw m===Cr?Cl:m}else l=n;n=st();var u=n.queue,h=u.dispatch;return o!==n.memoizedState&&(Te.flags|=2048,wr(9,{destroy:void 0},nR.bind(null,u,o),null)),[l,h,t]}function nR(t,n){t.action=n}function dy(t){var n=st(),o=Ke;if(o!==null)return uy(n,o,t);st(),n=n.memoizedState,o=st();var l=o.queue.dispatch;return o.memoizedState=t,[n,l,!1]}function wr(t,n,o,l){return t={tag:t,create:o,deps:l,inst:n,next:null},n=Te.updateQueue,n===null&&(n=bl(),Te.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=t.next=t:(l=o.next,o.next=t,t.next=l,n.lastEffect=t),t}function hy(){return st().memoizedState}function kl(t,n,o,l){var u=Pt();Te.flags|=t,u.memoizedState=wr(1|n,{destroy:void 0},o,l===void 0?null:l)}function Nl(t,n,o,l){var u=st();l=l===void 0?null:l;var h=u.memoizedState.inst;Ke!==null&&l!==null&&Id(l,Ke.memoizedState.deps)?u.memoizedState=wr(n,h,o,l):(Te.flags|=t,u.memoizedState=wr(1|n,h,o,l))}function fy(t,n){kl(8390656,8,t,n)}function Bd(t,n){Nl(2048,8,t,n)}function aR(t){Te.flags|=4;var n=Te.updateQueue;if(n===null)n=bl(),Te.updateQueue=n,n.events=[t];else{var o=n.events;o===null?n.events=[t]:o.push(t)}}function gy(t){var n=st().memoizedState;return aR({ref:n,nextImpl:t}),function(){if((xe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function py(t,n){return Nl(4,2,t,n)}function my(t,n){return Nl(4,4,t,n)}function yy(t,n){if(typeof n=="function"){t=t();var o=n(t);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function vy(t,n,o){o=o!=null?o.concat([t]):null,Nl(4,4,yy.bind(null,n,t),o)}function Gd(){}function Cy(t,n){var o=st();n=n===void 0?null:n;var l=o.memoizedState;return n!==null&&Id(n,l[1])?l[0]:(o.memoizedState=[t,n],t)}function Ey(t,n){var o=st();n=n===void 0?null:n;var l=o.memoizedState;if(n!==null&&Id(n,l[1]))return l[0];if(l=t(),Pi){Ua(!0);try{t()}finally{Ua(!1)}}return o.memoizedState=[l,n],l}function zd(t,n,o){return o===void 0||(ca&1073741824)!==0&&(be&261930)===0?t.memoizedState=n:(t.memoizedState=o,t=Tv(),Te.lanes|=t,$a|=t,o)}function Ty(t,n,o,l){return nn(o,n)?o:Tr.current!==null?(t=zd(t,o,l),nn(t,n)||(dt=!0),t):(ca&42)===0||(ca&1073741824)!==0&&(be&261930)===0?(dt=!0,t.memoizedState=o):(t=Tv(),Te.lanes|=t,$a|=t,n)}function Sy(t,n,o,l,u){var h=F.p;F.p=h!==0&&8>h?h:8;var m=N.T,E={};N.T=E,qd(t,!1,n,o);try{var A=u(),x=N.S;if(x!==null&&x(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var z=J_(A,l);Go(t,n,z,cn(t))}else Go(t,n,l,cn(t))}catch(Q){Go(t,n,{then:function(){},status:"rejected",reason:Q},cn())}finally{F.p=h,m!==null&&E.types!==null&&(m.types=E.types),N.T=m}}function iR(){}function Kd(t,n,o,l){if(t.tag!==5)throw Error(r(476));var u=Ay(t).queue;Sy(t,u,n,X,o===null?iR:function(){return wy(t),o(l)})}function Ay(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:X},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:o},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function wy(t){var n=Ay(t);n.next===null&&(n=t.alternate.memoizedState),Go(t,n.next.queue,{},cn())}function jd(){return wt(as)}function _y(){return st().memoizedState}function Ry(){return st().memoizedState}function rR(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var o=cn();t=ja(o);var l=qa(n,t,o);l!==null&&(Vt(l,n,o),Uo(l,n,o)),n={cache:vd()},t.payload=n;return}n=n.return}}function oR(t,n,o){var l=cn();o={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ml(t)?Oy(n,o):(o=sd(t,n,o,l),o!==null&&(Vt(o,t,l),Iy(o,n,l)))}function by(t,n,o){var l=cn();Go(t,n,o,l)}function Go(t,n,o,l){var u={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ml(t))Oy(n,u);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var m=n.lastRenderedState,E=h(m,o);if(u.hasEagerState=!0,u.eagerState=E,nn(E,m))return hl(t,n,u,0),Ve===null&&dl(),!1}catch{}finally{}if(o=sd(t,n,u,l),o!==null)return Vt(o,t,l),Iy(o,n,l),!0}return!1}function qd(t,n,o,l){if(l={lane:2,revertLane:Sh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ml(t)){if(n)throw Error(r(479))}else n=sd(t,o,l,2),n!==null&&Vt(n,t,2)}function Ml(t){var n=t.alternate;return t===Te||n!==null&&n===Te}function Oy(t,n){Sr=_l=!0;var o=t.pending;o===null?n.next=n:(n.next=o.next,o.next=n),t.pending=n}function Iy(t,n,o){if((o&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,o|=l,n.lanes=o,xp(t,o)}}var zo={readContext:wt,use:Ol,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};zo.useEffectEvent=at;var ky={readContext:wt,use:Ol,useCallback:function(t,n){return Pt().memoizedState=[t,n===void 0?null:n],t},useContext:wt,useEffect:fy,useImperativeHandle:function(t,n,o){o=o!=null?o.concat([t]):null,kl(4194308,4,yy.bind(null,n,t),o)},useLayoutEffect:function(t,n){return kl(4194308,4,t,n)},useInsertionEffect:function(t,n){kl(4,2,t,n)},useMemo:function(t,n){var o=Pt();n=n===void 0?null:n;var l=t();if(Pi){Ua(!0);try{t()}finally{Ua(!1)}}return o.memoizedState=[l,n],l},useReducer:function(t,n,o){var l=Pt();if(o!==void 0){var u=o(n);if(Pi){Ua(!0);try{o(n)}finally{Ua(!1)}}}else u=n;return l.memoizedState=l.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},l.queue=t,t=t.dispatch=oR.bind(null,Te,t),[l.memoizedState,t]},useRef:function(t){var n=Pt();return t={current:t},n.memoizedState=t},useState:function(t){t=Pd(t);var n=t.queue,o=by.bind(null,Te,n);return n.dispatch=o,[t.memoizedState,o]},useDebugValue:Gd,useDeferredValue:function(t,n){var o=Pt();return zd(o,t,n)},useTransition:function(){var t=Pd(!1);return t=Sy.bind(null,Te,t.queue,!0,!1),Pt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,o){var l=Te,u=Pt();if(Ie){if(o===void 0)throw Error(r(407));o=o()}else{if(o=n(),Ve===null)throw Error(r(349));(be&127)!==0||Xm(l,n,o)}u.memoizedState=o;var h={value:o,getSnapshot:n};return u.queue=h,fy(Zm.bind(null,l,h,t),[t]),l.flags|=2048,wr(9,{destroy:void 0},Jm.bind(null,l,h,o,n),null),o},useId:function(){var t=Pt(),n=Ve.identifierPrefix;if(Ie){var o=Kn,l=zn;o=(l&~(1<<32-tn(l)-1)).toString(32)+o,n="_"+n+"R_"+o,o=Rl++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=Z_++,n="_"+n+"r_"+o.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:jd,useFormState:ly,useActionState:ly,useOptimistic:function(t){var n=Pt();n.memoizedState=n.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=qd.bind(null,Te,!0,o),o.dispatch=n,[t,n]},useMemoCache:xd,useCacheRefresh:function(){return Pt().memoizedState=rR.bind(null,Te)},useEffectEvent:function(t){var n=Pt(),o={impl:t};return n.memoizedState=o,function(){if((xe&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Fd={readContext:wt,use:Ol,useCallback:Cy,useContext:wt,useEffect:Bd,useImperativeHandle:vy,useInsertionEffect:py,useLayoutEffect:my,useMemo:Ey,useReducer:Il,useRef:hy,useState:function(){return Il(ua)},useDebugValue:Gd,useDeferredValue:function(t,n){var o=st();return Ty(o,Ke.memoizedState,t,n)},useTransition:function(){var t=Il(ua)[0],n=st().memoizedState;return[typeof t=="boolean"?t:Bo(t),n]},useSyncExternalStore:Wm,useId:_y,useHostTransitionStatus:jd,useFormState:cy,useActionState:cy,useOptimistic:function(t,n){var o=st();return ny(o,Ke,t,n)},useMemoCache:xd,useCacheRefresh:Ry};Fd.useEffectEvent=gy;var Ny={readContext:wt,use:Ol,useCallback:Cy,useContext:wt,useEffect:Bd,useImperativeHandle:vy,useInsertionEffect:py,useLayoutEffect:my,useMemo:Ey,useReducer:Ld,useRef:hy,useState:function(){return Ld(ua)},useDebugValue:Gd,useDeferredValue:function(t,n){var o=st();return Ke===null?zd(o,t,n):Ty(o,Ke.memoizedState,t,n)},useTransition:function(){var t=Ld(ua)[0],n=st().memoizedState;return[typeof t=="boolean"?t:Bo(t),n]},useSyncExternalStore:Wm,useId:_y,useHostTransitionStatus:jd,useFormState:dy,useActionState:dy,useOptimistic:function(t,n){var o=st();return Ke!==null?ny(o,Ke,t,n):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:xd,useCacheRefresh:Ry};Ny.useEffectEvent=gy;function Qd(t,n,o,l){n=t.memoizedState,o=o(l,n),o=o==null?n:v({},n,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Yd={enqueueSetState:function(t,n,o){t=t._reactInternals;var l=cn(),u=ja(l);u.payload=n,o!=null&&(u.callback=o),n=qa(t,u,l),n!==null&&(Vt(n,t,l),Uo(n,t,l))},enqueueReplaceState:function(t,n,o){t=t._reactInternals;var l=cn(),u=ja(l);u.tag=1,u.payload=n,o!=null&&(u.callback=o),n=qa(t,u,l),n!==null&&(Vt(n,t,l),Uo(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var o=cn(),l=ja(o);l.tag=2,n!=null&&(l.callback=n),n=qa(t,l,o),n!==null&&(Vt(n,t,o),Uo(n,t,o))}};function My(t,n,o,l,u,h,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,m):n.prototype&&n.prototype.isPureReactComponent?!bo(o,l)||!bo(u,h):!0}function Dy(t,n,o,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,l),n.state!==t&&Yd.enqueueReplaceState(n,n.state,null)}function Hi(t,n){var o=n;if("ref"in n){o={};for(var l in n)l!=="ref"&&(o[l]=n[l])}if(t=t.defaultProps){o===n&&(o=v({},o));for(var u in t)o[u]===void 0&&(o[u]=t[u])}return o}function xy(t){ul(t)}function Uy(t){console.error(t)}function Ly(t){ul(t)}function Dl(t,n){try{var o=t.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Py(t,n,o){try{var l=t.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Vd(t,n,o){return o=ja(o),o.tag=3,o.payload={element:null},o.callback=function(){Dl(t,n)},o}function Hy(t){return t=ja(t),t.tag=3,t}function By(t,n,o,l){var u=o.type.getDerivedStateFromError;if(typeof u=="function"){var h=l.value;t.payload=function(){return u(h)},t.callback=function(){Py(n,o,l)}}var m=o.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(t.callback=function(){Py(n,o,l),typeof u!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function sR(t,n,o,l,u){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=o.alternate,n!==null&&mr(n,o,u,!0),o=rn.current,o!==null){switch(o.tag){case 31:case 13:return Sn===null?Fl():o.alternate===null&&it===0&&(it=3),o.flags&=-257,o.flags|=65536,o.lanes=u,l===El?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([l]):n.add(l),Ch(t,l,u)),!1;case 22:return o.flags|=65536,l===El?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([l]):o.add(l)),Ch(t,l,u)),!1}throw Error(r(435,o.tag))}return Ch(t,l,u),Fl(),!1}if(Ie)return n=rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==fd&&(t=Error(r(422),{cause:l}),ko(vn(t,o)))):(l!==fd&&(n=Error(r(423),{cause:l}),ko(vn(n,o))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,l=vn(l,o),u=Vd(t.stateNode,l,u),wd(t,u),it!==4&&(it=2)),!1;var h=Error(r(520),{cause:l});if(h=vn(h,o),$o===null?$o=[h]:$o.push(h),it!==4&&(it=2),n===null)return!0;l=vn(l,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,t=u&-u,o.lanes|=t,t=Vd(o.stateNode,l,t),wd(o,t),!1;case 1:if(n=o.type,h=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Wa===null||!Wa.has(h))))return o.flags|=65536,u&=-u,o.lanes|=u,u=Hy(u),By(u,t,o,l),wd(o,u),!1}o=o.return}while(o!==null);return!1}var $d=Error(r(461)),dt=!1;function _t(t,n,o,l){n.child=t===null?jm(n,null,o,l):Li(n,t.child,o,l)}function Gy(t,n,o,l,u){o=o.render;var h=n.ref;if("ref"in l){var m={};for(var E in l)E!=="ref"&&(m[E]=l[E])}else m=l;return Mi(n),l=kd(t,n,o,m,h,u),E=Nd(),t!==null&&!dt?(Md(t,n,u),da(t,n,u)):(Ie&&E&&dd(n),n.flags|=1,_t(t,n,l,u),n.child)}function zy(t,n,o,l,u){if(t===null){var h=o.type;return typeof h=="function"&&!ld(h)&&h.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=h,Ky(t,n,h,l,u)):(t=gl(o.type,null,l,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!ah(t,u)){var m=h.memoizedProps;if(o=o.compare,o=o!==null?o:bo,o(m,l)&&t.ref===n.ref)return da(t,n,u)}return n.flags|=1,t=ra(h,l),t.ref=n.ref,t.return=n,n.child=t}function Ky(t,n,o,l,u){if(t!==null){var h=t.memoizedProps;if(bo(h,l)&&t.ref===n.ref)if(dt=!1,n.pendingProps=l=h,ah(t,u))(t.flags&131072)!==0&&(dt=!0);else return n.lanes=t.lanes,da(t,n,u)}return Wd(t,n,o,l,u)}function jy(t,n,o,l){var u=l.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|o:o,t!==null){for(l=n.child=t.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~h}else l=0,n.child=null;return qy(t,n,h,o,l)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&vl(n,h!==null?h.cachePool:null),h!==null?Qm(n,h):Rd(),Ym(n);else return l=n.lanes=536870912,qy(t,n,h!==null?h.baseLanes|o:o,o,l)}else h!==null?(vl(n,h.cachePool),Qm(n,h),Qa(),n.memoizedState=null):(t!==null&&vl(n,null),Rd(),Qa());return _t(t,n,u,o),n.child}function Ko(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function qy(t,n,o,l,u){var h=Ed();return h=h===null?null:{parent:ct._currentValue,pool:h},n.memoizedState={baseLanes:o,cachePool:h},t!==null&&vl(n,null),Rd(),Ym(n),t!==null&&mr(t,n,l,!0),n.childLanes=u,null}function xl(t,n){return n=Ll({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Fy(t,n,o){return Li(n,t.child,null,o),t=xl(n,n.pendingProps),t.flags|=2,on(n),n.memoizedState=null,t}function lR(t,n,o){var l=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ie){if(l.mode==="hidden")return t=xl(n,l),n.lanes=536870912,Ko(null,t);if(Od(n),(t=Je)?(t=aC(t,Tn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ha!==null?{id:zn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},o=Om(t),o.return=n,n.child=o,At=n,Je=null)):t=null,t===null)throw Ga(n);return n.lanes=536870912,null}return xl(n,l)}var h=t.memoizedState;if(h!==null){var m=h.dehydrated;if(Od(n),u)if(n.flags&256)n.flags&=-257,n=Fy(t,n,o);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(dt||mr(t,n,o,!1),u=(o&t.childLanes)!==0,dt||u){if(l=Ve,l!==null&&(m=Up(l,o),m!==0&&m!==h.retryLane))throw h.retryLane=m,Oi(t,m),Vt(l,t,m),$d;Fl(),n=Fy(t,n,o)}else t=h.treeContext,Je=An(m.nextSibling),At=n,Ie=!0,Ba=null,Tn=!1,t!==null&&Nm(n,t),n=xl(n,l),n.flags|=4096;return n}return t=ra(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ul(t,n){var o=n.ref;if(o===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(t===null||t.ref!==o)&&(n.flags|=4194816)}}function Wd(t,n,o,l,u){return Mi(n),o=kd(t,n,o,l,void 0,u),l=Nd(),t!==null&&!dt?(Md(t,n,u),da(t,n,u)):(Ie&&l&&dd(n),n.flags|=1,_t(t,n,o,u),n.child)}function Qy(t,n,o,l,u,h){return Mi(n),n.updateQueue=null,o=$m(n,l,o,u),Vm(t),l=Nd(),t!==null&&!dt?(Md(t,n,h),da(t,n,h)):(Ie&&l&&dd(n),n.flags|=1,_t(t,n,o,h),n.child)}function Yy(t,n,o,l,u){if(Mi(n),n.stateNode===null){var h=hr,m=o.contextType;typeof m=="object"&&m!==null&&(h=wt(m)),h=new o(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Yd,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},Sd(n),m=o.contextType,h.context=typeof m=="object"&&m!==null?wt(m):hr,h.state=n.memoizedState,m=o.getDerivedStateFromProps,typeof m=="function"&&(Qd(n,o,m,l),h.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(m=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),m!==h.state&&Yd.enqueueReplaceState(h,h.state,null),Po(n,l,h,u),Lo(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,A=Hi(o,E);h.props=A;var x=h.context,z=o.contextType;m=hr,typeof z=="object"&&z!==null&&(m=wt(z));var Q=o.getDerivedStateFromProps;z=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,z||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||x!==m)&&Dy(n,h,l,m),Ka=!1;var U=n.memoizedState;h.state=U,Po(n,l,h,u),Lo(),x=n.memoizedState,E||U!==x||Ka?(typeof Q=="function"&&(Qd(n,o,Q,l),x=n.memoizedState),(A=Ka||My(n,o,A,l,U,x,m))?(z||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=x),h.props=l,h.state=x,h.context=m,l=A):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Ad(t,n),m=n.memoizedProps,z=Hi(o,m),h.props=z,Q=n.pendingProps,U=h.context,x=o.contextType,A=hr,typeof x=="object"&&x!==null&&(A=wt(x)),E=o.getDerivedStateFromProps,(x=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==Q||U!==A)&&Dy(n,h,l,A),Ka=!1,U=n.memoizedState,h.state=U,Po(n,l,h,u),Lo();var H=n.memoizedState;m!==Q||U!==H||Ka||t!==null&&t.dependencies!==null&&ml(t.dependencies)?(typeof E=="function"&&(Qd(n,o,E,l),H=n.memoizedState),(z=Ka||My(n,o,z,l,U,H,A)||t!==null&&t.dependencies!==null&&ml(t.dependencies))?(x||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,H,A),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,H,A)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||m===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),h.props=l,h.state=H,h.context=A,l=z):(typeof h.componentDidUpdate!="function"||m===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,Ul(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=Li(n,t.child,null,u),n.child=Li(n,null,o,u)):_t(t,n,o,u),n.memoizedState=h.state,t=n.child):t=da(t,n,u),t}function Vy(t,n,o,l){return ki(),n.flags|=256,_t(t,n,o,l),n.child}var Xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jd(t){return{baseLanes:t,cachePool:Pm()}}function Zd(t,n,o){return t=t!==null?t.childLanes&~o:0,n&&(t|=ln),t}function $y(t,n,o){var l=n.pendingProps,u=!1,h=(n.flags&128)!==0,m;if((m=h)||(m=t!==null&&t.memoizedState===null?!1:(ot.current&2)!==0),m&&(u=!0,n.flags&=-129),m=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ie){if(u?Fa(n):Qa(),(t=Je)?(t=aC(t,Tn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ha!==null?{id:zn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},o=Om(t),o.return=n,n.child=o,At=n,Je=null)):t=null,t===null)throw Ga(n);return Uh(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,u?(Qa(),u=n.mode,E=Ll({mode:"hidden",children:E},u),l=Ii(l,u,o,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Jd(o),l.childLanes=Zd(t,m,o),n.memoizedState=Xd,Ko(null,l)):(Fa(n),eh(n,E))}var A=t.memoizedState;if(A!==null&&(E=A.dehydrated,E!==null)){if(h)n.flags&256?(Fa(n),n.flags&=-257,n=th(t,n,o)):n.memoizedState!==null?(Qa(),n.child=t.child,n.flags|=128,n=null):(Qa(),E=l.fallback,u=n.mode,l=Ll({mode:"visible",children:l.children},u),E=Ii(E,u,o,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Li(n,t.child,null,o),l=n.child,l.memoizedState=Jd(o),l.childLanes=Zd(t,m,o),n.memoizedState=Xd,n=Ko(null,l));else if(Fa(n),Uh(E)){if(m=E.nextSibling&&E.nextSibling.dataset,m)var x=m.dgst;m=x,l=Error(r(419)),l.stack="",l.digest=m,ko({value:l,source:null,stack:null}),n=th(t,n,o)}else if(dt||mr(t,n,o,!1),m=(o&t.childLanes)!==0,dt||m){if(m=Ve,m!==null&&(l=Up(m,o),l!==0&&l!==A.retryLane))throw A.retryLane=l,Oi(t,l),Vt(m,t,l),$d;xh(E)||Fl(),n=th(t,n,o)}else xh(E)?(n.flags|=192,n.child=t.child,n=null):(t=A.treeContext,Je=An(E.nextSibling),At=n,Ie=!0,Ba=null,Tn=!1,t!==null&&Nm(n,t),n=eh(n,l.children),n.flags|=4096);return n}return u?(Qa(),E=l.fallback,u=n.mode,A=t.child,x=A.sibling,l=ra(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,x!==null?E=ra(x,E):(E=Ii(E,u,o,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Ko(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Jd(o):(u=E.cachePool,u!==null?(A=ct._currentValue,u=u.parent!==A?{parent:A,pool:A}:u):u=Pm(),E={baseLanes:E.baseLanes|o,cachePool:u}),l.memoizedState=E,l.childLanes=Zd(t,m,o),n.memoizedState=Xd,Ko(t.child,l)):(Fa(n),o=t.child,t=o.sibling,o=ra(o,{mode:"visible",children:l.children}),o.return=n,o.sibling=null,t!==null&&(m=n.deletions,m===null?(n.deletions=[t],n.flags|=16):m.push(t)),n.child=o,n.memoizedState=null,o)}function eh(t,n){return n=Ll({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ll(t,n){return t=an(22,t,null,n),t.lanes=0,t}function th(t,n,o){return Li(n,t.child,null,o),t=eh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Wy(t,n,o){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),md(t.return,n,o)}function nh(t,n,o,l,u,h){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:u,treeForkCount:h}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=o,m.tailMode=u,m.treeForkCount=h)}function Xy(t,n,o){var l=n.pendingProps,u=l.revealOrder,h=l.tail;l=l.children;var m=ot.current,E=(m&2)!==0;if(E?(m=m&1|2,n.flags|=128):m&=1,ee(ot,m),_t(t,n,l,o),l=Ie?Io:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,o,n);else if(t.tag===19)Wy(t,o,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(o=n.child,u=null;o!==null;)t=o.alternate,t!==null&&wl(t)===null&&(u=o),o=o.sibling;o=u,o===null?(u=n.child,n.child=null):(u=o.sibling,o.sibling=null),nh(n,!1,u,o,h,l);break;case"backwards":case"unstable_legacy-backwards":for(o=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&wl(t)===null){n.child=u;break}t=u.sibling,u.sibling=o,o=u,u=t}nh(n,!0,o,null,h,l);break;case"together":nh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function da(t,n,o){if(t!==null&&(n.dependencies=t.dependencies),$a|=n.lanes,(o&n.childLanes)===0)if(t!==null){if(mr(t,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,o=ra(t,t.pendingProps),n.child=o,o.return=n;t.sibling!==null;)t=t.sibling,o=o.sibling=ra(t,t.pendingProps),o.return=n;o.sibling=null}return n.child}function ah(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ml(t)))}function cR(t,n,o){switch(n.tag){case 3:Xe(n,n.stateNode.containerInfo),za(n,ct,t.memoizedState.cache),ki();break;case 27:case 5:In(n);break;case 4:Xe(n,n.stateNode.containerInfo);break;case 10:za(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Od(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Fa(n),n.flags|=128,null):(o&n.child.childLanes)!==0?$y(t,n,o):(Fa(n),t=da(t,n,o),t!==null?t.sibling:null);Fa(n);break;case 19:var u=(t.flags&128)!==0;if(l=(o&n.childLanes)!==0,l||(mr(t,n,o,!1),l=(o&n.childLanes)!==0),u){if(l)return Xy(t,n,o);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ee(ot,ot.current),l)break;return null;case 22:return n.lanes=0,jy(t,n,o,n.pendingProps);case 24:za(n,ct,t.memoizedState.cache)}return da(t,n,o)}function Jy(t,n,o){if(t!==null)if(t.memoizedProps!==n.pendingProps)dt=!0;else{if(!ah(t,o)&&(n.flags&128)===0)return dt=!1,cR(t,n,o);dt=(t.flags&131072)!==0}else dt=!1,Ie&&(n.flags&1048576)!==0&&km(n,Io,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=xi(n.elementType),n.type=t,typeof t=="function")ld(t)?(l=Hi(t,l),n.tag=1,n=Yy(null,n,t,l,o)):(n.tag=0,n=Wd(null,n,t,l,o));else{if(t!=null){var u=t.$$typeof;if(u===$){n.tag=11,n=Gy(null,n,t,l,o);break e}else if(u===Z){n.tag=14,n=zy(null,n,t,l,o);break e}}throw n=ie(t)||t,Error(r(306,n,""))}}return n;case 0:return Wd(t,n,n.type,n.pendingProps,o);case 1:return l=n.type,u=Hi(l,n.pendingProps),Yy(t,n,l,u,o);case 3:e:{if(Xe(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var h=n.memoizedState;u=h.element,Ad(t,n),Po(n,l,null,o);var m=n.memoizedState;if(l=m.cache,za(n,ct,l),l!==h.cache&&yd(n,[ct],o,!0),Lo(),l=m.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:m.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Vy(t,n,l,o);break e}else if(l!==u){u=vn(Error(r(424)),n),ko(u),n=Vy(t,n,l,o);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Je=An(t.firstChild),At=n,Ie=!0,Ba=null,Tn=!0,o=jm(n,null,l,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ki(),l===u){n=da(t,n,o);break e}_t(t,n,l,o)}n=n.child}return n;case 26:return Ul(t,n),t===null?(o=cC(n.type,null,n.pendingProps,null))?n.memoizedState=o:Ie||(o=n.type,t=n.pendingProps,l=Jl(Ce.current).createElement(o),l[St]=n,l[Kt]=t,Rt(l,o,t),vt(l),n.stateNode=l):n.memoizedState=cC(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return In(n),t===null&&Ie&&(l=n.stateNode=oC(n.type,n.pendingProps,Ce.current),At=n,Tn=!0,u=Je,ei(n.type)?(Lh=u,Je=An(l.firstChild)):Je=u),_t(t,n,n.pendingProps.children,o),Ul(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ie&&((u=l=Je)&&(l=BR(l,n.type,n.pendingProps,Tn),l!==null?(n.stateNode=l,At=n,Je=An(l.firstChild),Tn=!1,u=!0):u=!1),u||Ga(n)),In(n),u=n.type,h=n.pendingProps,m=t!==null?t.memoizedProps:null,l=h.children,Nh(u,h)?l=null:m!==null&&Nh(u,m)&&(n.flags|=32),n.memoizedState!==null&&(u=kd(t,n,eR,null,null,o),as._currentValue=u),Ul(t,n),_t(t,n,l,o),n.child;case 6:return t===null&&Ie&&((t=o=Je)&&(o=GR(o,n.pendingProps,Tn),o!==null?(n.stateNode=o,At=n,Je=null,t=!0):t=!1),t||Ga(n)),null;case 13:return $y(t,n,o);case 4:return Xe(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Li(n,null,l,o):_t(t,n,l,o),n.child;case 11:return Gy(t,n,n.type,n.pendingProps,o);case 7:return _t(t,n,n.pendingProps,o),n.child;case 8:return _t(t,n,n.pendingProps.children,o),n.child;case 12:return _t(t,n,n.pendingProps.children,o),n.child;case 10:return l=n.pendingProps,za(n,n.type,l.value),_t(t,n,l.children,o),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,Mi(n),u=wt(u),l=l(u),n.flags|=1,_t(t,n,l,o),n.child;case 14:return zy(t,n,n.type,n.pendingProps,o);case 15:return Ky(t,n,n.type,n.pendingProps,o);case 19:return Xy(t,n,o);case 31:return lR(t,n,o);case 22:return jy(t,n,o,n.pendingProps);case 24:return Mi(n),l=wt(ct),t===null?(u=Ed(),u===null&&(u=Ve,h=vd(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=o),u=h),n.memoizedState={parent:l,cache:u},Sd(n),za(n,ct,u)):((t.lanes&o)!==0&&(Ad(t,n),Po(n,null,null,o),Lo()),u=t.memoizedState,h=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),za(n,ct,l)):(l=h.cache,za(n,ct,l),l!==u.cache&&yd(n,[ct],o,!0))),_t(t,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ha(t){t.flags|=4}function ih(t,n,o,l,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(_v())t.flags|=8192;else throw Ui=El,Td}else t.flags&=-16777217}function Zy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gC(n))if(_v())t.flags|=8192;else throw Ui=El,Td}function Pl(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Mp():536870912,t.lanes|=n,Or|=n)}function jo(t,n){if(!Ie)switch(t.tailMode){case"hidden":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ze(t){var n=t.alternate!==null&&t.alternate.child===t.child,o=0,l=0;if(n)for(var u=t.child;u!==null;)o|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)o|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=o,n}function uR(t,n,o){var l=n.pendingProps;switch(hd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(n),null;case 1:return Ze(n),null;case 3:return o=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),la(ct),Pe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(pr(n)?ha(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gd())),Ze(n),null;case 26:var u=n.type,h=n.memoizedState;return t===null?(ha(n),h!==null?(Ze(n),Zy(n,h)):(Ze(n),ih(n,u,null,l,o))):h?h!==t.memoizedState?(ha(n),Ze(n),Zy(n,h)):(Ze(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ha(n),Ze(n),ih(n,u,t,l,o)),null;case 27:if(Gn(n),o=Ce.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ha(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ze(n),null}t=ne.current,pr(n)?Mm(n):(t=oC(u,l,o),n.stateNode=t,ha(n))}return Ze(n),null;case 5:if(Gn(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ha(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ze(n),null}if(h=ne.current,pr(n))Mm(n);else{var m=Jl(Ce.current);switch(h){case 1:h=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=m.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?m.createElement("select",{is:l.is}):m.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?m.createElement(u,{is:l.is}):m.createElement(u)}}h[St]=n,h[Kt]=l;e:for(m=n.child;m!==null;){if(m.tag===5||m.tag===6)h.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===n)break e;for(;m.sibling===null;){if(m.return===null||m.return===n)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}n.stateNode=h;e:switch(Rt(h,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ha(n)}}return Ze(n),ih(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,o),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ha(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ce.current,pr(n)){if(t=n.stateNode,o=n.memoizedProps,l=null,u=At,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}t[St]=n,t=!!(t.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||$v(t.nodeValue,o)),t||Ga(n,!0)}else t=Jl(t).createTextNode(l),t[St]=n,n.stateNode=t}return Ze(n),null;case 31:if(o=n.memoizedState,t===null||t.memoizedState!==null){if(l=pr(n),o!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[St]=n}else ki(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ze(n),t=!1}else o=gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return n.flags&256?(on(n),n):(on(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Ze(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=pr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(r(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[St]=n}else ki(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ze(n),u=!1}else u=gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(on(n),n):(on(n),null)}return on(n),(n.flags&128)!==0?(n.lanes=o,n):(o=l!==null,t=t!==null&&t.memoizedState!==null,o&&(l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==u&&(l.flags|=2048)),o!==t&&o&&(n.child.flags|=8192),Pl(n,n.updateQueue),Ze(n),null);case 4:return Pe(),t===null&&Rh(n.stateNode.containerInfo),Ze(n),null;case 10:return la(n.type),Ze(n),null;case 19:if(G(ot),l=n.memoizedState,l===null)return Ze(n),null;if(u=(n.flags&128)!==0,h=l.rendering,h===null)if(u)jo(l,!1);else{if(it!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=wl(t),h!==null){for(n.flags|=128,jo(l,!1),t=h.updateQueue,n.updateQueue=t,Pl(n,t),n.subtreeFlags=0,t=o,o=n.child;o!==null;)bm(o,t),o=o.sibling;return ee(ot,ot.current&1|2),Ie&&oa(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Tt()>Kl&&(n.flags|=128,u=!0,jo(l,!1),n.lanes=4194304)}else{if(!u)if(t=wl(h),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,Pl(n,t),jo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Ie)return Ze(n),null}else 2*Tt()-l.renderingStartTime>Kl&&o!==536870912&&(n.flags|=128,u=!0,jo(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(t=l.last,t!==null?t.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Tt(),t.sibling=null,o=ot.current,ee(ot,u?o&1|2:o&1),Ie&&oa(n,l.treeForkCount),t):(Ze(n),null);case 22:case 23:return on(n),bd(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(o&536870912)!==0&&(n.flags&128)===0&&(Ze(n),n.subtreeFlags&6&&(n.flags|=8192)):Ze(n),o=n.updateQueue,o!==null&&Pl(n,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==o&&(n.flags|=2048),t!==null&&G(Di),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),la(ct),Ze(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function dR(t,n){switch(hd(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return la(ct),Pe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Gn(n),null;case 31:if(n.memoizedState!==null){if(on(n),n.alternate===null)throw Error(r(340));ki()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(on(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ki()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return G(ot),null;case 4:return Pe(),null;case 10:return la(n.type),null;case 22:case 23:return on(n),bd(),t!==null&&G(Di),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return la(ct),null;case 25:return null;default:return null}}function ev(t,n){switch(hd(n),n.tag){case 3:la(ct),Pe();break;case 26:case 27:case 5:Gn(n);break;case 4:Pe();break;case 31:n.memoizedState!==null&&on(n);break;case 13:on(n);break;case 19:G(ot);break;case 10:la(n.type);break;case 22:case 23:on(n),bd(),t!==null&&G(Di);break;case 24:la(ct)}}function qo(t,n){try{var o=n.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var u=l.next;o=u;do{if((o.tag&t)===t){l=void 0;var h=o.create,m=o.inst;l=h(),m.destroy=l}o=o.next}while(o!==u)}}catch(E){Be(n,n.return,E)}}function Ya(t,n,o){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var h=u.next;l=h;do{if((l.tag&t)===t){var m=l.inst,E=m.destroy;if(E!==void 0){m.destroy=void 0,u=n;var A=o,x=E;try{x()}catch(z){Be(u,A,z)}}}l=l.next}while(l!==h)}}catch(z){Be(n,n.return,z)}}function tv(t){var n=t.updateQueue;if(n!==null){var o=t.stateNode;try{Fm(n,o)}catch(l){Be(t,t.return,l)}}}function nv(t,n,o){o.props=Hi(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(l){Be(t,n,l)}}function Fo(t,n){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof o=="function"?t.refCleanup=o(l):o.current=l}}catch(u){Be(t,n,u)}}function jn(t,n){var o=t.ref,l=t.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(u){Be(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(u){Be(t,n,u)}else o.current=null}function av(t){var n=t.type,o=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(u){Be(t,t.return,u)}}function rh(t,n,o){try{var l=t.stateNode;DR(l,t.type,o,n),l[Kt]=n}catch(u){Be(t,t.return,u)}}function iv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ei(t.type)||t.tag===4}function oh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ei(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sh(t,n,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(t),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=aa));else if(l!==4&&(l===27&&ei(t.type)&&(o=t.stateNode,n=null),t=t.child,t!==null))for(sh(t,n,o),t=t.sibling;t!==null;)sh(t,n,o),t=t.sibling}function Hl(t,n,o){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?o.insertBefore(t,n):o.appendChild(t);else if(l!==4&&(l===27&&ei(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(Hl(t,n,o),t=t.sibling;t!==null;)Hl(t,n,o),t=t.sibling}function rv(t){var n=t.stateNode,o=t.memoizedProps;try{for(var l=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);Rt(n,l,o),n[St]=t,n[Kt]=o}catch(h){Be(t,t.return,h)}}var fa=!1,ht=!1,lh=!1,ov=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function hR(t,n){if(t=t.containerInfo,Ih=rc,t=vm(t),td(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var u=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var m=0,E=-1,A=-1,x=0,z=0,Q=t,U=null;t:for(;;){for(var H;Q!==o||u!==0&&Q.nodeType!==3||(E=m+u),Q!==h||l!==0&&Q.nodeType!==3||(A=m+l),Q.nodeType===3&&(m+=Q.nodeValue.length),(H=Q.firstChild)!==null;)U=Q,Q=H;for(;;){if(Q===t)break t;if(U===o&&++x===u&&(E=m),U===h&&++z===l&&(A=m),(H=Q.nextSibling)!==null)break;Q=U,U=Q.parentNode}Q=H}o=E===-1||A===-1?null:{start:E,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(kh={focusedElem:t,selectionRange:o},rc=!1,Ct=n;Ct!==null;)if(n=Ct,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ct=t;else for(;Ct!==null;){switch(n=Ct,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)u=t[o],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,o=n,u=h.memoizedProps,h=h.memoizedState,l=o.stateNode;try{var ue=Hi(o.type,u);t=l.getSnapshotBeforeUpdate(ue,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Be(o,o.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,o=t.nodeType,o===9)Dh(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Dh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ct=t;break}Ct=n.return}}function sv(t,n,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:pa(t,o),l&4&&qo(5,o);break;case 1:if(pa(t,o),l&4)if(t=o.stateNode,n===null)try{t.componentDidMount()}catch(m){Be(o,o.return,m)}else{var u=Hi(o.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(m){Be(o,o.return,m)}}l&64&&tv(o),l&512&&Fo(o,o.return);break;case 3:if(pa(t,o),l&64&&(t=o.updateQueue,t!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Fm(t,n)}catch(m){Be(o,o.return,m)}}break;case 27:n===null&&l&4&&rv(o);case 26:case 5:pa(t,o),n===null&&l&4&&av(o),l&512&&Fo(o,o.return);break;case 12:pa(t,o);break;case 31:pa(t,o),l&4&&uv(t,o);break;case 13:pa(t,o),l&4&&dv(t,o),l&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=TR.bind(null,o),zR(t,o))));break;case 22:if(l=o.memoizedState!==null||fa,!l){n=n!==null&&n.memoizedState!==null||ht,u=fa;var h=ht;fa=l,(ht=n)&&!h?ma(t,o,(o.subtreeFlags&8772)!==0):pa(t,o),fa=u,ht=h}break;case 30:break;default:pa(t,o)}}function lv(t){var n=t.alternate;n!==null&&(t.alternate=null,lv(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Hu(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var et=null,qt=!1;function ga(t,n,o){for(o=o.child;o!==null;)cv(t,n,o),o=o.sibling}function cv(t,n,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(po,o)}catch{}switch(o.tag){case 26:ht||jn(o,n),ga(t,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ht||jn(o,n);var l=et,u=qt;ei(o.type)&&(et=o.stateNode,qt=!1),ga(t,n,o),es(o.stateNode),et=l,qt=u;break;case 5:ht||jn(o,n);case 6:if(l=et,u=qt,et=null,ga(t,n,o),et=l,qt=u,et!==null)if(qt)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(o.stateNode)}catch(h){Be(o,n,h)}else try{et.removeChild(o.stateNode)}catch(h){Be(o,n,h)}break;case 18:et!==null&&(qt?(t=et,tC(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),Lr(t)):tC(et,o.stateNode));break;case 4:l=et,u=qt,et=o.stateNode.containerInfo,qt=!0,ga(t,n,o),et=l,qt=u;break;case 0:case 11:case 14:case 15:Ya(2,o,n),ht||Ya(4,o,n),ga(t,n,o);break;case 1:ht||(jn(o,n),l=o.stateNode,typeof l.componentWillUnmount=="function"&&nv(o,n,l)),ga(t,n,o);break;case 21:ga(t,n,o);break;case 22:ht=(l=ht)||o.memoizedState!==null,ga(t,n,o),ht=l;break;default:ga(t,n,o)}}function uv(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Lr(t)}catch(o){Be(n,n.return,o)}}}function dv(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Lr(t)}catch(o){Be(n,n.return,o)}}function fR(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ov),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ov),n;default:throw Error(r(435,t.tag))}}function Bl(t,n){var o=fR(t);n.forEach(function(l){if(!o.has(l)){o.add(l);var u=SR.bind(null,t,l);l.then(u,u)}})}function Ft(t,n){var o=n.deletions;if(o!==null)for(var l=0;l<o.length;l++){var u=o[l],h=t,m=n,E=m;e:for(;E!==null;){switch(E.tag){case 27:if(ei(E.type)){et=E.stateNode,qt=!1;break e}break;case 5:et=E.stateNode,qt=!1;break e;case 3:case 4:et=E.stateNode.containerInfo,qt=!0;break e}E=E.return}if(et===null)throw Error(r(160));cv(h,m,u),et=null,qt=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)hv(n,t),n=n.sibling}var Mn=null;function hv(t,n){var o=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ft(n,t),Qt(t),l&4&&(Ya(3,t,t.return),qo(3,t),Ya(5,t,t.return));break;case 1:Ft(n,t),Qt(t),l&512&&(ht||o===null||jn(o,o.return)),l&64&&fa&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var u=Mn;if(Ft(n,t),Qt(t),l&512&&(ht||o===null||jn(o,o.return)),l&4){var h=o!==null?o.memoizedState:null;if(l=t.memoizedState,o===null)if(l===null)if(t.stateNode===null){e:{l=t.type,o=t.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":h=u.getElementsByTagName("title")[0],(!h||h[vo]||h[St]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(l),u.head.insertBefore(h,u.querySelector("head > title"))),Rt(h,l,o),h[St]=t,vt(h),l=h;break e;case"link":var m=hC("link","href",u).get(l+(o.href||""));if(m){for(var E=0;E<m.length;E++)if(h=m[E],h.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&h.getAttribute("rel")===(o.rel==null?null:o.rel)&&h.getAttribute("title")===(o.title==null?null:o.title)&&h.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){m.splice(E,1);break t}}h=u.createElement(l),Rt(h,l,o),u.head.appendChild(h);break;case"meta":if(m=hC("meta","content",u).get(l+(o.content||""))){for(E=0;E<m.length;E++)if(h=m[E],h.getAttribute("content")===(o.content==null?null:""+o.content)&&h.getAttribute("name")===(o.name==null?null:o.name)&&h.getAttribute("property")===(o.property==null?null:o.property)&&h.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&h.getAttribute("charset")===(o.charSet==null?null:o.charSet)){m.splice(E,1);break t}}h=u.createElement(l),Rt(h,l,o),u.head.appendChild(h);break;default:throw Error(r(468,l))}h[St]=t,vt(h),l=h}t.stateNode=l}else fC(u,t.type,t.stateNode);else t.stateNode=dC(u,l,t.memoizedProps);else h!==l?(h===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):h.count--,l===null?fC(u,t.type,t.stateNode):dC(u,l,t.memoizedProps)):l===null&&t.stateNode!==null&&rh(t,t.memoizedProps,o.memoizedProps)}break;case 27:Ft(n,t),Qt(t),l&512&&(ht||o===null||jn(o,o.return)),o!==null&&l&4&&rh(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Ft(n,t),Qt(t),l&512&&(ht||o===null||jn(o,o.return)),t.flags&32){u=t.stateNode;try{rr(u,"")}catch(ue){Be(t,t.return,ue)}}l&4&&t.stateNode!=null&&(u=t.memoizedProps,rh(t,u,o!==null?o.memoizedProps:u)),l&1024&&(lh=!0);break;case 6:if(Ft(n,t),Qt(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,o=t.stateNode;try{o.nodeValue=l}catch(ue){Be(t,t.return,ue)}}break;case 3:if(tc=null,u=Mn,Mn=Zl(n.containerInfo),Ft(n,t),Mn=u,Qt(t),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Lr(n.containerInfo)}catch(ue){Be(t,t.return,ue)}lh&&(lh=!1,fv(t));break;case 4:l=Mn,Mn=Zl(t.stateNode.containerInfo),Ft(n,t),Qt(t),Mn=l;break;case 12:Ft(n,t),Qt(t);break;case 31:Ft(n,t),Qt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bl(t,l)));break;case 13:Ft(n,t),Qt(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(zl=Tt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bl(t,l)));break;case 22:u=t.memoizedState!==null;var A=o!==null&&o.memoizedState!==null,x=fa,z=ht;if(fa=x||u,ht=z||A,Ft(n,t),ht=z,fa=x,Qt(t),l&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(o===null||A||fa||ht||Bi(t)),o=null,n=t;;){if(n.tag===5||n.tag===26){if(o===null){A=o=n;try{if(h=A.stateNode,u)m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{E=A.stateNode;var Q=A.memoizedProps.style,U=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(ue){Be(A,A.return,ue)}}}else if(n.tag===6){if(o===null){A=n;try{A.stateNode.nodeValue=u?"":A.memoizedProps}catch(ue){Be(A,A.return,ue)}}}else if(n.tag===18){if(o===null){A=n;try{var H=A.stateNode;u?nC(H,!0):nC(A.stateNode,!1)}catch(ue){Be(A,A.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,Bl(t,o))));break;case 19:Ft(n,t),Qt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bl(t,l)));break;case 30:break;case 21:break;default:Ft(n,t),Qt(t)}}function Qt(t){var n=t.flags;if(n&2){try{for(var o,l=t.return;l!==null;){if(iv(l)){o=l;break}l=l.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var u=o.stateNode,h=oh(t);Hl(t,h,u);break;case 5:var m=o.stateNode;o.flags&32&&(rr(m,""),o.flags&=-33);var E=oh(t);Hl(t,E,m);break;case 3:case 4:var A=o.stateNode.containerInfo,x=oh(t);sh(t,x,A);break;default:throw Error(r(161))}}catch(z){Be(t,t.return,z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function fv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;fv(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function pa(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sv(t,n.alternate,n),n=n.sibling}function Bi(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ya(4,n,n.return),Bi(n);break;case 1:jn(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&nv(n,n.return,o),Bi(n);break;case 27:es(n.stateNode);case 26:case 5:jn(n,n.return),Bi(n);break;case 22:n.memoizedState===null&&Bi(n);break;case 30:Bi(n);break;default:Bi(n)}t=t.sibling}}function ma(t,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=t,h=n,m=h.flags;switch(h.tag){case 0:case 11:case 15:ma(u,h,o),qo(4,h);break;case 1:if(ma(u,h,o),l=h,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(x){Be(l,l.return,x)}if(l=h,u=l.updateQueue,u!==null){var E=l.stateNode;try{var A=u.shared.hiddenCallbacks;if(A!==null)for(u.shared.hiddenCallbacks=null,u=0;u<A.length;u++)qm(A[u],E)}catch(x){Be(l,l.return,x)}}o&&m&64&&tv(h),Fo(h,h.return);break;case 27:rv(h);case 26:case 5:ma(u,h,o),o&&l===null&&m&4&&av(h),Fo(h,h.return);break;case 12:ma(u,h,o);break;case 31:ma(u,h,o),o&&m&4&&uv(u,h);break;case 13:ma(u,h,o),o&&m&4&&dv(u,h);break;case 22:h.memoizedState===null&&ma(u,h,o),Fo(h,h.return);break;case 30:break;default:ma(u,h,o)}n=n.sibling}}function ch(t,n){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&No(o))}function uh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&No(t))}function Dn(t,n,o,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gv(t,n,o,l),n=n.sibling}function gv(t,n,o,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Dn(t,n,o,l),u&2048&&qo(9,n);break;case 1:Dn(t,n,o,l);break;case 3:Dn(t,n,o,l),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&No(t)));break;case 12:if(u&2048){Dn(t,n,o,l),t=n.stateNode;try{var h=n.memoizedProps,m=h.id,E=h.onPostCommit;typeof E=="function"&&E(m,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Be(n,n.return,A)}}else Dn(t,n,o,l);break;case 31:Dn(t,n,o,l);break;case 13:Dn(t,n,o,l);break;case 23:break;case 22:h=n.stateNode,m=n.alternate,n.memoizedState!==null?h._visibility&2?Dn(t,n,o,l):Qo(t,n):h._visibility&2?Dn(t,n,o,l):(h._visibility|=2,_r(t,n,o,l,(n.subtreeFlags&10256)!==0||!1)),u&2048&&ch(m,n);break;case 24:Dn(t,n,o,l),u&2048&&uh(n.alternate,n);break;default:Dn(t,n,o,l)}}function _r(t,n,o,l,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,m=n,E=o,A=l,x=m.flags;switch(m.tag){case 0:case 11:case 15:_r(h,m,E,A,u),qo(8,m);break;case 23:break;case 22:var z=m.stateNode;m.memoizedState!==null?z._visibility&2?_r(h,m,E,A,u):Qo(h,m):(z._visibility|=2,_r(h,m,E,A,u)),u&&x&2048&&ch(m.alternate,m);break;case 24:_r(h,m,E,A,u),u&&x&2048&&uh(m.alternate,m);break;default:_r(h,m,E,A,u)}n=n.sibling}}function Qo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=t,l=n,u=l.flags;switch(l.tag){case 22:Qo(o,l),u&2048&&ch(l.alternate,l);break;case 24:Qo(o,l),u&2048&&uh(l.alternate,l);break;default:Qo(o,l)}n=n.sibling}}var Yo=8192;function Rr(t,n,o){if(t.subtreeFlags&Yo)for(t=t.child;t!==null;)pv(t,n,o),t=t.sibling}function pv(t,n,o){switch(t.tag){case 26:Rr(t,n,o),t.flags&Yo&&t.memoizedState!==null&&ZR(o,Mn,t.memoizedState,t.memoizedProps);break;case 5:Rr(t,n,o);break;case 3:case 4:var l=Mn;Mn=Zl(t.stateNode.containerInfo),Rr(t,n,o),Mn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Yo,Yo=16777216,Rr(t,n,o),Yo=l):Rr(t,n,o));break;default:Rr(t,n,o)}}function mv(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Vo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var l=n[o];Ct=l,vv(l,t)}mv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yv(t),t=t.sibling}function yv(t){switch(t.tag){case 0:case 11:case 15:Vo(t),t.flags&2048&&Ya(9,t,t.return);break;case 3:Vo(t);break;case 12:Vo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Gl(t)):Vo(t);break;default:Vo(t)}}function Gl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var l=n[o];Ct=l,vv(l,t)}mv(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ya(8,n,n.return),Gl(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Gl(n));break;default:Gl(n)}t=t.sibling}}function vv(t,n){for(;Ct!==null;){var o=Ct;switch(o.tag){case 0:case 11:case 15:Ya(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:No(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,Ct=l;else e:for(o=t;Ct!==null;){l=Ct;var u=l.sibling,h=l.return;if(lv(l),l===o){Ct=null;break e}if(u!==null){u.return=h,Ct=u;break e}Ct=h}}}var gR={getCacheForType:function(t){var n=wt(ct),o=n.data.get(t);return o===void 0&&(o=t(),n.data.set(t,o)),o},cacheSignal:function(){return wt(ct).controller.signal}},pR=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ve=null,_e=null,be=0,He=0,sn=null,Va=!1,br=!1,dh=!1,ya=0,it=0,$a=0,Gi=0,hh=0,ln=0,Or=0,$o=null,Yt=null,fh=!1,zl=0,Cv=0,Kl=1/0,jl=null,Wa=null,pt=0,Xa=null,Ir=null,va=0,gh=0,ph=null,Ev=null,Wo=0,mh=null;function cn(){return(xe&2)!==0&&be!==0?be&-be:N.T!==null?Sh():Lp()}function Tv(){if(ln===0)if((be&536870912)===0||Ie){var t=Xs;Xs<<=1,(Xs&3932160)===0&&(Xs=262144),ln=t}else ln=536870912;return t=rn.current,t!==null&&(t.flags|=32),ln}function Vt(t,n,o){(t===Ve&&(He===2||He===9)||t.cancelPendingCommit!==null)&&(kr(t,0),Ja(t,be,ln,!1)),yo(t,o),((xe&2)===0||t!==Ve)&&(t===Ve&&((xe&2)===0&&(Gi|=o),it===4&&Ja(t,be,ln,!1)),qn(t))}function Sv(t,n,o){if((xe&6)!==0)throw Error(r(327));var l=!o&&(n&127)===0&&(n&t.expiredLanes)===0||mo(t,n),u=l?vR(t,n):vh(t,n,!0),h=l;do{if(u===0){br&&!l&&Ja(t,n,0,!1);break}else{if(o=t.current.alternate,h&&!mR(o)){u=vh(t,n,!1),h=!1;continue}if(u===2){if(h=n,t.errorRecoveryDisabledLanes&h)var m=0;else m=t.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){n=m;e:{var E=t;u=$o;var A=E.current.memoizedState.isDehydrated;if(A&&(kr(E,m).flags|=256),m=vh(E,m,!1),m!==2){if(dh&&!A){E.errorRecoveryDisabledLanes|=h,Gi|=h,u=4;break e}h=Yt,Yt=u,h!==null&&(Yt===null?Yt=h:Yt.push.apply(Yt,h))}u=m}if(h=!1,u!==2)continue}}if(u===1){kr(t,0),Ja(t,n,0,!0);break}e:{switch(l=t,h=u,h){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ja(l,n,ln,!Va);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(u=zl+300-Tt(),10<u)){if(Ja(l,n,ln,!Va),Zs(l,0,!0)!==0)break e;va=n,l.timeoutHandle=Zv(Av.bind(null,l,o,Yt,jl,fh,n,ln,Gi,Or,Va,h,"Throttled",-0,0),u);break e}Av(l,o,Yt,jl,fh,n,ln,Gi,Or,Va,h,null,-0,0)}}break}while(!0);qn(t)}function Av(t,n,o,l,u,h,m,E,A,x,z,Q,U,H){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:aa},pv(n,h,Q);var ue=(h&62914560)===h?zl-Tt():(h&4194048)===h?Cv-Tt():0;if(ue=eb(Q,ue),ue!==null){va=h,t.cancelPendingCommit=ue(Nv.bind(null,t,n,h,o,l,u,m,E,A,z,Q,null,U,H)),Ja(t,h,m,!x);return}}Nv(t,n,h,o,l,u,m,E,A)}function mR(t){for(var n=t;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var u=o[l],h=u.getSnapshot;u=u.value;try{if(!nn(h(),u))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ja(t,n,o,l){n&=~hh,n&=~Gi,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var u=n;0<u;){var h=31-tn(u),m=1<<h;l[h]=-1,u&=~m}o!==0&&Dp(t,o,n)}function ql(){return(xe&6)===0?(Xo(0),!1):!0}function yh(){if(_e!==null){if(He===0)var t=_e.return;else t=_e,sa=Ni=null,Dd(t),Er=null,Do=0,t=_e;for(;t!==null;)ev(t.alternate,t),t=t.return;_e=null}}function kr(t,n){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,LR(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),va=0,yh(),Ve=t,_e=o=ra(t.current,null),be=n,He=0,sn=null,Va=!1,br=mo(t,n),dh=!1,Or=ln=hh=Gi=$a=it=0,Yt=$o=null,fh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var u=31-tn(l),h=1<<u;n|=t[u],l&=~h}return ya=n,dl(),o}function wv(t,n){Te=null,N.H=zo,n===Cr||n===Cl?(n=Gm(),He=3):n===Td?(n=Gm(),He=4):He=n===$d?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,sn=n,_e===null&&(it=1,Dl(t,vn(n,t.current)))}function _v(){var t=rn.current;return t===null?!0:(be&4194048)===be?Sn===null:(be&62914560)===be||(be&536870912)!==0?t===Sn:!1}function Rv(){var t=N.H;return N.H=zo,t===null?zo:t}function bv(){var t=N.A;return N.A=gR,t}function Fl(){it=4,Va||(be&4194048)!==be&&rn.current!==null||(br=!0),($a&134217727)===0&&(Gi&134217727)===0||Ve===null||Ja(Ve,be,ln,!1)}function vh(t,n,o){var l=xe;xe|=2;var u=Rv(),h=bv();(Ve!==t||be!==n)&&(jl=null,kr(t,n)),n=!1;var m=it;e:do try{if(He!==0&&_e!==null){var E=_e,A=sn;switch(He){case 8:yh(),m=6;break e;case 3:case 2:case 9:case 6:rn.current===null&&(n=!0);var x=He;if(He=0,sn=null,Nr(t,E,A,x),o&&br){m=0;break e}break;default:x=He,He=0,sn=null,Nr(t,E,A,x)}}yR(),m=it;break}catch(z){wv(t,z)}while(!0);return n&&t.shellSuspendCounter++,sa=Ni=null,xe=l,N.H=u,N.A=h,_e===null&&(Ve=null,be=0,dl()),m}function yR(){for(;_e!==null;)Ov(_e)}function vR(t,n){var o=xe;xe|=2;var l=Rv(),u=bv();Ve!==t||be!==n?(jl=null,Kl=Tt()+500,kr(t,n)):br=mo(t,n);e:do try{if(He!==0&&_e!==null){n=_e;var h=sn;t:switch(He){case 1:He=0,sn=null,Nr(t,n,h,1);break;case 2:case 9:if(Hm(h)){He=0,sn=null,Iv(n);break}n=function(){He!==2&&He!==9||Ve!==t||(He=7),qn(t)},h.then(n,n);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Hm(h)?(He=0,sn=null,Iv(n)):(He=0,sn=null,Nr(t,n,h,7));break;case 5:var m=null;switch(_e.tag){case 26:m=_e.memoizedState;case 5:case 27:var E=_e;if(m?gC(m):E.stateNode.complete){He=0,sn=null;var A=E.sibling;if(A!==null)_e=A;else{var x=E.return;x!==null?(_e=x,Ql(x)):_e=null}break t}}He=0,sn=null,Nr(t,n,h,5);break;case 6:He=0,sn=null,Nr(t,n,h,6);break;case 8:yh(),it=6;break e;default:throw Error(r(462))}}CR();break}catch(z){wv(t,z)}while(!0);return sa=Ni=null,N.H=l,N.A=u,xe=o,_e!==null?0:(Ve=null,be=0,dl(),it)}function CR(){for(;_e!==null&&!Ys();)Ov(_e)}function Ov(t){var n=Jy(t.alternate,t,ya);t.memoizedProps=t.pendingProps,n===null?Ql(t):_e=n}function Iv(t){var n=t,o=n.alternate;switch(n.tag){case 15:case 0:n=Qy(o,n,n.pendingProps,n.type,void 0,be);break;case 11:n=Qy(o,n,n.pendingProps,n.type.render,n.ref,be);break;case 5:Dd(n);default:ev(o,n),n=_e=bm(n,ya),n=Jy(o,n,ya)}t.memoizedProps=t.pendingProps,n===null?Ql(t):_e=n}function Nr(t,n,o,l){sa=Ni=null,Dd(n),Er=null,Do=0;var u=n.return;try{if(sR(t,u,n,o,be)){it=1,Dl(t,vn(o,t.current)),_e=null;return}}catch(h){if(u!==null)throw _e=u,h;it=1,Dl(t,vn(o,t.current)),_e=null;return}n.flags&32768?(Ie||l===1?t=!0:br||(be&536870912)!==0?t=!1:(Va=t=!0,(l===2||l===9||l===3||l===6)&&(l=rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),kv(n,t)):Ql(n)}function Ql(t){var n=t;do{if((n.flags&32768)!==0){kv(n,Va);return}t=n.return;var o=uR(n.alternate,n,ya);if(o!==null){_e=o;return}if(n=n.sibling,n!==null){_e=n;return}_e=n=t}while(n!==null);it===0&&(it=5)}function kv(t,n){do{var o=dR(t.alternate,t);if(o!==null){o.flags&=32767,_e=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(t=t.sibling,t!==null)){_e=t;return}_e=t=o}while(t!==null);it=6,_e=null}function Nv(t,n,o,l,u,h,m,E,A){t.cancelPendingCommit=null;do Yl();while(pt!==0);if((xe&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(h=n.lanes|n.childLanes,h|=od,Jw(t,o,h,m,E,A),t===Ve&&(_e=Ve=null,be=0),Ir=n,Xa=t,va=o,gh=h,ph=u,Ev=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,AR(Si,function(){return Lv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=N.T,N.T=null,u=F.p,F.p=2,m=xe,xe|=4;try{hR(t,n,o)}finally{xe=m,F.p=u,N.T=l}}pt=1,Mv(),Dv(),xv()}}function Mv(){if(pt===1){pt=0;var t=Xa,n=Ir,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=N.T,N.T=null;var l=F.p;F.p=2;var u=xe;xe|=4;try{hv(n,t);var h=kh,m=vm(t.containerInfo),E=h.focusedElem,A=h.selectionRange;if(m!==E&&E&&E.ownerDocument&&ym(E.ownerDocument.documentElement,E)){if(A!==null&&td(E)){var x=A.start,z=A.end;if(z===void 0&&(z=x),"selectionStart"in E)E.selectionStart=x,E.selectionEnd=Math.min(z,E.value.length);else{var Q=E.ownerDocument||document,U=Q&&Q.defaultView||window;if(U.getSelection){var H=U.getSelection(),ue=E.textContent.length,ye=Math.min(A.start,ue),qe=A.end===void 0?ye:Math.min(A.end,ue);!H.extend&&ye>qe&&(m=qe,qe=ye,ye=m);var k=mm(E,ye),b=mm(E,qe);if(k&&b&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==b.node||H.focusOffset!==b.offset)){var D=Q.createRange();D.setStart(k.node,k.offset),H.removeAllRanges(),ye>qe?(H.addRange(D),H.extend(b.node,b.offset)):(D.setEnd(b.node,b.offset),H.addRange(D))}}}}for(Q=[],H=E;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var j=Q[E];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}rc=!!Ih,kh=Ih=null}finally{xe=u,F.p=l,N.T=o}}t.current=n,pt=2}}function Dv(){if(pt===2){pt=0;var t=Xa,n=Ir,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=N.T,N.T=null;var l=F.p;F.p=2;var u=xe;xe|=4;try{sv(t,n.alternate,n)}finally{xe=u,F.p=l,N.T=o}}pt=3}}function xv(){if(pt===4||pt===3){pt=0,Vs();var t=Xa,n=Ir,o=va,l=Ev;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?pt=5:(pt=0,Ir=Xa=null,Uv(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Wa=null),Lu(o),n=n.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(po,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=N.T,u=F.p,F.p=2,N.T=null;try{for(var h=t.onRecoverableError,m=0;m<l.length;m++){var E=l[m];h(E.value,{componentStack:E.stack})}}finally{N.T=n,F.p=u}}(va&3)!==0&&Yl(),qn(t),u=t.pendingLanes,(o&261930)!==0&&(u&42)!==0?t===mh?Wo++:(Wo=0,mh=t):Wo=0,Xo(0)}}function Uv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,No(n)))}function Yl(){return Mv(),Dv(),xv(),Lv()}function Lv(){if(pt!==5)return!1;var t=Xa,n=gh;gh=0;var o=Lu(va),l=N.T,u=F.p;try{F.p=32>o?32:o,N.T=null,o=ph,ph=null;var h=Xa,m=va;if(pt=0,Ir=Xa=null,va=0,(xe&6)!==0)throw Error(r(331));var E=xe;if(xe|=4,yv(h.current),gv(h,h.current,m,o),xe=E,Xo(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(po,h)}catch{}return!0}finally{F.p=u,N.T=l,Uv(t,n)}}function Pv(t,n,o){n=vn(o,n),n=Vd(t.stateNode,n,2),t=qa(t,n,2),t!==null&&(yo(t,2),qn(t))}function Be(t,n,o){if(t.tag===3)Pv(t,t,o);else for(;n!==null;){if(n.tag===3){Pv(n,t,o);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wa===null||!Wa.has(l))){t=vn(o,t),o=Hy(2),l=qa(n,o,2),l!==null&&(By(o,l,n,t),yo(l,2),qn(l));break}}n=n.return}}function Ch(t,n,o){var l=t.pingCache;if(l===null){l=t.pingCache=new pR;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(o)||(dh=!0,u.add(o),t=ER.bind(null,t,n,o),n.then(t,t))}function ER(t,n,o){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Ve===t&&(be&o)===o&&(it===4||it===3&&(be&62914560)===be&&300>Tt()-zl?(xe&2)===0&&kr(t,0):hh|=o,Or===be&&(Or=0)),qn(t)}function Hv(t,n){n===0&&(n=Mp()),t=Oi(t,n),t!==null&&(yo(t,n),qn(t))}function TR(t){var n=t.memoizedState,o=0;n!==null&&(o=n.retryLane),Hv(t,o)}function SR(t,n){var o=0;switch(t.tag){case 31:case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(o=u.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Hv(t,o)}function AR(t,n){return kn(t,n)}var Vl=null,Mr=null,Eh=!1,$l=!1,Th=!1,Za=0;function qn(t){t!==Mr&&t.next===null&&(Mr===null?Vl=Mr=t:Mr=Mr.next=t),$l=!0,Eh||(Eh=!0,_R())}function Xo(t,n){if(!Th&&$l){Th=!0;do for(var o=!1,l=Vl;l!==null;){if(t!==0){var u=l.pendingLanes;if(u===0)var h=0;else{var m=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-tn(42|t)+1)-1,h&=u&~(m&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(o=!0,Kv(l,h))}else h=be,h=Zs(l,l===Ve?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||mo(l,h)||(o=!0,Kv(l,h));l=l.next}while(o);Th=!1}}function wR(){Bv()}function Bv(){$l=Eh=!1;var t=0;Za!==0&&UR()&&(t=Za);for(var n=Tt(),o=null,l=Vl;l!==null;){var u=l.next,h=Gv(l,n);h===0?(l.next=null,o===null?Vl=u:o.next=u,u===null&&(Mr=o)):(o=l,(t!==0||(h&3)!==0)&&($l=!0)),l=u}pt!==0&&pt!==5||Xo(t),Za!==0&&(Za=0)}function Gv(t,n){for(var o=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var m=31-tn(h),E=1<<m,A=u[m];A===-1?((E&o)===0||(E&l)!==0)&&(u[m]=Xw(E,n)):A<=n&&(t.expiredLanes|=E),h&=~E}if(n=Ve,o=be,o=Zs(t,t===n?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,o===0||t===n&&(He===2||He===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xa(l),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||mo(t,o)){if(n=o&-o,n===t.callbackPriority)return n;switch(l!==null&&xa(l),Lu(o)){case 2:case 8:o=go;break;case 32:o=Si;break;case 268435456:o=Np;break;default:o=Si}return l=zv.bind(null,t),o=kn(o,l),t.callbackPriority=n,t.callbackNode=o,n}return l!==null&&l!==null&&xa(l),t.callbackPriority=2,t.callbackNode=null,2}function zv(t,n){if(pt!==0&&pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Yl()&&t.callbackNode!==o)return null;var l=be;return l=Zs(t,t===Ve?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Sv(t,l,n),Gv(t,Tt()),t.callbackNode!=null&&t.callbackNode===o?zv.bind(null,t):null)}function Kv(t,n){if(Yl())return null;Sv(t,n,!0)}function _R(){PR(function(){(xe&6)!==0?kn(fo,wR):Bv()})}function Sh(){if(Za===0){var t=yr;t===0&&(t=Ws,Ws<<=1,(Ws&261888)===0&&(Ws=256)),Za=t}return Za}function jv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:al(""+t)}function qv(t,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,t.id&&o.setAttribute("form",t.id),n.parentNode.insertBefore(o,n),t=new FormData(t),o.parentNode.removeChild(o),t}function RR(t,n,o,l,u){if(n==="submit"&&o&&o.stateNode===u){var h=jv((u[Kt]||null).action),m=l.submitter;m&&(n=(n=m[Kt]||null)?jv(n.formAction):m.getAttribute("formAction"),n!==null&&(h=n,m=null));var E=new sl("action","action",null,l,u);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Za!==0){var A=m?qv(u,m):new FormData(u);Kd(o,{pending:!0,data:A,method:u.method,action:h},null,A)}}else typeof h=="function"&&(E.preventDefault(),A=m?qv(u,m):new FormData(u),Kd(o,{pending:!0,data:A,method:u.method,action:h},h,A))},currentTarget:u}]})}}for(var Ah=0;Ah<rd.length;Ah++){var wh=rd[Ah],bR=wh.toLowerCase(),OR=wh[0].toUpperCase()+wh.slice(1);Nn(bR,"on"+OR)}Nn(Tm,"onAnimationEnd"),Nn(Sm,"onAnimationIteration"),Nn(Am,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(q_,"onTransitionRun"),Nn(F_,"onTransitionStart"),Nn(Q_,"onTransitionCancel"),Nn(wm,"onTransitionEnd"),ar("onMouseEnter",["mouseout","mouseover"]),ar("onMouseLeave",["mouseout","mouseover"]),ar("onPointerEnter",["pointerout","pointerover"]),ar("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function Fv(t,n){n=(n&4)!==0;for(var o=0;o<t.length;o++){var l=t[o],u=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var m=l.length-1;0<=m;m--){var E=l[m],A=E.instance,x=E.currentTarget;if(E=E.listener,A!==h&&u.isPropagationStopped())break e;h=E,u.currentTarget=x;try{h(u)}catch(z){ul(z)}u.currentTarget=null,h=A}else for(m=0;m<l.length;m++){if(E=l[m],A=E.instance,x=E.currentTarget,E=E.listener,A!==h&&u.isPropagationStopped())break e;h=E,u.currentTarget=x;try{h(u)}catch(z){ul(z)}u.currentTarget=null,h=A}}}}function Re(t,n){var o=n[Pu];o===void 0&&(o=n[Pu]=new Set);var l=t+"__bubble";o.has(l)||(Qv(n,t,2,!1),o.add(l))}function _h(t,n,o){var l=0;n&&(l|=4),Qv(o,t,l,n)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function Rh(t){if(!t[Wl]){t[Wl]=!0,Bp.forEach(function(o){o!=="selectionchange"&&(IR.has(o)||_h(o,!1,t),_h(o,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Wl]||(n[Wl]=!0,_h("selectionchange",!1,n))}}function Qv(t,n,o,l){switch(TC(n)){case 2:var u=ab;break;case 8:u=ib;break;default:u=zh}o=u.bind(null,n,o,t),u=void 0,!Qu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(n,o,{capture:!0,passive:u}):t.addEventListener(n,o,!0):u!==void 0?t.addEventListener(n,o,{passive:u}):t.addEventListener(n,o,!1)}function bh(t,n,o,l,u){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var E=l.stateNode.containerInfo;if(E===u)break;if(m===4)for(m=l.return;m!==null;){var A=m.tag;if((A===3||A===4)&&m.stateNode.containerInfo===u)return;m=m.return}for(;E!==null;){if(m=er(E),m===null)return;if(A=m.tag,A===5||A===6||A===26||A===27){l=h=m;continue e}E=E.parentNode}}l=l.return}Xp(function(){var x=h,z=qu(o),Q=[];e:{var U=_m.get(t);if(U!==void 0){var H=sl,ue=t;switch(t){case"keypress":if(rl(o)===0)break e;case"keydown":case"keyup":H=S_;break;case"focusin":ue="focus",H=Wu;break;case"focusout":ue="blur",H=Wu;break;case"beforeblur":case"afterblur":H=Wu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=u_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=__;break;case Tm:case Sm:case Am:H=f_;break;case wm:H=b_;break;case"scroll":case"scrollend":H=l_;break;case"wheel":H=I_;break;case"copy":case"cut":case"paste":H=p_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=nm;break;case"toggle":case"beforetoggle":H=N_}var ye=(n&4)!==0,qe=!ye&&(t==="scroll"||t==="scrollend"),k=ye?U!==null?U+"Capture":null:U;ye=[];for(var b=x,D;b!==null;){var j=b;if(D=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||D===null||k===null||(j=Eo(b,k),j!=null&&ye.push(Zo(b,j,D))),qe)break;b=b.return}0<ye.length&&(U=new H(U,ue,null,o,z),Q.push({event:U,listeners:ye}))}}if((n&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",U&&o!==ju&&(ue=o.relatedTarget||o.fromElement)&&(er(ue)||ue[Zi]))break e;if((H||U)&&(U=z.window===z?z:(U=z.ownerDocument)?U.defaultView||U.parentWindow:window,H?(ue=o.relatedTarget||o.toElement,H=x,ue=ue?er(ue):null,ue!==null&&(qe=c(ue),ye=ue.tag,ue!==qe||ye!==5&&ye!==27&&ye!==6)&&(ue=null)):(H=null,ue=x),H!==ue)){if(ye=em,j="onMouseLeave",k="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(ye=nm,j="onPointerLeave",k="onPointerEnter",b="pointer"),qe=H==null?U:Co(H),D=ue==null?U:Co(ue),U=new ye(j,b+"leave",H,o,z),U.target=qe,U.relatedTarget=D,j=null,er(z)===x&&(ye=new ye(k,b+"enter",ue,o,z),ye.target=D,ye.relatedTarget=qe,j=ye),qe=j,H&&ue)t:{for(ye=kR,k=H,b=ue,D=0,j=k;j;j=ye(j))D++;j=0;for(var me=b;me;me=ye(me))j++;for(;0<D-j;)k=ye(k),D--;for(;0<j-D;)b=ye(b),j--;for(;D--;){if(k===b||b!==null&&k===b.alternate){ye=k;break t}k=ye(k),b=ye(b)}ye=null}else ye=null;H!==null&&Yv(Q,U,H,ye,!1),ue!==null&&qe!==null&&Yv(Q,qe,ue,ye,!0)}}e:{if(U=x?Co(x):window,H=U.nodeName&&U.nodeName.toLowerCase(),H==="select"||H==="input"&&U.type==="file")var Ne=um;else if(lm(U))if(dm)Ne=z_;else{Ne=B_;var fe=H_}else H=U.nodeName,!H||H.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?x&&Ku(x.elementType)&&(Ne=um):Ne=G_;if(Ne&&(Ne=Ne(t,x))){cm(Q,Ne,o,z);break e}fe&&fe(t,U,x),t==="focusout"&&x&&U.type==="number"&&x.memoizedProps.value!=null&&zu(U,"number",U.value)}switch(fe=x?Co(x):window,t){case"focusin":(lm(fe)||fe.contentEditable==="true")&&(cr=fe,nd=x,Oo=null);break;case"focusout":Oo=nd=cr=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,Cm(Q,o,z);break;case"selectionchange":if(j_)break;case"keydown":case"keyup":Cm(Q,o,z)}var Se;if(Ju)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else lr?om(t,o)&&(Oe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(am&&o.locale!=="ko"&&(lr||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&lr&&(Se=Jp()):(Pa=z,Yu="value"in Pa?Pa.value:Pa.textContent,lr=!0)),fe=Xl(x,Oe),0<fe.length&&(Oe=new tm(Oe,t,null,o,z),Q.push({event:Oe,listeners:fe}),Se?Oe.data=Se:(Se=sm(o),Se!==null&&(Oe.data=Se)))),(Se=D_?x_(t,o):U_(t,o))&&(Oe=Xl(x,"onBeforeInput"),0<Oe.length&&(fe=new tm("onBeforeInput","beforeinput",null,o,z),Q.push({event:fe,listeners:Oe}),fe.data=Se)),RR(Q,t,x,o,z)}Fv(Q,n)})}function Zo(t,n,o){return{instance:t,listener:n,currentTarget:o}}function Xl(t,n){for(var o=n+"Capture",l=[];t!==null;){var u=t,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=Eo(t,o),u!=null&&l.unshift(Zo(t,u,h)),u=Eo(t,n),u!=null&&l.push(Zo(t,u,h))),t.tag===3)return l;t=t.return}return[]}function kR(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Yv(t,n,o,l,u){for(var h=n._reactName,m=[];o!==null&&o!==l;){var E=o,A=E.alternate,x=E.stateNode;if(E=E.tag,A!==null&&A===l)break;E!==5&&E!==26&&E!==27||x===null||(A=x,u?(x=Eo(o,h),x!=null&&m.unshift(Zo(o,x,A))):u||(x=Eo(o,h),x!=null&&m.push(Zo(o,x,A)))),o=o.return}m.length!==0&&t.push({event:n,listeners:m})}var NR=/\r\n?/g,MR=/\u0000|\uFFFD/g;function Vv(t){return(typeof t=="string"?t:""+t).replace(NR,`
`).replace(MR,"")}function $v(t,n){return n=Vv(n),Vv(t)===n}function je(t,n,o,l,u,h){switch(o){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rr(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rr(t,""+l);break;case"className":tl(t,"class",l);break;case"tabIndex":tl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":tl(t,o,l);break;case"style":$p(t,l,h);break;case"data":if(n!=="object"){tl(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||o!=="href")){t.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(o);break}l=al(""+l),t.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(o==="formAction"?(n!=="input"&&je(t,n,"name",u.name,u,null),je(t,n,"formEncType",u.formEncType,u,null),je(t,n,"formMethod",u.formMethod,u,null),je(t,n,"formTarget",u.formTarget,u,null)):(je(t,n,"encType",u.encType,u,null),je(t,n,"method",u.method,u,null),je(t,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(o);break}l=al(""+l),t.setAttribute(o,l);break;case"onClick":l!=null&&(t.onclick=aa);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(o=l.__html,o!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}o=al(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(o,""+l):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":l===!0?t.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(o,l):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(o,l):t.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(o):t.setAttribute(o,l);break;case"popover":Re("beforetoggle",t),Re("toggle",t),el(t,"popover",l);break;case"xlinkActuate":na(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":na(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":na(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":na(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":na(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":na(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":na(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":na(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":na(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":el(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=o_.get(o)||o,el(t,o,l))}}function Oh(t,n,o,l,u,h){switch(o){case"style":$p(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(o=l.__html,o!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"children":typeof l=="string"?rr(t,l):(typeof l=="number"||typeof l=="bigint")&&rr(t,""+l);break;case"onScroll":l!=null&&Re("scroll",t);break;case"onScrollEnd":l!=null&&Re("scrollend",t);break;case"onClick":l!=null&&(t.onclick=aa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gp.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(u=o.endsWith("Capture"),n=o.slice(2,u?o.length-7:void 0),h=t[Kt]||null,h=h!=null?h[o]:null,typeof h=="function"&&t.removeEventListener(n,h,u),typeof l=="function")){typeof h!="function"&&h!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(n,l,u);break e}o in t?t[o]=l:l===!0?t.setAttribute(o,""):el(t,o,l)}}}function Rt(t,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var l=!1,u=!1,h;for(h in o)if(o.hasOwnProperty(h)){var m=o[h];if(m!=null)switch(h){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:je(t,n,h,m,o,null)}}u&&je(t,n,"srcSet",o.srcSet,o,null),l&&je(t,n,"src",o.src,o,null);return;case"input":Re("invalid",t);var E=h=m=u=null,A=null,x=null;for(l in o)if(o.hasOwnProperty(l)){var z=o[l];if(z!=null)switch(l){case"name":u=z;break;case"type":m=z;break;case"checked":A=z;break;case"defaultChecked":x=z;break;case"value":h=z;break;case"defaultValue":E=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:je(t,n,l,z,o,null)}}Fp(t,h,E,A,x,m,u,!1);return;case"select":Re("invalid",t),l=m=h=null;for(u in o)if(o.hasOwnProperty(u)&&(E=o[u],E!=null))switch(u){case"value":h=E;break;case"defaultValue":m=E;break;case"multiple":l=E;default:je(t,n,u,E,o,null)}n=h,o=m,t.multiple=!!l,n!=null?ir(t,!!l,n,!1):o!=null&&ir(t,!!l,o,!0);return;case"textarea":Re("invalid",t),h=u=l=null;for(m in o)if(o.hasOwnProperty(m)&&(E=o[m],E!=null))switch(m){case"value":l=E;break;case"defaultValue":u=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:je(t,n,m,E,o,null)}Yp(t,l,u,h);return;case"option":for(A in o)if(o.hasOwnProperty(A)&&(l=o[A],l!=null))switch(A){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:je(t,n,A,l,o,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(l=0;l<Jo.length;l++)Re(Jo[l],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in o)if(o.hasOwnProperty(x)&&(l=o[x],l!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:je(t,n,x,l,o,null)}return;default:if(Ku(n)){for(z in o)o.hasOwnProperty(z)&&(l=o[z],l!==void 0&&Oh(t,n,z,l,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(l=o[E],l!=null&&je(t,n,E,l,o,null))}function DR(t,n,o,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,m=null,E=null,A=null,x=null,z=null;for(H in o){var Q=o[H];if(o.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":A=Q;default:l.hasOwnProperty(H)||je(t,n,H,null,l,Q)}}for(var U in l){var H=l[U];if(Q=o[U],l.hasOwnProperty(U)&&(H!=null||Q!=null))switch(U){case"type":h=H;break;case"name":u=H;break;case"checked":x=H;break;case"defaultChecked":z=H;break;case"value":m=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==Q&&je(t,n,U,H,l,Q)}}Gu(t,m,E,A,x,z,h,u);return;case"select":H=m=E=U=null;for(h in o)if(A=o[h],o.hasOwnProperty(h)&&A!=null)switch(h){case"value":break;case"multiple":H=A;default:l.hasOwnProperty(h)||je(t,n,h,null,l,A)}for(u in l)if(h=l[u],A=o[u],l.hasOwnProperty(u)&&(h!=null||A!=null))switch(u){case"value":U=h;break;case"defaultValue":E=h;break;case"multiple":m=h;default:h!==A&&je(t,n,u,h,l,A)}n=E,o=m,l=H,U!=null?ir(t,!!o,U,!1):!!l!=!!o&&(n!=null?ir(t,!!o,n,!0):ir(t,!!o,o?[]:"",!1));return;case"textarea":H=U=null;for(E in o)if(u=o[E],o.hasOwnProperty(E)&&u!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:je(t,n,E,null,l,u)}for(m in l)if(u=l[m],h=o[m],l.hasOwnProperty(m)&&(u!=null||h!=null))switch(m){case"value":U=u;break;case"defaultValue":H=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==h&&je(t,n,m,u,l,h)}Qp(t,U,H);return;case"option":for(var ue in o)if(U=o[ue],o.hasOwnProperty(ue)&&U!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:je(t,n,ue,null,l,U)}for(A in l)if(U=l[A],H=o[A],l.hasOwnProperty(A)&&U!==H&&(U!=null||H!=null))switch(A){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:je(t,n,A,U,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in o)U=o[ye],o.hasOwnProperty(ye)&&U!=null&&!l.hasOwnProperty(ye)&&je(t,n,ye,null,l,U);for(x in l)if(U=l[x],H=o[x],l.hasOwnProperty(x)&&U!==H&&(U!=null||H!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,n));break;default:je(t,n,x,U,l,H)}return;default:if(Ku(n)){for(var qe in o)U=o[qe],o.hasOwnProperty(qe)&&U!==void 0&&!l.hasOwnProperty(qe)&&Oh(t,n,qe,void 0,l,U);for(z in l)U=l[z],H=o[z],!l.hasOwnProperty(z)||U===H||U===void 0&&H===void 0||Oh(t,n,z,U,l,H);return}}for(var k in o)U=o[k],o.hasOwnProperty(k)&&U!=null&&!l.hasOwnProperty(k)&&je(t,n,k,null,l,U);for(Q in l)U=l[Q],H=o[Q],!l.hasOwnProperty(Q)||U===H||U==null&&H==null||je(t,n,Q,U,l,H)}function Wv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xR(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,o=performance.getEntriesByType("resource"),l=0;l<o.length;l++){var u=o[l],h=u.transferSize,m=u.initiatorType,E=u.duration;if(h&&E&&Wv(m)){for(m=0,E=u.responseEnd,l+=1;l<o.length;l++){var A=o[l],x=A.startTime;if(x>E)break;var z=A.transferSize,Q=A.initiatorType;z&&Wv(Q)&&(A=A.responseEnd,m+=z*(A<E?1:(E-x)/(A-x)))}if(--l,n+=8*(h+m)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ih=null,kh=null;function Jl(t){return t.nodeType===9?t:t.ownerDocument}function Xv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Nh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Mh=null;function UR(){var t=window.event;return t&&t.type==="popstate"?t===Mh?!1:(Mh=t,!0):(Mh=null,!1)}var Zv=typeof setTimeout=="function"?setTimeout:void 0,LR=typeof clearTimeout=="function"?clearTimeout:void 0,eC=typeof Promise=="function"?Promise:void 0,PR=typeof queueMicrotask=="function"?queueMicrotask:typeof eC<"u"?function(t){return eC.resolve(null).then(t).catch(HR)}:Zv;function HR(t){setTimeout(function(){throw t})}function ei(t){return t==="head"}function tC(t,n){var o=n,l=0;do{var u=o.nextSibling;if(t.removeChild(o),u&&u.nodeType===8)if(o=u.data,o==="/$"||o==="/&"){if(l===0){t.removeChild(u),Lr(n);return}l--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")l++;else if(o==="html")es(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,es(o);for(var h=o.firstChild;h;){var m=h.nextSibling,E=h.nodeName;h[vo]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||o.removeChild(h),h=m}}else o==="body"&&es(t.ownerDocument.body);o=u}while(o);Lr(n)}function nC(t,n){var o=t;t=0;do{var l=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),l&&l.nodeType===8)if(o=l.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=l}while(o)}function Dh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Dh(o),Hu(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function BR(t,n,o,l){for(;t.nodeType===1;){var u=o;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vo])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=An(t.nextSibling),t===null)break}return null}function GR(t,n,o){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=An(t.nextSibling),t===null))return null;return t}function aC(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=An(t.nextSibling),t===null))return null;return t}function xh(t){return t.data==="$?"||t.data==="$~"}function Uh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function zR(t,n){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||o.readyState!=="loading")n();else{var l=function(){n(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function An(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Lh=null;function iC(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(n===0)return An(t.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}t=t.nextSibling}return null}function rC(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return t;n--}else o!=="/$"&&o!=="/&"||n++}t=t.previousSibling}return null}function oC(t,n,o){switch(n=Jl(o),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function es(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Hu(t)}var wn=new Map,sC=new Set;function Zl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ca=F.d;F.d={f:KR,r:jR,D:qR,C:FR,L:QR,m:YR,X:$R,S:VR,M:WR};function KR(){var t=Ca.f(),n=ql();return t||n}function jR(t){var n=tr(t);n!==null&&n.tag===5&&n.type==="form"?wy(n):Ca.r(t)}var Dr=typeof document>"u"?null:document;function lC(t,n,o){var l=Dr;if(l&&typeof n=="string"&&n){var u=mn(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof o=="string"&&(u+='[crossorigin="'+o+'"]'),sC.has(u)||(sC.add(u),t={rel:t,crossOrigin:o,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),Rt(n,"link",t),vt(n),l.head.appendChild(n)))}}function qR(t){Ca.D(t),lC("dns-prefetch",t,null)}function FR(t,n){Ca.C(t,n),lC("preconnect",t,n)}function QR(t,n,o){Ca.L(t,n,o);var l=Dr;if(l&&t&&n){var u='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&o&&o.imageSrcSet?(u+='[imagesrcset="'+mn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(u+='[imagesizes="'+mn(o.imageSizes)+'"]')):u+='[href="'+mn(t)+'"]';var h=u;switch(n){case"style":h=xr(t);break;case"script":h=Ur(t)}wn.has(h)||(t=v({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:t,as:n},o),wn.set(h,t),l.querySelector(u)!==null||n==="style"&&l.querySelector(ts(h))||n==="script"&&l.querySelector(ns(h))||(n=l.createElement("link"),Rt(n,"link",t),vt(n),l.head.appendChild(n)))}}function YR(t,n){Ca.m(t,n);var o=Dr;if(o&&t){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+mn(l)+'"][href="'+mn(t)+'"]',h=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ur(t)}if(!wn.has(h)&&(t=v({rel:"modulepreload",href:t},n),wn.set(h,t),o.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ns(h)))return}l=o.createElement("link"),Rt(l,"link",t),vt(l),o.head.appendChild(l)}}}function VR(t,n,o){Ca.S(t,n,o);var l=Dr;if(l&&t){var u=nr(l).hoistableStyles,h=xr(t);n=n||"default";var m=u.get(h);if(!m){var E={loading:0,preload:null};if(m=l.querySelector(ts(h)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":n},o),(o=wn.get(h))&&Ph(t,o);var A=m=l.createElement("link");vt(A),Rt(A,"link",t),A._p=new Promise(function(x,z){A.onload=x,A.onerror=z}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ec(m,n,l)}m={type:"stylesheet",instance:m,count:1,state:E},u.set(h,m)}}}function $R(t,n){Ca.X(t,n);var o=Dr;if(o&&t){var l=nr(o).hoistableScripts,u=Ur(t),h=l.get(u);h||(h=o.querySelector(ns(u)),h||(t=v({src:t,async:!0},n),(n=wn.get(u))&&Hh(t,n),h=o.createElement("script"),vt(h),Rt(h,"link",t),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(u,h))}}function WR(t,n){Ca.M(t,n);var o=Dr;if(o&&t){var l=nr(o).hoistableScripts,u=Ur(t),h=l.get(u);h||(h=o.querySelector(ns(u)),h||(t=v({src:t,async:!0,type:"module"},n),(n=wn.get(u))&&Hh(t,n),h=o.createElement("script"),vt(h),Rt(h,"link",t),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(u,h))}}function cC(t,n,o,l){var u=(u=Ce.current)?Zl(u):null;if(!u)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=xr(o.href),o=nr(u).hoistableStyles,l=o.get(n),l||(l={type:"style",instance:null,count:0,state:null},o.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=xr(o.href);var h=nr(u).hoistableStyles,m=h.get(t);if(m||(u=u.ownerDocument||u,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,m),(h=u.querySelector(ts(t)))&&!h._p&&(m.instance=h,m.state.loading=5),wn.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},wn.set(t,o),h||XR(u,t,o,m.state))),n&&l===null)throw Error(r(528,""));return m}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ur(o),o=nr(u).hoistableScripts,l=o.get(n),l||(l={type:"script",instance:null,count:0,state:null},o.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function xr(t){return'href="'+mn(t)+'"'}function ts(t){return'link[rel="stylesheet"]['+t+"]"}function uC(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function XR(t,n,o,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Rt(n,"link",o),vt(n),t.head.appendChild(n))}function Ur(t){return'[src="'+mn(t)+'"]'}function ns(t){return"script[async]"+t}function dC(t,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+mn(o.href)+'"]');if(l)return n.instance=l,vt(l),l;var u=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),vt(l),Rt(l,"style",u),ec(l,o.precedence,t),n.instance=l;case"stylesheet":u=xr(o.href);var h=t.querySelector(ts(u));if(h)return n.state.loading|=4,n.instance=h,vt(h),h;l=uC(o),(u=wn.get(u))&&Ph(l,u),h=(t.ownerDocument||t).createElement("link"),vt(h);var m=h;return m._p=new Promise(function(E,A){m.onload=E,m.onerror=A}),Rt(h,"link",l),n.state.loading|=4,ec(h,o.precedence,t),n.instance=h;case"script":return h=Ur(o.src),(u=t.querySelector(ns(h)))?(n.instance=u,vt(u),u):(l=o,(u=wn.get(h))&&(l=v({},o),Hh(l,u)),t=t.ownerDocument||t,u=t.createElement("script"),vt(u),Rt(u,"link",l),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ec(l,o.precedence,t));return n.instance}function ec(t,n,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,h=u,m=0;m<l.length;m++){var E=l[m];if(E.dataset.precedence===n)h=E;else if(h!==u)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(t,n.firstChild))}function Ph(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Hh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var tc=null;function hC(t,n,o){if(tc===null){var l=new Map,u=tc=new Map;u.set(o,l)}else u=tc,l=u.get(o),l||(l=new Map,u.set(o,l));if(l.has(t))return l;for(l.set(t,null),o=o.getElementsByTagName(t),u=0;u<o.length;u++){var h=o[u];if(!(h[vo]||h[St]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var m=h.getAttribute(n)||"";m=t+m;var E=l.get(m);E?E.push(h):l.set(m,[h])}}return l}function fC(t,n,o){t=t.ownerDocument||t,t.head.insertBefore(o,n==="title"?t.querySelector("head > title"):null)}function JR(t,n,o){if(o===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function gC(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ZR(t,n,o,l){if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var u=xr(l.href),h=n.querySelector(ts(u));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=nc.bind(t),n.then(t,t)),o.state.loading|=4,o.instance=h,vt(h);return}h=n.ownerDocument||n,l=uC(l),(u=wn.get(u))&&Ph(l,u),h=h.createElement("link"),vt(h);var m=h;m._p=new Promise(function(E,A){m.onload=E,m.onerror=A}),Rt(h,"link",l),o.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=nc.bind(t),n.addEventListener("load",o),n.addEventListener("error",o))}}var Bh=0;function eb(t,n){return t.stylesheets&&t.count===0&&ic(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var l=setTimeout(function(){if(t.stylesheets&&ic(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&Bh===0&&(Bh=62500*xR());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ic(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Bh?50:800)+n);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ic(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ac=null;function ic(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ac=new Map,n.forEach(tb,t),ac=null,nc.call(t))}function tb(t,n){if(!(n.state.loading&4)){var o=ac.get(t);if(o)var l=o.get(null);else{o=new Map,ac.set(t,o);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var m=u[h];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(o.set(m.dataset.precedence,m),l=m)}l&&o.set(null,l)}u=n.instance,m=u.getAttribute("data-precedence"),h=o.get(m)||l,h===l&&o.set(null,u),o.set(m,u),this.count++,l=nc.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),h?h.parentNode.insertBefore(u,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var as={$$typeof:B,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function nb(t,n,o,l,u,h,m,E,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xu(0),this.hiddenUpdates=xu(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function pC(t,n,o,l,u,h,m,E,A,x,z,Q){return t=new nb(t,n,o,m,A,x,z,Q,E),n=1,h===!0&&(n|=24),h=an(3,null,null,n),t.current=h,h.stateNode=t,n=vd(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:o,cache:n},Sd(h),t}function mC(t){return t?(t=hr,t):hr}function yC(t,n,o,l,u,h){u=mC(u),l.context===null?l.context=u:l.pendingContext=u,l=ja(n),l.payload={element:o},h=h===void 0?null:h,h!==null&&(l.callback=h),o=qa(t,l,n),o!==null&&(Vt(o,t,n),Uo(o,t,n))}function vC(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<n?o:n}}function Gh(t,n){vC(t,n),(t=t.alternate)&&vC(t,n)}function CC(t){if(t.tag===13||t.tag===31){var n=Oi(t,67108864);n!==null&&Vt(n,t,67108864),Gh(t,67108864)}}function EC(t){if(t.tag===13||t.tag===31){var n=cn();n=Uu(n);var o=Oi(t,n);o!==null&&Vt(o,t,n),Gh(t,n)}}var rc=!0;function ab(t,n,o,l){var u=N.T;N.T=null;var h=F.p;try{F.p=2,zh(t,n,o,l)}finally{F.p=h,N.T=u}}function ib(t,n,o,l){var u=N.T;N.T=null;var h=F.p;try{F.p=8,zh(t,n,o,l)}finally{F.p=h,N.T=u}}function zh(t,n,o,l){if(rc){var u=Kh(l);if(u===null)bh(t,n,l,oc,o),SC(t,l);else if(ob(u,t,n,o,l))l.stopPropagation();else if(SC(t,l),n&4&&-1<rb.indexOf(t)){for(;u!==null;){var h=tr(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var m=Ai(h.pendingLanes);if(m!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;m;){var A=1<<31-tn(m);E.entanglements[1]|=A,m&=~A}qn(h),(xe&6)===0&&(Kl=Tt()+500,Xo(0))}}break;case 31:case 13:E=Oi(h,2),E!==null&&Vt(E,h,2),ql(),Gh(h,2)}if(h=Kh(l),h===null&&bh(t,n,l,oc,o),h===u)break;u=h}u!==null&&l.stopPropagation()}else bh(t,n,l,null,o)}}function Kh(t){return t=qu(t),jh(t)}var oc=null;function jh(t){if(oc=null,t=er(t),t!==null){var n=c(t);if(n===null)t=null;else{var o=n.tag;if(o===13){if(t=d(n),t!==null)return t;t=null}else if(o===31){if(t=f(n),t!==null)return t;t=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return oc=t,null}function TC(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($s()){case fo:return 2;case go:return 8;case Si:case Fw:return 32;case Np:return 268435456;default:return 32}default:return 32}}var qh=!1,ti=null,ni=null,ai=null,is=new Map,rs=new Map,ii=[],rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function SC(t,n){switch(t){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":is.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(n.pointerId)}}function os(t,n,o,l,u,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:o,eventSystemFlags:l,nativeEvent:h,targetContainers:[u]},n!==null&&(n=tr(n),n!==null&&CC(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function ob(t,n,o,l,u){switch(n){case"focusin":return ti=os(ti,t,n,o,l,u),!0;case"dragenter":return ni=os(ni,t,n,o,l,u),!0;case"mouseover":return ai=os(ai,t,n,o,l,u),!0;case"pointerover":var h=u.pointerId;return is.set(h,os(is.get(h)||null,t,n,o,l,u)),!0;case"gotpointercapture":return h=u.pointerId,rs.set(h,os(rs.get(h)||null,t,n,o,l,u)),!0}return!1}function AC(t){var n=er(t.target);if(n!==null){var o=c(n);if(o!==null){if(n=o.tag,n===13){if(n=d(o),n!==null){t.blockedOn=n,Pp(t.priority,function(){EC(o)});return}}else if(n===31){if(n=f(o),n!==null){t.blockedOn=n,Pp(t.priority,function(){EC(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var o=Kh(t.nativeEvent);if(o===null){o=t.nativeEvent;var l=new o.constructor(o.type,o);ju=l,o.target.dispatchEvent(l),ju=null}else return n=tr(o),n!==null&&CC(n),t.blockedOn=o,!1;n.shift()}return!0}function wC(t,n,o){sc(t)&&o.delete(n)}function sb(){qh=!1,ti!==null&&sc(ti)&&(ti=null),ni!==null&&sc(ni)&&(ni=null),ai!==null&&sc(ai)&&(ai=null),is.forEach(wC),rs.forEach(wC)}function lc(t,n){t.blockedOn===n&&(t.blockedOn=null,qh||(qh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,sb)))}var cc=null;function _C(t){cc!==t&&(cc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){cc===t&&(cc=null);for(var n=0;n<t.length;n+=3){var o=t[n],l=t[n+1],u=t[n+2];if(typeof l!="function"){if(jh(l||o)===null)continue;break}var h=tr(o);h!==null&&(t.splice(n,3),n-=3,Kd(h,{pending:!0,data:u,method:o.method,action:l},l,u))}}))}function Lr(t){function n(A){return lc(A,t)}ti!==null&&lc(ti,t),ni!==null&&lc(ni,t),ai!==null&&lc(ai,t),is.forEach(n),rs.forEach(n);for(var o=0;o<ii.length;o++){var l=ii[o];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ii.length&&(o=ii[0],o.blockedOn===null);)AC(o),o.blockedOn===null&&ii.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var u=o[l],h=o[l+1],m=u[Kt]||null;if(typeof h=="function")m||_C(o);else if(m){var E=null;if(h&&h.hasAttribute("formAction")){if(u=h,m=h[Kt]||null)E=m.formAction;else if(jh(u)!==null)continue}else E=m.action;typeof E=="function"?o[l+1]=E:(o.splice(l,3),l-=3),_C(o)}}}function RC(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(m){return u=m})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),l||setTimeout(o,20)}function o(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function Fh(t){this._internalRoot=t}uc.prototype.render=Fh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var o=n.current,l=cn();yC(o,l,t,n,null,null)},uc.prototype.unmount=Fh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;yC(t.current,2,null,t,null,null),ql(),n[Zi]=null}};function uc(t){this._internalRoot=t}uc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Lp();t={blockedOn:null,target:t,priority:n};for(var o=0;o<ii.length&&n!==0&&n<ii[o].priority;o++);ii.splice(o,0,t),o===0&&AC(t)}};var bC=e.version;if(bC!=="19.2.0")throw Error(r(527,bC,"19.2.0"));F.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var lb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{po=dc.inject(lb),en=dc}catch{}}return ls.createRoot=function(t,n){if(!s(t))throw Error(r(299));var o=!1,l="",u=xy,h=Uy,m=Ly;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),n=pC(t,1,!1,null,null,o,l,null,u,h,m,RC),t[Zi]=n.current,Rh(t),new Fh(n)},ls.hydrateRoot=function(t,n,o){if(!s(t))throw Error(r(299));var l=!1,u="",h=xy,m=Uy,E=Ly,A=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(m=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(A=o.formState)),n=pC(t,1,!0,n,o??null,l,u,A,h,m,E,RC),n.context=mC(null),o=n.current,l=cn(),l=Uu(l),u=ja(l),u.callback=null,qa(o,u,l),o=l,n.current.lanes=o,yo(n,o),qn(n),t[Zi]=n.current,Rh(t),new uc(n)},ls.version="19.2.0",ls}var PC;function yb(){if(PC)return Yh.exports;PC=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Yh.exports=mb(),Yh.exports}var vb=yb(),C=jf();const lt=xs(C);var HC="popstate";function Cb(i={}){function e(r,s){let{pathname:c,search:d,hash:f}=r.location;return vf("",{pathname:c,search:d,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function a(r,s){return typeof s=="string"?s:As(s)}return Tb(e,a,null,i)}function nt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Hn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Eb(){return Math.random().toString(36).substring(2,10)}function BC(i,e){return{usr:i.state,key:i.key,idx:e}}function vf(i,e,a=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?io(e):e,state:a,key:e&&e.key||r||Eb()}}function As({pathname:i="/",search:e="",hash:a=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function io(i){let e={};if(i){let a=i.indexOf("#");a>=0&&(e.hash=i.substring(a),i=i.substring(0,a));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function Tb(i,e,a,r={}){let{window:s=document.defaultView,v5Compat:c=!1}=r,d=s.history,f="POP",g=null,p=y();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function y(){return(d.state||{idx:null}).idx}function v(){f="POP";let I=y(),P=I==null?null:I-p;p=I,g&&g({action:f,location:M.location,delta:P})}function T(I,P){f="PUSH";let L=vf(M.location,I,P);p=y()+1;let B=BC(L,p),$=M.createHref(L);try{d.pushState(B,"",$)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign($)}c&&g&&g({action:f,location:M.location,delta:1})}function S(I,P){f="REPLACE";let L=vf(M.location,I,P);p=y();let B=BC(L,p),$=M.createHref(L);d.replaceState(B,"",$),c&&g&&g({action:f,location:M.location,delta:0})}function O(I){return Sb(I)}let M={get action(){return f},get location(){return i(s,d)},listen(I){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(HC,v),g=I,()=>{s.removeEventListener(HC,v),g=null}},createHref(I){return e(s,I)},createURL:O,encodeLocation(I){let P=O(I);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:T,replace:S,go(I){return d.go(I)}};return M}function Sb(i,e=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),nt(a,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:As(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function dT(i,e,a="/"){return Ab(i,e,a,!1)}function Ab(i,e,a,r){let s=typeof e=="string"?io(e):e,c=ba(s.pathname||"/",a);if(c==null)return null;let d=hT(i);wb(d);let f=null;for(let g=0;f==null&&g<d.length;++g){let p=Ub(c);f=Db(d[g],p,r)}return f}function hT(i,e=[],a=[],r="",s=!1){let c=(d,f,g=s,p)=>{let y={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&g)return;nt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let v=_a([r,y.relativePath]),T=a.concat(y);d.children&&d.children.length>0&&(nt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),hT(d.children,e,T,v,g)),!(d.path==null&&!d.index)&&e.push({path:v,score:Nb(v,d.index),routesMeta:T})};return i.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))c(d,f);else for(let g of fT(d.path))c(d,f,!0,g)}),e}function fT(i){let e=i.split("/");if(e.length===0)return[];let[a,...r]=e,s=a.endsWith("?"),c=a.replace(/\?$/,"");if(r.length===0)return s?[c,""]:[c];let d=fT(r.join("/")),f=[];return f.push(...d.map(g=>g===""?c:[c,g].join("/"))),s&&f.push(...d),f.map(g=>i.startsWith("/")&&g===""?"/":g)}function wb(i){i.sort((e,a)=>e.score!==a.score?a.score-e.score:Mb(e.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var _b=/^:[\w-]+$/,Rb=3,bb=2,Ob=1,Ib=10,kb=-2,GC=i=>i==="*";function Nb(i,e){let a=i.split("/"),r=a.length;return a.some(GC)&&(r+=kb),e&&(r+=bb),a.filter(s=>!GC(s)).reduce((s,c)=>s+(_b.test(c)?Rb:c===""?Ob:Ib),r)}function Mb(i,e){return i.length===e.length&&i.slice(0,-1).every((r,s)=>r===e[s])?i[i.length-1]-e[e.length-1]:0}function Db(i,e,a=!1){let{routesMeta:r}=i,s={},c="/",d=[];for(let f=0;f<r.length;++f){let g=r[f],p=f===r.length-1,y=c==="/"?e:e.slice(c.length)||"/",v=Nc({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},y),T=g.route;if(!v&&p&&a&&!r[r.length-1].route.index&&(v=Nc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!v)return null;Object.assign(s,v.params),d.push({params:s,pathname:_a([c,v.pathname]),pathnameBase:Gb(_a([c,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(c=_a([c,v.pathnameBase]))}return d}function Nc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[a,r]=xb(i.path,i.caseSensitive,i.end),s=e.match(a);if(!s)return null;let c=s[0],d=c.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:v},T)=>{if(y==="*"){let O=f[T]||"";d=c.slice(0,c.length-O.length).replace(/(.)\/+$/,"$1")}const S=f[T];return v&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:i}}function xb(i,e=!1,a=!0){Hn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],s="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,g)=>(r.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),s+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?s+="\\/*$":i!==""&&i!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Ub(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ba(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,r=i.charAt(a);return r&&r!=="/"?null:i.slice(a)||"/"}var Lb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pb=i=>Lb.test(i);function Hb(i,e="/"){let{pathname:a,search:r="",hash:s=""}=typeof i=="string"?io(i):i,c;if(a)if(Pb(a))c=a;else{if(a.includes("//")){let d=a;a=a.replace(/\/\/+/g,"/"),Hn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${a}`)}a.startsWith("/")?c=zC(a.substring(1),"/"):c=zC(a,e)}else c=e;return{pathname:c,search:zb(r),hash:Kb(s)}}function zC(i,e){let a=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(s=>{s===".."?a.length>1&&a.pop():s!=="."&&a.push(s)}),a.length>1?a.join("/"):"/"}function Jh(i,e,a,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bb(i){return i.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function gT(i){let e=Bb(i);return e.map((a,r)=>r===e.length-1?a.pathname:a.pathnameBase)}function pT(i,e,a,r=!1){let s;typeof i=="string"?s=io(i):(s={...i},nt(!s.pathname||!s.pathname.includes("?"),Jh("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),Jh("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),Jh("#","search","hash",s)));let c=i===""||s.pathname==="",d=c?"/":s.pathname,f;if(d==null)f=a;else{let v=e.length-1;if(!r&&d.startsWith("..")){let T=d.split("/");for(;T[0]==="..";)T.shift(),v-=1;s.pathname=T.join("/")}f=v>=0?e[v]:"/"}let g=Hb(s,f),p=d&&d!=="/"&&d.endsWith("/"),y=(c||d===".")&&a.endsWith("/");return!g.pathname.endsWith("/")&&(p||y)&&(g.pathname+="/"),g}var _a=i=>i.join("/").replace(/\/\/+/g,"/"),Gb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),zb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Kb=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function jb(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mT=["POST","PUT","PATCH","DELETE"];new Set(mT);var qb=["GET",...mT];new Set(qb);var ro=C.createContext(null);ro.displayName="DataRouter";var iu=C.createContext(null);iu.displayName="DataRouterState";C.createContext(!1);var yT=C.createContext({isTransitioning:!1});yT.displayName="ViewTransition";var Fb=C.createContext(new Map);Fb.displayName="Fetchers";var Qb=C.createContext(null);Qb.displayName="Await";var Jn=C.createContext(null);Jn.displayName="Navigation";var Us=C.createContext(null);Us.displayName="Location";var Zn=C.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var qf=C.createContext(null);qf.displayName="RouteError";function Yb(i,{relative:e}={}){nt(Ls(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=C.useContext(Jn),{hash:s,pathname:c,search:d}=Ps(i,{relative:e}),f=c;return a!=="/"&&(f=c==="/"?a:_a([a,c])),r.createHref({pathname:f,search:d,hash:s})}function Ls(){return C.useContext(Us)!=null}function Wi(){return nt(Ls(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Us).location}var vT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CT(i){C.useContext(Jn).static||C.useLayoutEffect(i)}function ET(){let{isDataRoute:i}=C.useContext(Zn);return i?oO():Vb()}function Vb(){nt(Ls(),"useNavigate() may be used only in the context of a <Router> component.");let i=C.useContext(ro),{basename:e,navigator:a}=C.useContext(Jn),{matches:r}=C.useContext(Zn),{pathname:s}=Wi(),c=JSON.stringify(gT(r)),d=C.useRef(!1);return CT(()=>{d.current=!0}),C.useCallback((g,p={})=>{if(Hn(d.current,vT),!d.current)return;if(typeof g=="number"){a.go(g);return}let y=pT(g,JSON.parse(c),s,p.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:_a([e,y.pathname])),(p.replace?a.replace:a.push)(y,p.state,p)},[e,a,c,s,i])}C.createContext(null);function LU(){let{matches:i}=C.useContext(Zn),e=i[i.length-1];return e?e.params:{}}function Ps(i,{relative:e}={}){let{matches:a}=C.useContext(Zn),{pathname:r}=Wi(),s=JSON.stringify(gT(a));return C.useMemo(()=>pT(i,JSON.parse(s),r,e==="path"),[i,s,r,e])}function $b(i,e){return TT(i,e)}function TT(i,e,a,r,s){nt(Ls(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=C.useContext(Jn),{matches:d}=C.useContext(Zn),f=d[d.length-1],g=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",v=f&&f.route;{let L=v&&v.path||"";ST(p,!v||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let T=Wi(),S;if(e){let L=typeof e=="string"?io(e):e;nt(y==="/"||L.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${L.pathname}" was given in the \`location\` prop.`),S=L}else S=T;let O=S.pathname||"/",M=O;if(y!=="/"){let L=y.replace(/^\//,"").split("/");M="/"+O.replace(/^\//,"").split("/").slice(L.length).join("/")}let I=dT(i,{pathname:M});Hn(v||I!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Hn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=eO(I&&I.map(L=>Object.assign({},L,{params:Object.assign({},g,L.params),pathname:_a([y,c.encodeLocation?c.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?y:_a([y,c.encodeLocation?c.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),d,a,r,s);return e&&P?C.createElement(Us.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},P):P}function Wb(){let i=rO(),e=jb(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),a=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:c},"ErrorBoundary")," or"," ",C.createElement("code",{style:c},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),a?C.createElement("pre",{style:s},a):null,d)}var Xb=C.createElement(Wb,null),Jb=class extends C.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?C.createElement(Zn.Provider,{value:this.props.routeContext},C.createElement(qf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zb({routeContext:i,match:e,children:a}){let r=C.useContext(ro);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Zn.Provider,{value:i},a)}function eO(i,e=[],a=null,r=null,s=null){if(i==null){if(!a)return null;if(a.errors)i=a.matches;else if(e.length===0&&!a.initialized&&a.matches.length>0)i=a.matches;else return null}let c=i,d=a?.errors;if(d!=null){let y=c.findIndex(v=>v.route.id&&d?.[v.route.id]!==void 0);nt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let f=!1,g=-1;if(a)for(let y=0;y<c.length;y++){let v=c[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.id){let{loaderData:T,errors:S}=a,O=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||O){f=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let p=a&&r?(y,v)=>{r(y,{location:a.location,params:a.matches?.[0]?.params??{},errorInfo:v})}:void 0;return c.reduceRight((y,v,T)=>{let S,O=!1,M=null,I=null;a&&(S=d&&v.route.id?d[v.route.id]:void 0,M=v.route.errorElement||Xb,f&&(g<0&&T===0?(ST("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,I=null):g===T&&(O=!0,I=v.route.hydrateFallbackElement||null)));let P=e.concat(c.slice(0,T+1)),L=()=>{let B;return S?B=M:O?B=I:v.route.Component?B=C.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=y,C.createElement(Zb,{match:v,routeContext:{outlet:y,matches:P,isDataRoute:a!=null},children:B})};return a&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?C.createElement(Jb,{location:a.location,revalidation:a.revalidation,component:M,error:S,children:L(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:p}):L()},null)}function Ff(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tO(i){let e=C.useContext(ro);return nt(e,Ff(i)),e}function nO(i){let e=C.useContext(iu);return nt(e,Ff(i)),e}function aO(i){let e=C.useContext(Zn);return nt(e,Ff(i)),e}function Qf(i){let e=aO(i),a=e.matches[e.matches.length-1];return nt(a.route.id,`${i} can only be used on routes that contain a unique "id"`),a.route.id}function iO(){return Qf("useRouteId")}function rO(){let i=C.useContext(qf),e=nO("useRouteError"),a=Qf("useRouteError");return i!==void 0?i:e.errors?.[a]}function oO(){let{router:i}=tO("useNavigate"),e=Qf("useNavigate"),a=C.useRef(!1);return CT(()=>{a.current=!0}),C.useCallback(async(s,c={})=>{Hn(a.current,vT),a.current&&(typeof s=="number"?i.navigate(s):await i.navigate(s,{fromRouteId:e,...c}))},[i,e])}var KC={};function ST(i,e,a){!e&&!KC[i]&&(KC[i]=!0,Hn(!1,a))}C.memo(sO);function sO({routes:i,future:e,state:a,unstable_onError:r}){return TT(i,void 0,a,r,e)}function lO(i){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cO({basename:i="/",children:e=null,location:a,navigationType:r="POP",navigator:s,static:c=!1}){nt(!Ls(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),f=C.useMemo(()=>({basename:d,navigator:s,static:c,future:{}}),[d,s,c]);typeof a=="string"&&(a=io(a));let{pathname:g="/",search:p="",hash:y="",state:v=null,key:T="default"}=a,S=C.useMemo(()=>{let O=ba(g,d);return O==null?null:{location:{pathname:O,search:p,hash:y,state:v,key:T},navigationType:r}},[d,g,p,y,v,T,r]);return Hn(S!=null,`<Router basename="${d}"> is not able to match the URL "${g}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:C.createElement(Jn.Provider,{value:f},C.createElement(Us.Provider,{children:e,value:S}))}function PU({children:i,location:e}){return $b(Cf(i),e)}function Cf(i,e=[]){let a=[];return C.Children.forEach(i,(r,s)=>{if(!C.isValidElement(r))return;let c=[...e,s];if(r.type===C.Fragment){a.push.apply(a,Cf(r.props.children,c));return}nt(r.type===lO,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Cf(r.props.children,c)),a.push(d)}),a}var Ac="get",wc="application/x-www-form-urlencoded";function ru(i){return i!=null&&typeof i.tagName=="string"}function uO(i){return ru(i)&&i.tagName.toLowerCase()==="button"}function dO(i){return ru(i)&&i.tagName.toLowerCase()==="form"}function hO(i){return ru(i)&&i.tagName.toLowerCase()==="input"}function fO(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function gO(i,e){return i.button===0&&(!e||e==="_self")&&!fO(i)}var hc=null;function pO(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var mO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zh(i){return i!=null&&!mO.has(i)?(Hn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wc}"`),null):i}function yO(i,e){let a,r,s,c,d;if(dO(i)){let f=i.getAttribute("action");r=f?ba(f,e):null,a=i.getAttribute("method")||Ac,s=Zh(i.getAttribute("enctype"))||wc,c=new FormData(i)}else if(uO(i)||hO(i)&&(i.type==="submit"||i.type==="image")){let f=i.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||f.getAttribute("action");if(r=g?ba(g,e):null,a=i.getAttribute("formmethod")||f.getAttribute("method")||Ac,s=Zh(i.getAttribute("formenctype"))||Zh(f.getAttribute("enctype"))||wc,c=new FormData(f,i),!pO()){let{name:p,type:y,value:v}=i;if(y==="image"){let T=p?`${p}.`:"";c.append(`${T}x`,"0"),c.append(`${T}y`,"0")}else p&&c.append(p,v)}}else{if(ru(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Ac,r=null,s=wc,d=i}return c&&s==="text/plain"&&(d=c,c=void 0),{action:r,method:a.toLowerCase(),encType:s,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yf(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function vO(i,e,a){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${a}`:e&&ba(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function CO(i,e){if(i.id in e)return e[i.id];try{let a=await import(i.module);return e[i.id]=a,a}catch(a){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EO(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function TO(i,e,a){let r=await Promise.all(i.map(async s=>{let c=e.routes[s.route.id];if(c){let d=await CO(c,a);return d.links?d.links():[]}return[]}));return _O(r.flat(1).filter(EO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function jC(i,e,a,r,s,c){let d=(g,p)=>a[p]?g.route.id!==a[p].route.id:!0,f=(g,p)=>a[p].pathname!==g.pathname||a[p].route.path?.endsWith("*")&&a[p].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,p)=>d(g,p)||f(g,p)):c==="data"?e.filter((g,p)=>{let y=r.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(d(g,p)||f(g,p))return!0;if(g.route.shouldRevalidate){let v=g.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function SO(i,e,{includeHydrateFallback:a}={}){return AO(i.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let c=[s.module];return s.clientActionModule&&(c=c.concat(s.clientActionModule)),s.clientLoaderModule&&(c=c.concat(s.clientLoaderModule)),a&&s.hydrateFallbackModule&&(c=c.concat(s.hydrateFallbackModule)),s.imports&&(c=c.concat(s.imports)),c}).flat(1))}function AO(i){return[...new Set(i)]}function wO(i){let e={},a=Object.keys(i).sort();for(let r of a)e[r]=i[r];return e}function _O(i,e){let a=new Set;return new Set(e),i.reduce((r,s)=>{let c=JSON.stringify(wO(s));return a.has(c)||(a.add(c),r.push({key:c,link:s})),r},[])}function AT(){let i=C.useContext(ro);return Yf(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function RO(){let i=C.useContext(iu);return Yf(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Vf=C.createContext(void 0);Vf.displayName="FrameworkContext";function wT(){let i=C.useContext(Vf);return Yf(i,"You must render this element inside a <HydratedRouter> element"),i}function bO(i,e){let a=C.useContext(Vf),[r,s]=C.useState(!1),[c,d]=C.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,T=C.useRef(null);C.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let M=P=>{P.forEach(L=>{d(L.isIntersecting)})},I=new IntersectionObserver(M,{threshold:.5});return T.current&&I.observe(T.current),()=>{I.disconnect()}}},[i]),C.useEffect(()=>{if(r){let M=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(M)}}},[r]);let S=()=>{s(!0)},O=()=>{s(!1),d(!1)};return a?i!=="intent"?[c,T,{}]:[c,T,{onFocus:cs(f,S),onBlur:cs(g,O),onMouseEnter:cs(p,S),onMouseLeave:cs(y,O),onTouchStart:cs(v,S)}]:[!1,T,{}]}function cs(i,e){return a=>{i&&i(a),a.defaultPrevented||e(a)}}function OO({page:i,...e}){let{router:a}=AT(),r=C.useMemo(()=>dT(a.routes,i,a.basename),[a.routes,i,a.basename]);return r?C.createElement(kO,{page:i,matches:r,...e}):null}function IO(i){let{manifest:e,routeModules:a}=wT(),[r,s]=C.useState([]);return C.useEffect(()=>{let c=!1;return TO(i,e,a).then(d=>{c||s(d)}),()=>{c=!0}},[i,e,a]),r}function kO({page:i,matches:e,...a}){let r=Wi(),{manifest:s,routeModules:c}=wT(),{basename:d}=AT(),{loaderData:f,matches:g}=RO(),p=C.useMemo(()=>jC(i,e,g,s,r,"data"),[i,e,g,s,r]),y=C.useMemo(()=>jC(i,e,g,s,r,"assets"),[i,e,g,s,r]),v=C.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let O=new Set,M=!1;if(e.forEach(P=>{let L=s.routes[P.route.id];!L||!L.hasLoader||(!p.some(B=>B.route.id===P.route.id)&&P.route.id in f&&c[P.route.id]?.shouldRevalidate||L.hasClientLoader?M=!0:O.add(P.route.id))}),O.size===0)return[];let I=vO(i,d,"data");return M&&O.size>0&&I.searchParams.set("_routes",e.filter(P=>O.has(P.route.id)).map(P=>P.route.id).join(",")),[I.pathname+I.search]},[d,f,r,s,p,e,i,c]),T=C.useMemo(()=>SO(y,s),[y,s]),S=IO(y);return C.createElement(C.Fragment,null,v.map(O=>C.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...a})),T.map(O=>C.createElement("link",{key:O,rel:"modulepreload",href:O,...a})),S.map(({key:O,link:M})=>C.createElement("link",{key:O,nonce:a.nonce,...M})))}function NO(...i){return e=>{i.forEach(a=>{typeof a=="function"?a(e):a!=null&&(a.current=e)})}}var _T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_T&&(window.__reactRouterVersion="7.9.6")}catch{}function MO({basename:i,children:e,window:a}){let r=C.useRef();r.current==null&&(r.current=Cb({window:a,v5Compat:!0}));let s=r.current,[c,d]=C.useState({action:s.action,location:s.location}),f=C.useCallback(g=>{C.startTransition(()=>d(g))},[d]);return C.useLayoutEffect(()=>s.listen(f),[s,f]),C.createElement(cO,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:s})}var RT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mc=C.forwardRef(function({onClick:e,discover:a="render",prefetch:r="none",relative:s,reloadDocument:c,replace:d,state:f,target:g,to:p,preventScrollReset:y,viewTransition:v,...T},S){let{basename:O}=C.useContext(Jn),M=typeof p=="string"&&RT.test(p),I,P=!1;if(typeof p=="string"&&M&&(I=p,_T))try{let ge=new URL(window.location.href),ve=p.startsWith("//")?new URL(ge.protocol+p):new URL(p),W=ba(ve.pathname,O);ve.origin===ge.origin&&W!=null?p=W+ve.search+ve.hash:P=!0}catch{Hn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=Yb(p,{relative:s}),[B,$,V]=bO(r,T),te=UO(p,{replace:d,state:f,target:g,preventScrollReset:y,relative:s,viewTransition:v});function Z(ge){e&&e(ge),ge.defaultPrevented||te(ge)}let de=C.createElement("a",{...T,...V,href:I||L,onClick:P||c?e:Z,ref:NO(S,$),target:g,"data-discover":!M&&a==="render"?"true":void 0});return B&&!M?C.createElement(C.Fragment,null,de,C.createElement(OO,{page:L})):de});Mc.displayName="Link";var Ef=C.forwardRef(function({"aria-current":e="page",caseSensitive:a=!1,className:r="",end:s=!1,style:c,to:d,viewTransition:f,children:g,...p},y){let v=Ps(d,{relative:p.relative}),T=Wi(),S=C.useContext(iu),{navigator:O,basename:M}=C.useContext(Jn),I=S!=null&&GO(v)&&f===!0,P=O.encodeLocation?O.encodeLocation(v).pathname:v.pathname,L=T.pathname,B=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;a||(L=L.toLowerCase(),B=B?B.toLowerCase():null,P=P.toLowerCase()),B&&M&&(B=ba(B,M)||B);const $=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let V=L===P||!s&&L.startsWith(P)&&L.charAt($)==="/",te=B!=null&&(B===P||!s&&B.startsWith(P)&&B.charAt(P.length)==="/"),Z={isActive:V,isPending:te,isTransitioning:I},de=V?e:void 0,ge;typeof r=="function"?ge=r(Z):ge=[r,V?"active":null,te?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let ve=typeof c=="function"?c(Z):c;return C.createElement(Mc,{...p,"aria-current":de,className:ge,ref:y,style:ve,to:d,viewTransition:f},typeof g=="function"?g(Z):g)});Ef.displayName="NavLink";var DO=C.forwardRef(({discover:i="render",fetcherKey:e,navigate:a,reloadDocument:r,replace:s,state:c,method:d=Ac,action:f,onSubmit:g,relative:p,preventScrollReset:y,viewTransition:v,...T},S)=>{let O=HO(),M=BO(f,{relative:p}),I=d.toLowerCase()==="get"?"get":"post",P=typeof f=="string"&&RT.test(f),L=B=>{if(g&&g(B),B.defaultPrevented)return;B.preventDefault();let $=B.nativeEvent.submitter,V=$?.getAttribute("formmethod")||d;O($||B.currentTarget,{fetcherKey:e,method:V,navigate:a,replace:s,state:c,relative:p,preventScrollReset:y,viewTransition:v})};return C.createElement("form",{ref:S,method:I,action:M,onSubmit:r?g:L,...T,"data-discover":!P&&i==="render"?"true":void 0})});DO.displayName="Form";function xO(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bT(i){let e=C.useContext(ro);return nt(e,xO(i)),e}function UO(i,{target:e,replace:a,state:r,preventScrollReset:s,relative:c,viewTransition:d}={}){let f=ET(),g=Wi(),p=Ps(i,{relative:c});return C.useCallback(y=>{if(gO(y,e)){y.preventDefault();let v=a!==void 0?a:As(g)===As(p);f(i,{replace:v,state:r,preventScrollReset:s,relative:c,viewTransition:d})}},[g,f,p,a,r,e,i,s,c,d])}var LO=0,PO=()=>`__${String(++LO)}__`;function HO(){let{router:i}=bT("useSubmit"),{basename:e}=C.useContext(Jn),a=iO();return C.useCallback(async(r,s={})=>{let{action:c,method:d,encType:f,formData:g,body:p}=yO(r,e);if(s.navigate===!1){let y=s.fetcherKey||PO();await i.fetch(y,a,s.action||c,{preventScrollReset:s.preventScrollReset,formData:g,body:p,formMethod:s.method||d,formEncType:s.encType||f,flushSync:s.flushSync})}else await i.navigate(s.action||c,{preventScrollReset:s.preventScrollReset,formData:g,body:p,formMethod:s.method||d,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:a,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,e,a])}function BO(i,{relative:e}={}){let{basename:a}=C.useContext(Jn),r=C.useContext(Zn);nt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),c={...Ps(i||".",{relative:e})},d=Wi();if(i==null){c.search=d.search;let f=new URLSearchParams(c.search),g=f.getAll("index");if(g.some(y=>y==="")){f.delete("index"),g.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();c.search=y?`?${y}`:""}}return(!i||i===".")&&s.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(c.pathname=c.pathname==="/"?a:_a([a,c.pathname])),As(c)}function GO(i,{relative:e}={}){let a=C.useContext(yT);nt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bT("useViewTransitionState"),s=Ps(i,{relative:e});if(!a.isTransitioning)return!1;let c=ba(a.currentLocation.pathname,r)||a.currentLocation.pathname,d=ba(a.nextLocation.pathname,r)||a.nextLocation.pathname;return Nc(s.pathname,d)!=null||Nc(s.pathname,c)!=null}var zO=uT();const qr=xs(zO);const Y={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},hi={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},Ki={GET:"GET",POST:"POST"},vi=[Y.OPENID_SCOPE,Y.PROFILE_SCOPE,Y.OFFLINE_ACCESS_SCOPE],qC=[...vi,Y.EMAIL_SCOPE],Bt={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},FC={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},gi={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},fc={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},kt={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",NO_SESSION:"no_session"},$f={CODE:"code",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},ou={QUERY:"query",FRAGMENT:"fragment"},KO={QUERY:"query"},OT={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},gc={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},ws={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Ot={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Wf="appmetadata",jO="client_info",Dc="1",xc={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},un={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},bt={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Ge={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},ms={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},QC={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Pr={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},ef={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},zi={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},qO={Pop:"pop"},IT=300;const Uc="unexpected_error",FO="post_request_failed";const YC={[Uc]:"Unexpected error in authentication.",[FO]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class ze extends Error{constructor(e,a,r){const s=a?`${e}: ${a}`:e;super(s),Object.setPrototypeOf(this,ze.prototype),this.errorCode=e||Y.EMPTY_STRING,this.errorMessage=a||Y.EMPTY_STRING,this.subError=r||Y.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function Tf(i,e){return new ze(i,e?`${YC[i]} ${e}`:YC[i])}const Xf="client_info_decoding_error",kT="client_info_empty_error",Jf="token_parsing_error",NT="null_or_empty_token",Sa="endpoints_resolution_error",MT="network_error",DT="openid_config_error",xT="hash_not_deserialized",Jr="invalid_state",UT="state_mismatch",Sf="state_not_found",LT="nonce_mismatch",Zf="auth_time_not_found",PT="max_age_transpired",QO="multiple_matching_tokens",YO="multiple_matching_accounts",HT="multiple_matching_appMetadata",BT="request_cannot_be_made",GT="cannot_remove_empty_scope",zT="cannot_append_scopeset",Af="empty_input_scopeset",VO="device_code_polling_cancelled",$O="device_code_expired",WO="device_code_unknown_error",eg="no_account_in_silent_request",KT="invalid_cache_record",tg="invalid_cache_environment",wf="no_account_found",_f="no_crypto_object",XO="unexpected_credential_type",JO="invalid_assertion",ZO="invalid_client_credential",pi="token_refresh_required",eI="user_timeout_reached",jT="token_claims_cnf_required_for_signedjwt",qT="authorization_code_missing_from_server_response",FT="binding_key_not_removed",QT="end_session_endpoint_not_supported",ng="key_id_missing",tI="no_network_connectivity",nI="user_canceled",aI="missing_tenant_id_error",Ae="method_not_implemented",iI="nested_app_auth_bridge_disabled",rI="platform_broker_error";const VC={[Xf]:"The client info could not be parsed/decoded correctly",[kT]:"The client info was empty",[Jf]:"Token cannot be parsed",[NT]:"The token is null or empty",[Sa]:"Endpoints cannot be resolved",[MT]:"Network request failed",[DT]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[xT]:"The hash parameters could not be deserialized",[Jr]:"State was not the expected format",[UT]:"State mismatch error",[Sf]:"State not found",[LT]:"Nonce mismatch error",[Zf]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[PT]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[QO]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[YO]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[HT]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[BT]:"Token request cannot be made without authorization code or refresh token.",[GT]:"Cannot remove null or empty scope from ScopeSet",[zT]:"Cannot append ScopeSet",[Af]:"Empty input ScopeSet cannot be processed",[VO]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[$O]:"Device code is expired.",[WO]:"Device code stopped polling for unknown reasons.",[eg]:"Please pass an account object, silent flow is not supported without account information",[KT]:"Cache record object was null or undefined.",[tg]:"Invalid environment when attempting to create cache entry",[wf]:"No account found in cache for given key.",[_f]:"No crypto object detected.",[XO]:"Unexpected credential type.",[JO]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[ZO]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[pi]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[eI]:"User defined timeout for device code polling reached",[jT]:"Cannot generate a POP jwt if the token_claims are not populated",[qT]:"Server response does not contain an authorization code to proceed",[FT]:"Could not remove the credential's binding key from storage.",[QT]:"The provided authority does not support logout",[ng]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[tI]:"No network connectivity. Check your internet connection.",[nI]:"User cancelled the flow.",[aI]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[Ae]:"This method has not been implemented",[iI]:"The nested app auth bridge is disabled",[rI]:"An error occurred in the native broker. See the platformBrokerError property for details."};class ag extends ze{constructor(e,a){super(e,a?`${VC[e]}: ${a}`:VC[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,ag.prototype)}}function J(i,e){return new ag(i,e)}const Lc={createNewGuid:()=>{throw J(Ae)},base64Decode:()=>{throw J(Ae)},base64Encode:()=>{throw J(Ae)},base64UrlEncode:()=>{throw J(Ae)},encodeKid:()=>{throw J(Ae)},async getPublicKeyThumbprint(){throw J(Ae)},async removeTokenBindingKey(){throw J(Ae)},async clearKeystore(){throw J(Ae)},async signJwt(){throw J(Ae)},async hashString(){throw J(Ae)}};var Fe;(function(i){i[i.Error=0]="Error",i[i.Warning=1]="Warning",i[i.Info=2]="Info",i[i.Verbose=3]="Verbose",i[i.Trace=4]="Trace"})(Fe||(Fe={}));class Oa{constructor(e,a,r){this.level=Fe.Info;const s=()=>{},c=e||Oa.createDefaultLoggerOptions();this.localCallback=c.loggerCallback||s,this.piiLoggingEnabled=c.piiLoggingEnabled||!1,this.level=typeof c.logLevel=="number"?c.logLevel:Fe.Info,this.correlationId=c.correlationId||Y.EMPTY_STRING,this.packageName=a||Y.EMPTY_STRING,this.packageVersion=r||Y.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Fe.Info}}clone(e,a,r){return new Oa({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,a)}logMessage(e,a){if(a.logLevel>this.level||!this.piiLoggingEnabled&&a.containsPii)return;const c=`${`[${new Date().toUTCString()}] : [${a.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${Fe[a.logLevel]} - ${e}`;this.executeCallback(a.logLevel,c,a.containsPii||!1)}executeCallback(e,a,r){this.localCallback&&this.localCallback(e,a,r)}error(e,a){this.logMessage(e,{logLevel:Fe.Error,containsPii:!1,correlationId:a||Y.EMPTY_STRING})}errorPii(e,a){this.logMessage(e,{logLevel:Fe.Error,containsPii:!0,correlationId:a||Y.EMPTY_STRING})}warning(e,a){this.logMessage(e,{logLevel:Fe.Warning,containsPii:!1,correlationId:a||Y.EMPTY_STRING})}warningPii(e,a){this.logMessage(e,{logLevel:Fe.Warning,containsPii:!0,correlationId:a||Y.EMPTY_STRING})}info(e,a){this.logMessage(e,{logLevel:Fe.Info,containsPii:!1,correlationId:a||Y.EMPTY_STRING})}infoPii(e,a){this.logMessage(e,{logLevel:Fe.Info,containsPii:!0,correlationId:a||Y.EMPTY_STRING})}verbose(e,a){this.logMessage(e,{logLevel:Fe.Verbose,containsPii:!1,correlationId:a||Y.EMPTY_STRING})}verbosePii(e,a){this.logMessage(e,{logLevel:Fe.Verbose,containsPii:!0,correlationId:a||Y.EMPTY_STRING})}trace(e,a){this.logMessage(e,{logLevel:Fe.Trace,containsPii:!1,correlationId:a||Y.EMPTY_STRING})}tracePii(e,a){this.logMessage(e,{logLevel:Fe.Trace,containsPii:!0,correlationId:a||Y.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const YT="@azure/msal-common",ig="15.13.2";const rg={None:"none"};const VT="redirect_uri_empty",oI="claims_request_parsing_error",$T="authority_uri_insecure",fs="url_parse_error",WT="empty_url_error",XT="empty_input_scopes_error",og="invalid_claims",JT="token_request_empty",ZT="logout_request_empty",sI="invalid_code_challenge_method",sg="pkce_params_missing",lg="invalid_cloud_discovery_metadata",eS="invalid_authority_metadata",tS="untrusted_authority",su="missing_ssh_jwk",nS="missing_ssh_kid",lI="missing_nonce_authentication_header",cI="invalid_authentication_header",aS="cannot_set_OIDCOptions",iS="cannot_allow_platform_broker",rS="authority_mismatch",oS="invalid_request_method_for_EAR",sS="invalid_authorize_post_body_parameters";const uI={[VT]:"A redirect URI is required for all calls, and none has been set.",[oI]:"Could not parse the given claims request object.",[$T]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[fs]:"URL could not be parsed into appropriate segments.",[WT]:"URL was empty or null.",[XT]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[og]:"Given claims parameter must be a stringified JSON object.",[JT]:"Token request was empty and not found in cache.",[ZT]:"The logout request was null or undefined.",[sI]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[sg]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[lg]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[eS]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[tS]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[su]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[nS]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[lI]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[cI]:"Invalid authentication header provided",[aS]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[iS]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[rS]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[sS]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[oS]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST."};class cg extends ze{constructor(e){super(e,uI[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,cg.prototype)}}function $e(i){return new cg(i)}class hn{static isEmptyObj(e){if(e)try{const a=JSON.parse(e);return Object.keys(a).length===0}catch{}return!0}static startsWith(e,a){return e.indexOf(a)===0}static endsWith(e,a){return e.length>=a.length&&e.lastIndexOf(a)===e.length-a.length}static queryStringToObject(e){const a={},r=e.split("&"),s=c=>decodeURIComponent(c.replace(/\+/g," "));return r.forEach(c=>{if(c.trim()){const[d,f]=c.split(/=(.+)/g,2);d&&f&&(a[s(d)]=s(f))}}),a}static trimArrayEntries(e){return e.map(a=>a.trim())}static removeEmptyStringsFromArray(e){return e.filter(a=>!!a)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,a){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(a)}}class yt{constructor(e){const a=e?hn.trimArrayEntries([...e]):[],r=a?hn.removeEmptyStringsFromArray(a):[];if(!r||!r.length)throw $e(XT);this.scopes=new Set,r.forEach(s=>this.scopes.add(s))}static fromString(e){const r=(e||Y.EMPTY_STRING).split(" ");return new yt(r)}static createSearchScopes(e){const a=e&&e.length>0?e:[...vi],r=new yt(a);return r.containsOnlyOIDCScopes()?r.removeScope(Y.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}containsScope(e){const a=this.printScopesLowerCase().split(" "),r=new yt(a);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(a=>this.containsScope(a))}containsOnlyOIDCScopes(){let e=0;return qC.forEach(a=>{this.containsScope(a)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(a=>this.appendScope(a))}catch{throw J(zT)}}removeScope(e){if(!e)throw J(GT);this.scopes.delete(e.trim())}removeOIDCScopes(){qC.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw J(Af);const a=new Set;return e.scopes.forEach(r=>a.add(r.toLowerCase())),this.scopes.forEach(r=>a.add(r.toLowerCase())),a}intersectingScopeSets(e){if(!e)throw J(Af);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const a=this.unionScopeSets(e),r=e.getScopeCount(),s=this.getScopeCount();return a.size<s+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(a=>e.push(a)),e}printScopes(){return this.scopes?this.asArray().join(" "):Y.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function Pc(i,e){if(!i)throw J(kT);try{const a=e(i);return JSON.parse(a)}catch{throw J(Xf)}}function Fr(i){if(!i)throw J(Xf);const e=i.split(ws.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?Y.EMPTY_STRING:e[1]}}function $C(i,e){return!!i&&!!e&&i===e.split(".")[1]}function lu(i,e,a,r){if(r){const{oid:s,sub:c,tid:d,name:f,tfp:g,acr:p,preferred_username:y,upn:v,login_hint:T}=r,S=d||g||p||"";return{tenantId:S,localAccountId:s||c||"",name:f,username:y||v||"",loginHint:T,isHomeTenant:$C(S,i)}}else return{tenantId:a,localAccountId:e,username:"",isHomeTenant:$C(a,i)}}function ug(i,e,a,r){let s=i;if(e){const{isHomeTenant:c,...d}=e;s={...i,...d}}if(a){const{isHomeTenant:c,...d}=lu(i.homeAccountId,i.localAccountId,i.tenantId,a);return s={...s,...d,idTokenClaims:a,idToken:r},s}return s}const Un={Default:0,Adfs:1,Dsts:2,Ciam:3};function dg(i){return i&&(i.tid||i.tfp||i.acr)||null}const Wt={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};class rt{static getAccountInfo(e){return{homeAccountId:e.homeAccountId,environment:e.environment,tenantId:e.realm,username:e.username,localAccountId:e.localAccountId,loginHint:e.loginHint,name:e.name,nativeAccountId:e.nativeAccountId,authorityType:e.authorityType,tenantProfiles:new Map((e.tenantProfiles||[]).map(a=>[a.tenantId,a])),dataBoundary:e.dataBoundary}}isSingleTenant(){return!this.tenantProfiles}static createAccount(e,a,r){const s=new rt;a.authorityType===Un.Adfs?s.authorityType=gc.ADFS_ACCOUNT_TYPE:a.protocolMode===Wt.OIDC?s.authorityType=gc.GENERIC_ACCOUNT_TYPE:s.authorityType=gc.MSSTS_ACCOUNT_TYPE;let c;e.clientInfo&&r&&(c=Pc(e.clientInfo,r),c.xms_tdbr&&(s.dataBoundary=c.xms_tdbr==="EU"?"EU":"None")),s.clientInfo=e.clientInfo,s.homeAccountId=e.homeAccountId,s.nativeAccountId=e.nativeAccountId;const d=e.environment||a&&a.getPreferredCache();if(!d)throw J(tg);s.environment=d,s.realm=c?.utid||dg(e.idTokenClaims)||"",s.localAccountId=c?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const f=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,g=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(s.username=f||g||"",s.loginHint=e.idTokenClaims?.login_hint,s.name=e.idTokenClaims?.name||"",s.cloudGraphHostName=e.cloudGraphHostName,s.msGraphHost=e.msGraphHost,e.tenantProfiles)s.tenantProfiles=e.tenantProfiles;else{const p=lu(e.homeAccountId,s.localAccountId,s.realm,e.idTokenClaims);s.tenantProfiles=[p]}return s}static createFromAccountInfo(e,a,r){const s=new rt;return s.authorityType=e.authorityType||gc.GENERIC_ACCOUNT_TYPE,s.homeAccountId=e.homeAccountId,s.localAccountId=e.localAccountId,s.nativeAccountId=e.nativeAccountId,s.realm=e.tenantId,s.environment=e.environment,s.username=e.username,s.name=e.name,s.loginHint=e.loginHint,s.cloudGraphHostName=a,s.msGraphHost=r,s.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),s.dataBoundary=e.dataBoundary,s}static generateHomeAccountId(e,a,r,s,c){if(!(a===Un.Adfs||a===Un.Dsts)){if(e)try{const d=Pc(e,s.base64Decode);if(d.uid&&d.utid)return`${d.uid}.${d.utid}`}catch{}r.warning("No client info in response")}return c?.sub||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,a,r){if(!e||!a)return!1;let s=!0;if(r){const c=e.idTokenClaims||{},d=a.idTokenClaims||{};s=c.iat===d.iat&&c.nonce===d.nonce}return e.homeAccountId===a.homeAccountId&&e.localAccountId===a.localAccountId&&e.username===a.username&&e.tenantId===a.tenantId&&e.loginHint===a.loginHint&&e.environment===a.environment&&e.nativeAccountId===a.nativeAccountId&&s}}function Yn(i,e){const a=dI(i);try{const r=e(a);return JSON.parse(r)}catch{throw J(Jf)}}function $n(i){if(!i.signin_state)return!1;const e=["kmsi","dvc_dmjd"];return i.signin_state.some(r=>e.includes(r.trim().toLowerCase()))}function dI(i){if(!i)throw J(NT);const a=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(i);if(!a||a.length<4)throw J(Jf);return a[2]}function lS(i,e){if(e===0||Date.now()-3e5>i+e)throw J(PT)}function WC(i){if(!i)return i;let e=i.toLowerCase();return hn.endsWith(e,"?")?e=e.slice(0,-1):hn.endsWith(e,"?/")&&(e=e.slice(0,-2)),hn.endsWith(e,"/")||(e+="/"),e}function cS(i){return i.startsWith("#/")?i.substring(2):i.startsWith("#")||i.startsWith("?")?i.substring(1):i}function Hc(i){if(!i||i.indexOf("=")<0)return null;try{const e=cS(i),a=Object.fromEntries(new URLSearchParams(e));if(a.code||a.ear_jwe||a.error||a.error_description||a.state)return a}catch{throw J(xT)}return null}function _s(i,e=!0,a){const r=new Array;return i.forEach((s,c)=>{!e&&a&&c in a?r.push(`${c}=${s}`):r.push(`${c}=${encodeURIComponent(s)}`)}),r.join("&")}function XC(i){if(!i)return i;const e=i.split("#")[0];try{const a=new URL(e),r=a.origin+a.pathname+a.search;return WC(r)}catch{return WC(e)}}class De{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw $e(WT);e.includes("#")||(this._urlString=De.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let a=e.toLowerCase();return hn.endsWith(a,"?")?a=a.slice(0,-1):hn.endsWith(a,"?/")&&(a=a.slice(0,-2)),hn.endsWith(a,"/")||(a+="/"),a}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw $e(fs)}if(!e.HostNameAndPort||!e.PathSegments)throw $e(fs);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw $e($T)}static appendQueryString(e,a){return a?e.indexOf("?")<0?`${e}?${a}`:`${e}&${a}`:e}static removeHashFromUrl(e){return De.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const a=this.getUrlComponents(),r=a.PathSegments;return e&&r.length!==0&&(r[0]===gi.COMMON||r[0]===gi.ORGANIZATIONS)&&(r[0]=e),De.constructAuthorityUriFromObject(a)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),a=this.urlString.match(e);if(!a)throw $e(fs);const r={Protocol:a[1],HostNameAndPort:a[4],AbsolutePath:a[5],QueryString:a[7]};let s=r.AbsolutePath.split("/");return s=s.filter(c=>c&&c.length>0),r.PathSegments=s,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const a=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(a);if(!r)throw $e(fs);return r[2]}static getAbsoluteUrl(e,a){if(e[0]===Y.FORWARD_SLASH){const s=new De(a).getUrlComponents();return s.Protocol+"//"+s.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new De(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Hc(e)}}const uS={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},JC=uS.endpointMetadata,hg=uS.instanceDiscoveryMetadata,dS=new Set;hg.metadata.forEach(i=>{i.aliases.forEach(e=>{dS.add(e)})});function hI(i,e){let a;const r=i.canonicalAuthority;if(r){const s=new De(r).getUrlComponents().HostNameAndPort;a=ZC(s,i.cloudDiscoveryMetadata?.metadata,un.CONFIG,e)||ZC(s,hg.metadata,un.HARDCODED_VALUES,e)||i.knownAuthorities}return a||[]}function ZC(i,e,a,r){if(r?.trace(`getAliasesFromMetadata called with source: ${a}`),i&&e){const s=Bc(e,i);if(s)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${a}, returning aliases`),s.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${a}`)}return null}function fI(i){return Bc(hg.metadata,i)}function Bc(i,e){for(let a=0;a<i.length;a++){const r=i[a];if(r.aliases.includes(e))return r}return null}const Gc="cache_quota_exceeded",fg="cache_error_unknown";const tf={[Gc]:"Exceeded cache storage capacity.",[fg]:"Unexpected error occurred when using cache storage."};class Qr extends ze{constructor(e,a){const r=a||(tf[e]?tf[e]:tf[fg]);super(`${e}: ${r}`),Object.setPrototypeOf(this,Qr.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}function Rf(i){return i instanceof Error?i.name==="QuotaExceededError"||i.name==="NS_ERROR_DOM_QUOTA_REACHED"||i.message.includes("exceeded the quota")?new Qr(Gc):new Qr(i.name,i.message):new Qr(fg)}class bf{constructor(e,a,r,s,c){this.clientId=e,this.cryptoImpl=a,this.commonLogger=r.clone(YT,ig),this.staticAuthorityOptions=c,this.performanceClient=s}getAllAccounts(e,a){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,a),a,e)}getAccountInfoFilteredBy(e,a){if(Object.keys(e).length===0||Object.values(e).every(s=>!s))return this.commonLogger.warning("getAccountInfoFilteredBy: Account filter is empty or invalid, returning null"),null;const r=this.getAllAccounts(e,a);return r.length>1?r.sort(c=>c.idTokenClaims?-1:1)[0]:r.length===1?r[0]:null}getBaseAccountInfo(e,a){const r=this.getAccountsFilteredBy(e,a);return r.length>0?rt.getAccountInfo(r[0]):null}buildTenantProfiles(e,a,r){return e.flatMap(s=>this.getTenantProfilesFromAccountEntity(s,a,r?.tenantId,r))}getTenantedAccountInfoByFilter(e,a,r,s,c){let d=null,f;if(c&&!this.tenantProfileMatchesFilter(r,c))return null;const g=this.getIdToken(e,s,a,r.tenantId);return g&&(f=Yn(g.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(f,c))?null:(d=ug(e,r,f,g?.secret),d)}getTenantProfilesFromAccountEntity(e,a,r,s){const c=rt.getAccountInfo(e);let d=c.tenantProfiles||new Map;const f=this.getTokenKeys();if(r){const p=d.get(r);if(p)d=new Map([[r,p]]);else return[]}const g=[];return d.forEach(p=>{const y=this.getTenantedAccountInfoByFilter(c,f,p,a,s);y&&g.push(y)}),g}tenantProfileMatchesFilter(e,a){return!(a.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,a.localAccountId)||a.name&&e.name!==a.name||a.isHomeTenant!==void 0&&e.isHomeTenant!==a.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,a){return!(a&&(a.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,a.localAccountId)||a.loginHint&&!this.matchLoginHintFromTokenClaims(e,a.loginHint)||a.username&&!this.matchUsername(e.preferred_username,a.username)||a.name&&!this.matchName(e,a.name)||a.sid&&!this.matchSid(e,a.sid)))}async saveCacheRecord(e,a,r,s){if(!e)throw J(KT);try{e.account&&await this.setAccount(e.account,a,r),e.idToken&&s?.idToken!==!1&&await this.setIdTokenCredential(e.idToken,a,r),e.accessToken&&s?.accessToken!==!1&&await this.saveAccessToken(e.accessToken,a,r),e.refreshToken&&s?.refreshToken!==!1&&await this.setRefreshTokenCredential(e.refreshToken,a,r),e.appMetadata&&this.setAppMetadata(e.appMetadata,a)}catch(c){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),c instanceof ze?c:Rf(c)}}async saveAccessToken(e,a,r){const s={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},c=this.getTokenKeys(),d=yt.fromString(e.target);c.accessToken.forEach(f=>{if(!this.accessTokenKeyMatchesFilter(f,s,!1))return;const g=this.getAccessTokenCredential(f,a);g&&this.credentialMatchesFilter(g,s)&&yt.fromString(g.target).intersectingScopeSets(d)&&this.removeAccessToken(f,a)}),await this.setAccessTokenCredential(e,a,r)}getAccountsFilteredBy(e,a){const r=this.getAccountKeys(),s=[];return r.forEach(c=>{const d=this.getAccount(c,a);if(!d||e.homeAccountId&&!this.matchHomeAccountId(d,e.homeAccountId)||e.username&&!this.matchUsername(d.username,e.username)||e.environment&&!this.matchEnvironment(d,e.environment)||e.realm&&!this.matchRealm(d,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(d,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(d,e.authorityType))return;const f={localAccountId:e?.localAccountId,name:e?.name},g=d.tenantProfiles?.filter(p=>this.tenantProfileMatchesFilter(p,f));g&&g.length===0||s.push(d)}),s}credentialMatchesFilter(e,a){return!(a.clientId&&!this.matchClientId(e,a.clientId)||a.userAssertionHash&&!this.matchUserAssertionHash(e,a.userAssertionHash)||typeof a.homeAccountId=="string"&&!this.matchHomeAccountId(e,a.homeAccountId)||a.environment&&!this.matchEnvironment(e,a.environment)||a.realm&&!this.matchRealm(e,a.realm)||a.credentialType&&!this.matchCredentialType(e,a.credentialType)||a.familyId&&!this.matchFamilyId(e,a.familyId)||a.target&&!this.matchTarget(e,a.target)||(a.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==a.requestedClaimsHash||e.credentialType===Ot.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(a.tokenType&&!this.matchTokenType(e,a.tokenType)||a.tokenType===Ge.SSH&&a.keyId&&!this.matchKeyId(e,a.keyId)))}getAppMetadataFilteredBy(e){const a=this.getKeys(),r={};return a.forEach(s=>{if(!this.isAppMetadata(s))return;const c=this.getAppMetadata(s);c&&(e.environment&&!this.matchEnvironment(c,e.environment)||e.clientId&&!this.matchClientId(c,e.clientId)||(r[s]=c))}),r}getAuthorityMetadataByAlias(e){const a=this.getAuthorityMetadataKeys();let r=null;return a.forEach(s=>{if(!this.isAuthorityMetadata(s)||s.indexOf(this.clientId)===-1)return;const c=this.getAuthorityMetadata(s);c&&c.aliases.indexOf(e)!==-1&&(r=c)}),r}removeAllAccounts(e){this.getAllAccounts({},e).forEach(r=>{this.removeAccount(r,e)})}removeAccount(e,a){this.removeAccountContext(e,a);const r=this.getAccountKeys(),s=c=>c.includes(e.homeAccountId)&&c.includes(e.environment);r.filter(s).forEach(c=>{this.removeItem(c,a),this.performanceClient.incrementFields({accountsRemoved:1},a)})}removeAccountContext(e,a){const r=this.getTokenKeys(),s=c=>c.includes(e.homeAccountId)&&c.includes(e.environment);r.idToken.filter(s).forEach(c=>{this.removeIdToken(c,a)}),r.accessToken.filter(s).forEach(c=>{this.removeAccessToken(c,a)}),r.refreshToken.filter(s).forEach(c=>{this.removeRefreshToken(c,a)})}removeAccessToken(e,a){const r=this.getAccessTokenCredential(e,a);if(this.removeItem(e,a),this.performanceClient.incrementFields({accessTokensRemoved:1},a),!r||r.credentialType.toLowerCase()!==Ot.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||r.tokenType!==Ge.POP)return;const s=r.keyId;s&&this.cryptoImpl.removeTokenBindingKey(s).catch(()=>{this.commonLogger.error(`Failed to remove token binding key ${s}`,a),this.performanceClient?.incrementFields({removeTokenBindingKeyFailure:1},a)})}removeAppMetadata(e){return this.getKeys().forEach(r=>{this.isAppMetadata(r)&&this.removeItem(r,e)}),!0}getIdToken(e,a,r,s,c){this.commonLogger.trace("CacheManager - getIdToken called");const d={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Ot.ID_TOKEN,clientId:this.clientId,realm:s},f=this.getIdTokensByFilter(d,a,r),g=f.size;if(g<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(g>1){let p=f;if(!s){const y=new Map;f.forEach((T,S)=>{T.realm===e.tenantId&&y.set(S,T)});const v=y.size;if(v<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),f.values().next().value;if(v===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),y.values().next().value;p=y}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),p.forEach((y,v)=>{this.removeIdToken(v,a)}),c&&a&&c.addFields({multiMatchedID:f.size},a),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),f.values().next().value}getIdTokensByFilter(e,a,r){const s=r&&r.idToken||this.getTokenKeys().idToken,c=new Map;return s.forEach(d=>{if(!this.idTokenKeyMatchesFilter(d,{clientId:this.clientId,...e}))return;const f=this.getIdTokenCredential(d,a);f&&this.credentialMatchesFilter(f,e)&&c.set(d,f)}),c}idTokenKeyMatchesFilter(e,a){const r=e.toLowerCase();return!(a.clientId&&r.indexOf(a.clientId.toLowerCase())===-1||a.homeAccountId&&r.indexOf(a.homeAccountId.toLowerCase())===-1)}removeIdToken(e,a){this.removeItem(e,a)}removeRefreshToken(e,a){this.removeItem(e,a)}getAccessToken(e,a,r,s){const c=a.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",c);const d=yt.createSearchScopes(a.scopes),f=a.authenticationScheme||Ge.BEARER,g=f.toLowerCase()!==Ge.BEARER.toLowerCase()?Ot.ACCESS_TOKEN_WITH_AUTH_SCHEME:Ot.ACCESS_TOKEN,p={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:g,clientId:this.clientId,realm:s||e.tenantId,target:d,tokenType:f,keyId:a.sshKid,requestedClaimsHash:a.requestedClaimsHash},y=r&&r.accessToken||this.getTokenKeys().accessToken,v=[];y.forEach(S=>{if(this.accessTokenKeyMatchesFilter(S,p,!0)){const O=this.getAccessTokenCredential(S,c);O&&this.credentialMatchesFilter(O,p)&&v.push(O)}});const T=v.length;return T<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",c),null):T>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",c),v.forEach(S=>{this.removeAccessToken(this.generateCredentialKey(S),c)}),this.performanceClient.addFields({multiMatchedAT:v.length},c),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",c),v[0])}accessTokenKeyMatchesFilter(e,a,r){const s=e.toLowerCase();if(a.clientId&&s.indexOf(a.clientId.toLowerCase())===-1||a.homeAccountId&&s.indexOf(a.homeAccountId.toLowerCase())===-1||a.realm&&s.indexOf(a.realm.toLowerCase())===-1||a.requestedClaimsHash&&s.indexOf(a.requestedClaimsHash.toLowerCase())===-1)return!1;if(a.target){const c=a.target.asArray();for(let d=0;d<c.length;d++){if(r&&!s.includes(c[d].toLowerCase()))return!1;if(!r&&s.includes(c[d].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,a){const r=this.getTokenKeys(),s=[];return r.accessToken.forEach(c=>{if(!this.accessTokenKeyMatchesFilter(c,e,!0))return;const d=this.getAccessTokenCredential(c,a);d&&this.credentialMatchesFilter(d,e)&&s.push(d)}),s}getRefreshToken(e,a,r,s,c){this.commonLogger.trace("CacheManager - getRefreshToken called");const d=a?Dc:void 0,f={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Ot.REFRESH_TOKEN,clientId:this.clientId,familyId:d},g=s&&s.refreshToken||this.getTokenKeys().refreshToken,p=[];g.forEach(v=>{if(this.refreshTokenKeyMatchesFilter(v,f)){const T=this.getRefreshTokenCredential(v,r);T&&this.credentialMatchesFilter(T,f)&&p.push(T)}});const y=p.length;return y<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(y>1&&c&&r&&c.addFields({multiMatchedRT:y},r),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),p[0])}refreshTokenKeyMatchesFilter(e,a){const r=e.toLowerCase();return!(a.familyId&&r.indexOf(a.familyId.toLowerCase())===-1||!a.familyId&&a.clientId&&r.indexOf(a.clientId.toLowerCase())===-1||a.homeAccountId&&r.indexOf(a.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const a={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(a),s=Object.keys(r).map(d=>r[d]),c=s.length;if(c<1)return null;if(c>1)throw J(HT);return s[0]}isAppMetadataFOCI(e){const a=this.readAppMetadataFromCache(e);return!!(a&&a.familyId===Dc)}matchHomeAccountId(e,a){return typeof e.homeAccountId=="string"&&a===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,a){const r=e.oid||e.sub;return a===r}matchLocalAccountIdFromTenantProfile(e,a){return e.localAccountId===a}matchName(e,a){return a.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,a){return!!(e&&typeof e=="string"&&a?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,a){return!!(e.userAssertionHash&&a===e.userAssertionHash)}matchEnvironment(e,a){if(this.staticAuthorityOptions){const s=hI(this.staticAuthorityOptions,this.commonLogger);if(s.includes(a)&&s.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(a);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,a){return e.credentialType&&a.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,a){return!!(e.clientId&&a===e.clientId)}matchFamilyId(e,a){return!!(e.familyId&&a===e.familyId)}matchRealm(e,a){return e.realm?.toLowerCase()===a.toLowerCase()}matchNativeAccountId(e,a){return!!(e.nativeAccountId&&a===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,a){return e.login_hint===a||e.preferred_username===a||e.upn===a}matchSid(e,a){return e.sid===a}matchAuthorityType(e,a){return!!(e.authorityType&&a.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,a){return e.credentialType!==Ot.ACCESS_TOKEN&&e.credentialType!==Ot.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:yt.fromString(e.target).containsScopeSet(a)}matchTokenType(e,a){return!!(e.tokenType&&e.tokenType===a)}matchKeyId(e,a){return!!(e.keyId&&e.keyId===a)}isAppMetadata(e){return e.indexOf(Wf)!==-1}isAuthorityMetadata(e){return e.indexOf(xc.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${xc.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,a){for(const r in a)e[r]=a[r];return e}}class gI extends bf{async setAccount(){throw J(Ae)}getAccount(){throw J(Ae)}async setIdTokenCredential(){throw J(Ae)}getIdTokenCredential(){throw J(Ae)}async setAccessTokenCredential(){throw J(Ae)}getAccessTokenCredential(){throw J(Ae)}async setRefreshTokenCredential(){throw J(Ae)}getRefreshTokenCredential(){throw J(Ae)}setAppMetadata(){throw J(Ae)}getAppMetadata(){throw J(Ae)}setServerTelemetry(){throw J(Ae)}getServerTelemetry(){throw J(Ae)}setAuthorityMetadata(){throw J(Ae)}getAuthorityMetadata(){throw J(Ae)}getAuthorityMetadataKeys(){throw J(Ae)}setThrottlingCache(){throw J(Ae)}getThrottlingCache(){throw J(Ae)}removeItem(){throw J(Ae)}getKeys(){throw J(Ae)}getAccountKeys(){throw J(Ae)}getTokenKeys(){throw J(Ae)}generateCredentialKey(){throw J(Ae)}generateAccountKey(){throw J(Ae)}}const R={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},pI={InProgress:1};class eE{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class hS{generateId(){return"callback-id"}startMeasurement(e,a){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:pI.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:a||""},measurement:new eE}}startPerformanceMeasurement(){return new eE}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const fS={tokenRenewalOffsetSeconds:IT,preventCorsPreflight:!1},mI={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:Fe.Info,correlationId:Y.EMPTY_STRING},yI={claimsBasedCachingEnabled:!1},vI={async sendGetRequestAsync(){throw J(Ae)},async sendPostRequestAsync(){throw J(Ae)}},CI={sku:Y.SKU,version:ig,cpu:Y.EMPTY_STRING,os:Y.EMPTY_STRING},EI={clientSecret:Y.EMPTY_STRING,clientAssertion:void 0},TI={azureCloudInstance:rg.None,tenant:`${Y.DEFAULT_COMMON_TENANT}`},SI={application:{appName:"",appVersion:""}};function AI({authOptions:i,systemOptions:e,loggerOptions:a,cacheOptions:r,storageInterface:s,networkInterface:c,cryptoInterface:d,clientCredentials:f,libraryInfo:g,telemetry:p,serverTelemetryManager:y,persistencePlugin:v,serializableCache:T}){const S={...mI,...a};return{authOptions:wI(i),systemOptions:{...fS,...e},loggerOptions:S,cacheOptions:{...yI,...r},storageInterface:s||new gI(i.clientId,Lc,new Oa(S),new hS),networkInterface:c||vI,cryptoInterface:d||Lc,clientCredentials:f||EI,libraryInfo:{...CI,...g},telemetry:{...SI,...p},serverTelemetryManager:y||null,persistencePlugin:v||null,serializableCache:T||null}}function wI(i){return{clientCapabilities:[],azureCloudOptions:TI,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...i}}function gS(i){return i.authOptions.authority.options.protocolMode===Wt.OIDC}const Pn={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};const qi="client_id",pS="redirect_uri",_I="response_type",RI="response_mode",bI="grant_type",OI="claims",II="scope",kI="refresh_token",NI="state",MI="nonce",DI="prompt",xI="code",UI="code_challenge",LI="code_challenge_method",PI="code_verifier",HI="client-request-id",BI="x-client-SKU",GI="x-client-VER",zI="x-client-OS",KI="x-client-CPU",jI="x-client-current-telemetry",qI="x-client-last-telemetry",FI="x-ms-lib-capability",QI="x-app-name",YI="x-app-ver",VI="post_logout_redirect_uri",$I="id_token_hint",WI="client_secret",XI="client_assertion",JI="client_assertion_type",mS="token_type",yS="req_cnf",tE="return_spa_code",ZI="nativebroker",ek="logout_hint",tk="sid",nk="login_hint",ak="domain_hint",ik="x-client-xtra-sku",zc="brk_client_id",Kc="brk_redirect_uri",Of="instance_aware",rk="ear_jwk",ok="ear_jwe_crypto";function cu(i,e,a){if(!e)return;const r=i.get(qi);r&&i.has(zc)&&a?.addFields({embeddedClientId:r,embeddedRedirectUri:i.get(pS)},e)}function gg(i,e){i.set(_I,e)}function sk(i,e){i.set(RI,e||KO.QUERY)}function lk(i){i.set(ZI,"1")}function pg(i,e,a=!0,r=vi){a&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");const s=a?[...e||[],...r]:e||[],c=new yt(s);i.set(II,c.printScopes())}function mg(i,e){i.set(qi,e)}function yg(i,e){i.set(pS,e)}function ck(i,e){i.set(VI,e)}function uk(i,e){i.set($I,e)}function dk(i,e){i.set(ak,e)}function pc(i,e){i.set(nk,e)}function jc(i,e){i.set(Bt.CCS_HEADER,`UPN:${e}`)}function ys(i,e){i.set(Bt.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function nE(i,e){i.set(tk,e)}function vg(i,e,a){const r=yk(e,a);try{JSON.parse(r)}catch{throw $e(og)}i.set(OI,r)}function Cg(i,e){i.set(HI,e)}function Eg(i,e){i.set(BI,e.sku),i.set(GI,e.version),e.os&&i.set(zI,e.os),e.cpu&&i.set(KI,e.cpu)}function Tg(i,e){e?.appName&&i.set(QI,e.appName),e?.appVersion&&i.set(YI,e.appVersion)}function hk(i,e){i.set(DI,e)}function vS(i,e){e&&i.set(NI,e)}function fk(i,e){i.set(MI,e)}function Sg(i,e,a){if(e&&a)i.set(UI,e),i.set(LI,a);else throw $e(sg)}function gk(i,e){i.set(xI,e)}function pk(i,e){i.set(kI,e)}function mk(i,e){i.set(PI,e)}function CS(i,e){i.set(WI,e)}function ES(i,e){e&&i.set(XI,e)}function TS(i,e){e&&i.set(JI,e)}function SS(i,e){i.set(bI,e)}function Ag(i){i.set(jO,"1")}function AS(i){i.has(Of)||i.set(Of,"true")}function mi(i,e){Object.entries(e).forEach(([a,r])=>{!i.has(a)&&r&&i.set(a,r)})}function yk(i,e){let a;if(!i)a={};else try{a=JSON.parse(i)}catch{throw $e(og)}return e&&e.length>0&&(a.hasOwnProperty(fc.ACCESS_TOKEN)||(a[fc.ACCESS_TOKEN]={}),a[fc.ACCESS_TOKEN][fc.XMS_CC]={values:e}),JSON.stringify(a)}function wg(i,e){e&&(i.set(mS,Ge.POP),i.set(yS,e))}function wS(i,e){e&&(i.set(mS,Ge.SSH),i.set(yS,e))}function _S(i,e){i.set(jI,e.generateCurrentRequestHeaderValue()),i.set(qI,e.generateLastRequestHeaderValue())}function RS(i){i.set(FI,ms.X_MS_LIB_CAPABILITY_VALUE)}function vk(i,e){i.set(ek,e)}function uu(i,e,a){i.has(zc)||i.set(zc,e),i.has(Kc)||i.set(Kc,a)}function Ck(i,e){i.set(rk,encodeURIComponent(e)),i.set(ok,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}function Ek(i,e){Object.entries(e).forEach(([a,r])=>{r&&i.set(a,r)})}function Tk(i){return i.hasOwnProperty("authorization_endpoint")&&i.hasOwnProperty("token_endpoint")&&i.hasOwnProperty("issuer")&&i.hasOwnProperty("jwks_uri")}function Sk(i){return i.hasOwnProperty("tenant_discovery_endpoint")&&i.hasOwnProperty("metadata")}function Ak(i){return i.hasOwnProperty("error")&&i.hasOwnProperty("error_description")}const fn=(i,e,a,r,s)=>(...c)=>{a.trace(`Executing function ${e}`);const d=r?.startMeasurement(e,s);if(s){const f=e+"CallCount";r?.incrementFields({[f]:1},s)}try{const f=i(...c);return d?.end({success:!0}),a.trace(`Returning result from ${e}`),f}catch(f){a.trace(`Error occurred in ${e}`);try{a.trace(JSON.stringify(f))}catch{a.trace("Unable to print error message.")}throw d?.end({success:!1},f),f}},K=(i,e,a,r,s)=>(...c)=>{a.trace(`Executing function ${e}`);const d=r?.startMeasurement(e,s);if(s){const f=e+"CallCount";r?.incrementFields({[f]:1},s)}return r?.setPreQueueTime(e,s),i(...c).then(f=>(a.trace(`Returning result from ${e}`),d?.end({success:!0}),f)).catch(f=>{a.trace(`Error occurred in ${e}`);try{a.trace(JSON.stringify(f))}catch{a.trace("Unable to print error message.")}throw d?.end({success:!1},f),f})};class du{constructor(e,a,r,s){this.networkInterface=e,this.logger=a,this.performanceClient=r,this.correlationId=s}async detectRegion(e,a){this.performanceClient?.addQueueMeasurement(R.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)a.region_source=Pr.ENVIRONMENT_VARIABLE;else{const s=du.IMDS_OPTIONS;try{const c=await K(this.getRegionFromIMDS.bind(this),R.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(Y.IMDS_VERSION,s);if(c.status===hi.SUCCESS&&(r=c.body,a.region_source=Pr.IMDS),c.status===hi.BAD_REQUEST){const d=await K(this.getCurrentVersion.bind(this),R.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(s);if(!d)return a.region_source=Pr.FAILED_AUTO_DETECTION,null;const f=await K(this.getRegionFromIMDS.bind(this),R.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(d,s);f.status===hi.SUCCESS&&(r=f.body,a.region_source=Pr.IMDS)}}catch{return a.region_source=Pr.FAILED_AUTO_DETECTION,null}}return r||(a.region_source=Pr.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,a){return this.performanceClient?.addQueueMeasurement(R.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${Y.IMDS_ENDPOINT}?api-version=${e}&format=text`,a,Y.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(R.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const a=await this.networkInterface.sendGetRequestAsync(`${Y.IMDS_ENDPOINT}?format=json`,e);return a.status===hi.BAD_REQUEST&&a.body&&a.body["newest-versions"]&&a.body["newest-versions"].length>0?a.body["newest-versions"][0]:null}catch{return null}}}du.IMDS_OPTIONS={headers:{Metadata:"true"}};function Zt(){return Math.round(new Date().getTime()/1e3)}function aE(i){return i.getTime()/1e3}function Yr(i){return i?new Date(Number(i)*1e3):new Date}function qc(i,e){const a=Number(i)||0;return Zt()+e>a}function iE(i,e){const a=Number(i)+e*24*60*60*1e3;return Date.now()>a}function wk(i){return Number(i)>Zt()}function hu(i,e,a,r,s){return{credentialType:Ot.ID_TOKEN,homeAccountId:i,environment:e,clientId:r,secret:a,realm:s,lastUpdatedAt:Date.now().toString()}}function fu(i,e,a,r,s,c,d,f,g,p,y,v,T,S,O){const M={homeAccountId:i,credentialType:Ot.ACCESS_TOKEN,secret:a,cachedAt:Zt().toString(),expiresOn:d.toString(),extendedExpiresOn:f.toString(),environment:e,clientId:r,realm:s,target:c,tokenType:y||Ge.BEARER,lastUpdatedAt:Date.now().toString()};if(v&&(M.userAssertionHash=v),p&&(M.refreshOn=p.toString()),S&&(M.requestedClaims=S,M.requestedClaimsHash=O),M.tokenType?.toLowerCase()!==Ge.BEARER.toLowerCase())switch(M.credentialType=Ot.ACCESS_TOKEN_WITH_AUTH_SCHEME,M.tokenType){case Ge.POP:const I=Yn(a,g);if(!I?.cnf?.kid)throw J(jT);M.keyId=I.cnf.kid;break;case Ge.SSH:M.keyId=T}return M}function bS(i,e,a,r,s,c,d){const f={credentialType:Ot.REFRESH_TOKEN,homeAccountId:i,environment:e,clientId:r,secret:a,lastUpdatedAt:Date.now().toString()};return c&&(f.userAssertionHash=c),s&&(f.familyId=s),d&&(f.expiresOn=d.toString()),f}function gu(i){return i.hasOwnProperty("homeAccountId")&&i.hasOwnProperty("environment")&&i.hasOwnProperty("credentialType")&&i.hasOwnProperty("clientId")&&i.hasOwnProperty("secret")}function rE(i){return i?gu(i)&&i.hasOwnProperty("realm")&&i.hasOwnProperty("target")&&(i.credentialType===Ot.ACCESS_TOKEN||i.credentialType===Ot.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function _k(i){return i?gu(i)&&i.hasOwnProperty("realm")&&i.credentialType===Ot.ID_TOKEN:!1}function oE(i){return i?gu(i)&&i.credentialType===Ot.REFRESH_TOKEN:!1}function Rk(i,e){const a=i.indexOf(bt.CACHE_KEY)===0;let r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),a&&r}function bk(i,e){let a=!1;i&&(a=i.indexOf(ms.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),a&&r}function Ok({environment:i,clientId:e}){return[Wf,i,e].join(ws.CACHE_KEY_SEPARATOR).toLowerCase()}function Ik(i,e){return e?i.indexOf(Wf)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function kk(i,e){return e?i.indexOf(xc.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function sE(){return Zt()+xc.REFRESH_TIME_SECONDS}function mc(i,e,a){i.authorization_endpoint=e.authorization_endpoint,i.token_endpoint=e.token_endpoint,i.end_session_endpoint=e.end_session_endpoint,i.issuer=e.issuer,i.endpointsFromNetwork=a,i.jwks_uri=e.jwks_uri}function nf(i,e,a){i.aliases=e.aliases,i.preferred_cache=e.preferred_cache,i.preferred_network=e.preferred_network,i.aliasesFromNetwork=a}function lE(i){return i.expiresAt<=Zt()}class xt{constructor(e,a,r,s,c,d,f,g){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=a,this.cacheManager=r,this.authorityOptions=s,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=c,this.performanceClient=f,this.correlationId=d,this.managedIdentity=g||!1,this.regionDiscovery=new du(a,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(Y.CIAM_AUTH_URL))return Un.Ciam;const a=e.PathSegments;if(a.length)switch(a[0].toLowerCase()){case Y.ADFS:return Un.Adfs;case Y.DSTS:return Un.Dsts}return Un.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new De(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw J(Sa)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw J(Sa)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw J(Sa)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw J(QT);return this.replacePath(this.metadata.end_session_endpoint)}else throw J(Sa)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw J(Sa)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw J(Sa)}canReplaceTenant(e){return e.PathSegments.length===1&&!xt.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Un.Default&&this.protocolMode!==Wt.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let a=e;const s=new De(this.metadata.canonical_authority).getUrlComponents(),c=s.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((f,g)=>{let p=c[g];if(g===0&&this.canReplaceTenant(s)){const y=new De(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];p!==y&&(this.logger.verbose(`Replacing tenant domain name ${p} with id ${y}`),p=y)}f!==p&&(a=a.replace(`/${p}/`,`/${f}/`))}),this.replaceTenant(a)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Un.Adfs||this.protocolMode===Wt.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(R.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),a=await K(this.updateCloudDiscoveryMetadata.bind(this),R.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const r=await K(this.updateEndpointMetadata.bind(this),R.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,a,{source:r}),this.performanceClient?.addFields({cloudDiscoverySource:a,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:sE(),jwks_uri:""}),e}updateCachedMetadata(e,a,r){a!==un.CACHE&&r?.source!==un.CACHE&&(e.expiresAt=sE(),e.canonical_authority=this.canonicalAuthority);const s=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(s,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(R.AuthorityUpdateEndpointMetadata,this.correlationId);const a=this.updateEndpointMetadataFromLocalSources(e);if(a){if(a.source===un.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&a.metadata){const s=await K(this.updateMetadataWithRegionalInformation.bind(this),R.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(a.metadata);mc(e,s,!1),e.canonical_authority=this.canonicalAuthority}return a.source}let r=await K(this.getEndpointMetadataFromNetwork.bind(this),R.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(r=await K(this.updateMetadataWithRegionalInformation.bind(this),R.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),mc(e,r,!0),un.NETWORK;throw J(DT,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const a=this.getEndpointMetadataFromConfig();if(a)return this.logger.verbose("Found endpoint metadata in authority configuration"),mc(e,a,!1),{source:un.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const s=this.getEndpointMetadataFromHardcodedValues();if(s)return mc(e,s,!1),{source:un.HARDCODED_VALUES,metadata:s};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=lE(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:un.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new De(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw $e(eS)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(R.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},a=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${a}`);try{const r=await this.networkInterface.sendGetRequestAsync(a,e);return Tk(r.body)?r.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(r){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${r}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in JC?JC[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(R.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const a=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(a){if(a!==Y.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=ef.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=a,xt.replaceWithRegionalInformation(e,a);const r=await K(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),R.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(r)return this.regionDiscoveryMetadata.region_outcome=ef.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=r,xt.replaceWithRegionalInformation(e,r);this.regionDiscoveryMetadata.region_outcome=ef.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(R.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const a=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(a)return a;const r=await K(this.getCloudDiscoveryMetadataFromNetwork.bind(this),R.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return nf(e,r,!0),un.NETWORK;throw $e(tS)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||Y.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||Y.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||Y.NOT_APPLICABLE}`);const a=this.getCloudDiscoveryMetadataFromConfig();if(a)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),nf(e,a,!1),un.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const s=fI(this.hostnameAndPort);if(s)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),nf(e,s,!1),un.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=lE(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),un.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Un.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),xt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),a=Bc(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),a)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),a;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),$e(lg)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),xt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(R.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${Y.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,a={};let r=null;try{const s=await this.networkInterface.sendGetRequestAsync(e,a);let c,d;if(Sk(s.body))c=s.body,d=c.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${c.tenant_discovery_endpoint}`);else if(Ak(s.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${s.status}`),c=s.body,c.error===Y.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${c.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${c.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),d=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=Bc(d,this.hostnameAndPort)}catch(s){if(s instanceof ze)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${s.errorCode}
Error Description: ${s.errorMessage}`);else{const c=s;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${c.name}
Error Description: ${c.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=xt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(a=>a&&De.getDomainFromUrl(a).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,a){let r;if(a&&a.azureCloudInstance!==rg.None){const s=a.tenant?a.tenant:Y.DEFAULT_COMMON_TENANT;r=`${a.azureCloudInstance}/${s}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return Y.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw J(Sa)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return dS.has(e)}static isPublicCloudAuthority(e){return Y.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,a,r){const s=new De(e);s.validateAsUri();const c=s.getUrlComponents();let d=`${a}.${c.HostNameAndPort}`;this.isPublicCloudAuthority(c.HostNameAndPort)&&(d=`${a}.${Y.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const f=De.constructAuthorityUriFromObject({...s.getUrlComponents(),HostNameAndPort:d}).urlString;return r?`${f}?${r}`:f}static replaceWithRegionalInformation(e,a){const r={...e};return r.authorization_endpoint=xt.buildRegionalAuthorityString(r.authorization_endpoint,a),r.token_endpoint=xt.buildRegionalAuthorityString(r.token_endpoint,a),r.end_session_endpoint&&(r.end_session_endpoint=xt.buildRegionalAuthorityString(r.end_session_endpoint,a)),r}static transformCIAMAuthority(e){let a=e;const s=new De(e).getUrlComponents();if(s.PathSegments.length===0&&s.HostNameAndPort.endsWith(Y.CIAM_AUTH_URL)){const c=s.HostNameAndPort.split(".")[0];a=`${a}${c}${Y.AAD_TENANT_DOMAIN_SUFFIX}`}return a}}xt.reservedTenantDomains=new Set(["{tenant}","{tenantid}",gi.COMMON,gi.CONSUMERS,gi.ORGANIZATIONS]);function Nk(i){const r=new De(i).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(r){case gi.COMMON:case gi.ORGANIZATIONS:case gi.CONSUMERS:return;default:return r}}function OS(i){return i.endsWith(Y.FORWARD_SLASH)?i:`${i}${Y.FORWARD_SLASH}`}function Mk(i){const e=i.cloudDiscoveryMetadata;let a;if(e)try{a=JSON.parse(e)}catch{throw $e(lg)}return{canonicalAuthority:i.authority?OS(i.authority):void 0,knownAuthorities:i.knownAuthorities,cloudDiscoveryMetadata:a}}async function IS(i,e,a,r,s,c,d){d?.addQueueMeasurement(R.AuthorityFactoryCreateDiscoveredInstance,c);const f=xt.transformCIAMAuthority(OS(i)),g=new xt(f,e,a,r,s,c,d);try{return await K(g.resolveEndpointsAsync.bind(g),R.AuthorityResolveEndpointsAsync,s,d,c)(),g}catch{throw J(Sa)}}class Xi extends ze{constructor(e,a,r,s,c){super(e,a,r),this.name="ServerError",this.errorNo=s,this.status=c,Object.setPrototypeOf(this,Xi.prototype)}}function pu(i,e,a){return{clientId:i,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:a,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||e.tokenBodyParameters?.clientId}}class Fn{static generateThrottlingStorageKey(e){return`${ms.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,a,r){const s=Fn.generateThrottlingStorageKey(a),c=e.getThrottlingCache(s);if(c){if(c.throttleTime<Date.now()){e.removeItem(s,r);return}throw new Xi(c.errorCodes?.join(" ")||Y.EMPTY_STRING,c.errorMessage,c.subError)}}static postProcess(e,a,r,s){if(Fn.checkResponseStatus(r)||Fn.checkResponseForRetryAfter(r)){const c={throttleTime:Fn.calculateThrottleTime(parseInt(r.headers[Bt.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(Fn.generateThrottlingStorageKey(a),c,s)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Bt.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const a=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(a||ms.DEFAULT_THROTTLE_TIME_SECONDS),r+ms.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,a,r,s){const c=pu(a,r,s),d=this.generateThrottlingStorageKey(c);e.removeItem(d,r.correlationId)}}class mu extends ze{constructor(e,a,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,mu.prototype),this.name="NetworkError",this.error=e,this.httpStatus=a,this.responseHeaders=r}}function gs(i,e,a,r){return i.errorMessage=`${i.errorMessage}, additionalErrorInfo: error.name:${r?.name}, error.message:${r?.message}`,new mu(i,e,a)}class _g{constructor(e,a){this.config=AI(e),this.logger=new Oa(this.config.loggerOptions,YT,ig),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=a}createTokenRequestHeaders(e){const a={};if(a[Bt.CONTENT_TYPE]=Y.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Pn.HOME_ACCOUNT_ID:try{const r=Fr(e.credential);a[Bt.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Pn.UPN:a[Bt.CCS_HEADER]=`UPN: ${e.credential}`;break}return a}async executePostToTokenEndpoint(e,a,r,s,c,d){d&&this.performanceClient?.addQueueMeasurement(d,c);const f=await this.sendPostRequest(s,e,{body:a,headers:r},c);return this.config.serverTelemetryManager&&f.status<500&&f.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),f}async sendPostRequest(e,a,r,s){Fn.preProcess(this.cacheManager,e,s);let c;try{c=await K(this.networkClient.sendPostRequestAsync.bind(this.networkClient),R.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,s)(a,r);const d=c.headers||{};this.performanceClient?.addFields({refreshTokenSize:c.body.refresh_token?.length||0,httpVerToken:d[Bt.X_MS_HTTP_VERSION]||"",requestId:d[Bt.X_MS_REQUEST_ID]||""},s)}catch(d){if(d instanceof mu){const f=d.responseHeaders;throw f&&this.performanceClient?.addFields({httpVerToken:f[Bt.X_MS_HTTP_VERSION]||"",requestId:f[Bt.X_MS_REQUEST_ID]||"",contentTypeHeader:f[Bt.CONTENT_TYPE]||void 0,contentLengthHeader:f[Bt.CONTENT_LENGTH]||void 0,httpStatus:d.httpStatus},s),d.error}throw d instanceof ze?d:J(MT)}return Fn.postProcess(this.cacheManager,e,c,s),c}async updateAuthority(e,a){this.performanceClient?.addQueueMeasurement(R.UpdateTokenEndpointAuthority,a);const r=`https://${e}/${this.authority.tenant}/`,s=await IS(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,a,this.performanceClient);this.authority=s}createTokenQueryParameters(e){const a=new Map;return e.embeddedClientId&&uu(a,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&mi(a,e.tokenQueryParameters),Cg(a,e.correlationId),cu(a,e.correlationId,this.performanceClient),_s(a)}}const Fc="no_tokens_found",kS="native_account_unavailable",Rg="refresh_token_expired",bg="ux_not_allowed",Dk="interaction_required",xk="consent_required",Uk="login_required",yu="bad_token";const cE=[Dk,xk,Uk,yu,bg],Lk=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Pk={[Fc]:"No refresh token found in the cache. Please sign-in.",[kS]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Rg]:"Refresh token has expired.",[yu]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[bg]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class Rn extends ze{constructor(e,a,r,s,c,d,f,g){super(e,a,r),Object.setPrototypeOf(this,Rn.prototype),this.timestamp=s||Y.EMPTY_STRING,this.traceId=c||Y.EMPTY_STRING,this.correlationId=d||Y.EMPTY_STRING,this.claims=f||Y.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=g}}function NS(i,e,a){const r=!!i&&cE.indexOf(i)>-1,s=!!a&&Lk.indexOf(a)>-1,c=!!e&&cE.some(d=>e.indexOf(d)>-1);return r||c||s}function Qc(i){return new Rn(i,Pk[i])}class oo{static setRequestState(e,a,r){const s=oo.generateLibraryState(e,r);return a?`${s}${Y.RESOURCE_DELIM}${a}`:s}static generateLibraryState(e,a){if(!e)throw J(_f);const r={id:e.createNewGuid()};a&&(r.meta=a);const s=JSON.stringify(r);return e.base64Encode(s)}static parseRequestState(e,a){if(!e)throw J(_f);if(!a)throw J(Jr);try{const r=a.split(Y.RESOURCE_DELIM),s=r[0],c=r.length>1?r.slice(1).join(Y.RESOURCE_DELIM):Y.EMPTY_STRING,d=e.base64Decode(s),f=JSON.parse(d);return{userRequestState:c||Y.EMPTY_STRING,libraryState:f}}catch{throw J(Jr)}}}const Hk={SW:"sw"};class Zr{constructor(e,a){this.cryptoUtils=e,this.performanceClient=a}async generateCnf(e,a){this.performanceClient?.addQueueMeasurement(R.PopTokenGenerateCnf,e.correlationId);const r=await K(this.generateKid.bind(this),R.PopTokenGenerateCnf,a,this.performanceClient,e.correlationId)(e),s=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:s}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(R.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:Hk.SW}}async signPopToken(e,a,r){return this.signPayload(e,a,r)}async signPayload(e,a,r,s){const{resourceRequestMethod:c,resourceRequestUri:d,shrClaims:f,shrNonce:g,shrOptions:p}=r,v=(d?new De(d):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Zt(),m:c?.toUpperCase(),u:v?.HostNameAndPort,nonce:g||this.cryptoUtils.createNewGuid(),p:v?.AbsolutePath,q:v?.QueryString?[[],v.QueryString]:void 0,client_claims:f||void 0,...s},a,p,r.correlationId)}}class Bk{constructor(e,a){this.cache=e,this.hasChanged=a}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class Fi{constructor(e,a,r,s,c,d,f){this.clientId=e,this.cacheStorage=a,this.cryptoObj=r,this.logger=s,this.serializableCache=c,this.persistencePlugin=d,this.performanceClient=f}validateTokenResponse(e,a){if(e.error||e.error_description||e.suberror){const r=`Error(s): ${e.error_codes||Y.NOT_AVAILABLE} - Timestamp: ${e.timestamp||Y.NOT_AVAILABLE} - Description: ${e.error_description||Y.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||Y.NOT_AVAILABLE} - Trace ID: ${e.trace_id||Y.NOT_AVAILABLE}`,s=e.error_codes?.length?e.error_codes[0]:void 0,c=new Xi(e.error,r,e.suberror,s,e.status);if(a&&e.status&&e.status>=hi.SERVER_ERROR_RANGE_START&&e.status<=hi.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${c}`);return}else if(a&&e.status&&e.status>=hi.CLIENT_ERROR_RANGE_START&&e.status<=hi.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${c}`);return}throw NS(e.error,e.error_description,e.suberror)?new Rn(e.error,e.error_description,e.suberror,e.timestamp||Y.EMPTY_STRING,e.trace_id||Y.EMPTY_STRING,e.correlation_id||Y.EMPTY_STRING,e.claims||Y.EMPTY_STRING,s):c}}async handleServerTokenResponse(e,a,r,s,c,d,f,g,p){this.performanceClient?.addQueueMeasurement(R.HandleServerTokenResponse,e.correlation_id);let y;if(e.id_token){if(y=Yn(e.id_token||Y.EMPTY_STRING,this.cryptoObj.base64Decode),c&&c.nonce&&y.nonce!==c.nonce)throw J(LT);if(s.maxAge||s.maxAge===0){const O=y.auth_time;if(!O)throw J(Zf);lS(O,s.maxAge)}}this.homeAccountIdentifier=rt.generateHomeAccountId(e.client_info||Y.EMPTY_STRING,a.authorityType,this.logger,this.cryptoObj,y);let v;c&&c.state&&(v=oo.parseRequestState(this.cryptoObj,c.state)),e.key_id=e.key_id||s.sshKid||void 0;const T=this.generateCacheRecord(e,a,r,s,y,d,c);let S;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),S=new Bk(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(S)),f&&!g&&T.account){const O=this.cacheStorage.generateAccountKey(rt.getAccountInfo(T.account));if(!this.cacheStorage.getAccount(O,s.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Fi.generateAuthenticationResult(this.cryptoObj,a,T,!1,s,y,v,void 0,p)}await this.cacheStorage.saveCacheRecord(T,s.correlationId,$n(y||{}),s.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&S&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(S))}return Fi.generateAuthenticationResult(this.cryptoObj,a,T,!1,s,y,v,e,p)}generateCacheRecord(e,a,r,s,c,d,f){const g=a.getPreferredCache();if(!g)throw J(tg);const p=dg(c);let y,v;e.id_token&&c&&(y=hu(this.homeAccountIdentifier,g,e.id_token,this.clientId,p||""),v=Og(this.cacheStorage,a,this.homeAccountIdentifier,this.cryptoObj.base64Decode,s.correlationId,c,e.client_info,g,p,f,void 0,this.logger));let T=null;if(e.access_token){const M=e.scope?yt.fromString(e.scope):new yt(s.scopes||[]),I=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,P=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,L=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,B=r+I,$=B+P,V=L&&L>0?r+L:void 0;T=fu(this.homeAccountIdentifier,g,e.access_token,this.clientId,p||a.tenant||"",M.printScopes(),B,$,this.cryptoObj.base64Decode,V,e.token_type,d,e.key_id,s.claims,s.requestedClaimsHash)}let S=null;if(e.refresh_token){let M;if(e.refresh_token_expires_in){const I=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;M=r+I}S=bS(this.homeAccountIdentifier,g,e.refresh_token,this.clientId,e.foci,d,M)}let O=null;return e.foci&&(O={clientId:this.clientId,environment:g,familyId:e.foci}),{account:v,idToken:y,accessToken:T,refreshToken:S,appMetadata:O}}static async generateAuthenticationResult(e,a,r,s,c,d,f,g,p){let y=Y.EMPTY_STRING,v=[],T=null,S,O,M=Y.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===Ge.POP&&!c.popKid){const B=new Zr(e),{secret:$,keyId:V}=r.accessToken;if(!V)throw J(ng);y=await B.signPopToken($,V,c)}else y=r.accessToken.secret;v=yt.fromString(r.accessToken.target).asArray(),T=Yr(r.accessToken.expiresOn),S=Yr(r.accessToken.extendedExpiresOn),r.accessToken.refreshOn&&(O=Yr(r.accessToken.refreshOn))}r.appMetadata&&(M=r.appMetadata.familyId===Dc?Dc:"");const I=d?.oid||d?.sub||"",P=d?.tid||"";g?.spa_accountid&&r.account&&(r.account.nativeAccountId=g?.spa_accountid);const L=r.account?ug(rt.getAccountInfo(r.account),void 0,d,r.idToken?.secret):null;return{authority:a.canonicalAuthority,uniqueId:I,tenantId:P,scopes:v,account:L,idToken:r?.idToken?.secret||"",idTokenClaims:d||{},accessToken:y,fromCache:s,expiresOn:T,extExpiresOn:S,refreshOn:O,correlationId:c.correlationId,requestId:p||Y.EMPTY_STRING,familyId:M,tokenType:r.accessToken?.tokenType||Y.EMPTY_STRING,state:f?f.userRequestState:Y.EMPTY_STRING,cloudGraphHostName:r.account?.cloudGraphHostName||Y.EMPTY_STRING,msGraphHost:r.account?.msGraphHost||Y.EMPTY_STRING,code:g?.spa_code,fromNativeBroker:!1}}}function Og(i,e,a,r,s,c,d,f,g,p,y,v){v?.verbose("setCachedAccount called");const S=i.getAccountKeys().find(L=>L.startsWith(a));let O=null;S&&(O=i.getAccount(S,s));const M=O||rt.createAccount({homeAccountId:a,idTokenClaims:c,clientInfo:d,environment:f,cloudGraphHostName:p?.cloud_graph_host_name,msGraphHost:p?.msgraph_host,nativeAccountId:y},e,r),I=M.tenantProfiles||[],P=g||M.realm;if(P&&!I.find(L=>L.tenantId===P)){const L=lu(a,M.localAccountId,P,c);I.push(L)}return M.tenantProfiles=I,M}async function MS(i,e,a){return typeof i=="string"?i:i({clientId:e,tokenEndpoint:a})}class DS extends _g{constructor(e,a){super(e,a),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(e,a){if(this.performanceClient?.addQueueMeasurement(R.AuthClientAcquireToken,e.correlationId),!e.code)throw J(BT);const r=Zt(),s=await K(this.executeTokenRequest.bind(this),R.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),c=s.headers?.[Bt.X_MS_REQUEST_ID],d=new Fi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return d.validateTokenResponse(s.body),K(d.handleServerTokenResponse.bind(d),R.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(s.body,this.authority,r,e,a,void 0,void 0,void 0,c)}getLogoutUri(e){if(!e)throw $e(ZT);const a=this.createLogoutUrlQueryString(e);return De.appendQueryString(this.authority.endSessionEndpoint,a)}async executeTokenRequest(e,a){this.performanceClient?.addQueueMeasurement(R.AuthClientExecuteTokenRequest,a.correlationId);const r=this.createTokenQueryParameters(a),s=De.appendQueryString(e.tokenEndpoint,r),c=await K(this.createTokenRequestBody.bind(this),R.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,a.correlationId)(a);let d;if(a.clientInfo)try{const p=Pc(a.clientInfo,this.cryptoUtils.base64Decode);d={credential:`${p.uid}${ws.CLIENT_INFO_SEPARATOR}${p.utid}`,type:Pn.HOME_ACCOUNT_ID}}catch(p){this.logger.verbose("Could not parse client info for CCS Header: "+p)}const f=this.createTokenRequestHeaders(d||a.ccsCredential),g=pu(this.config.authOptions.clientId,a);return K(this.executePostToTokenEndpoint.bind(this),R.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,a.correlationId)(s,c,f,g,a.correlationId,R.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(R.AuthClientCreateTokenRequestBody,e.correlationId);const a=new Map;if(mg(a,e.embeddedClientId||e.tokenBodyParameters?.[qi]||this.config.authOptions.clientId),this.includeRedirectUri)yg(a,e.redirectUri);else if(!e.redirectUri)throw $e(VT);if(pg(a,e.scopes,!0,this.oidcDefaultScopes),gk(a,e.code),Eg(a,this.config.libraryInfo),Tg(a,this.config.telemetry.application),RS(a),this.serverTelemetryManager&&!gS(this.config)&&_S(a,this.serverTelemetryManager),e.codeVerifier&&mk(a,e.codeVerifier),this.config.clientCredentials.clientSecret&&CS(a,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;ES(a,await MS(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),TS(a,s.assertionType)}if(SS(a,OT.AUTHORIZATION_CODE_GRANT),Ag(a),e.authenticationScheme===Ge.POP){const s=new Zr(this.cryptoUtils,this.performanceClient);let c;e.popKid?c=this.cryptoUtils.encodeKid(e.popKid):c=(await K(s.generateCnf.bind(s),R.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,wg(a,c)}else if(e.authenticationScheme===Ge.SSH)if(e.sshJwk)wS(a,e.sshJwk);else throw $e(su);(!hn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&vg(a,e.claims,this.config.authOptions.clientCapabilities);let r;if(e.clientInfo)try{const s=Pc(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${s.uid}${ws.CLIENT_INFO_SEPARATOR}${s.utid}`,type:Pn.HOME_ACCOUNT_ID}}catch(s){this.logger.verbose("Could not parse client info for CCS Header: "+s)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case Pn.HOME_ACCOUNT_ID:try{const s=Fr(r.credential);ys(a,s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case Pn.UPN:jc(a,r.credential);break}return e.embeddedClientId&&uu(a,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&mi(a,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[tE])&&mi(a,{[tE]:"1"}),cu(a,e.correlationId,this.performanceClient),_s(a)}createLogoutUrlQueryString(e){const a=new Map;return e.postLogoutRedirectUri&&ck(a,e.postLogoutRedirectUri),e.correlationId&&Cg(a,e.correlationId),e.idTokenHint&&uk(a,e.idTokenHint),e.state&&vS(a,e.state),e.logoutHint&&vk(a,e.logoutHint),e.extraQueryParameters&&mi(a,e.extraQueryParameters),this.config.authOptions.instanceAware&&AS(a),_s(a,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}const Gk=300;class zk extends _g{constructor(e,a){super(e,a)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(R.RefreshTokenClientAcquireToken,e.correlationId);const a=Zt(),r=await K(this.executeTokenRequest.bind(this),R.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),s=r.headers?.[Bt.X_MS_REQUEST_ID],c=new Fi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return c.validateTokenResponse(r.body),K(c.handleServerTokenResponse.bind(c),R.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,a,e,void 0,void 0,!0,e.forceCache,s)}async acquireTokenByRefreshToken(e){if(!e)throw $e(JT);if(this.performanceClient?.addQueueMeasurement(R.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw J(eg);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await K(this.acquireTokenWithCachedRefreshToken.bind(this),R.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(r){const s=r instanceof Rn&&r.errorCode===Fc,c=r instanceof Xi&&r.errorCode===QC.INVALID_GRANT_ERROR&&r.subError===QC.CLIENT_MISMATCH_ERROR;if(s||c)return K(this.acquireTokenWithCachedRefreshToken.bind(this),R.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw r}return K(this.acquireTokenWithCachedRefreshToken.bind(this),R.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,a){this.performanceClient?.addQueueMeasurement(R.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const r=fn(this.cacheManager.getRefreshToken.bind(this.cacheManager),R.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,a,e.correlationId,void 0,this.performanceClient);if(!r)throw Qc(Fc);if(r.expiresOn&&qc(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||Gk))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),Qc(Rg);const s={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||Ge.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Pn.HOME_ACCOUNT_ID}};try{return await K(this.acquireToken.bind(this),R.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(s)}catch(c){if(c instanceof Rn&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),c.subError===yu)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const d=this.cacheManager.generateCredentialKey(r);this.cacheManager.removeRefreshToken(d,e.correlationId)}throw c}}async executeTokenRequest(e,a){this.performanceClient?.addQueueMeasurement(R.RefreshTokenClientExecuteTokenRequest,e.correlationId);const r=this.createTokenQueryParameters(e),s=De.appendQueryString(a.tokenEndpoint,r),c=await K(this.createTokenRequestBody.bind(this),R.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),d=this.createTokenRequestHeaders(e.ccsCredential),f=pu(this.config.authOptions.clientId,e);return K(this.executePostToTokenEndpoint.bind(this),R.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(s,c,d,f,e.correlationId,R.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(R.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const a=new Map;if(mg(a,e.embeddedClientId||e.tokenBodyParameters?.[qi]||this.config.authOptions.clientId),e.redirectUri&&yg(a,e.redirectUri),pg(a,e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),SS(a,OT.REFRESH_TOKEN_GRANT),Ag(a),Eg(a,this.config.libraryInfo),Tg(a,this.config.telemetry.application),RS(a),this.serverTelemetryManager&&!gS(this.config)&&_S(a,this.serverTelemetryManager),pk(a,e.refreshToken),this.config.clientCredentials.clientSecret&&CS(a,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const r=this.config.clientCredentials.clientAssertion;ES(a,await MS(r.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),TS(a,r.assertionType)}if(e.authenticationScheme===Ge.POP){const r=new Zr(this.cryptoUtils,this.performanceClient);let s;e.popKid?s=this.cryptoUtils.encodeKid(e.popKid):s=(await K(r.generateCnf.bind(r),R.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,wg(a,s)}else if(e.authenticationScheme===Ge.SSH)if(e.sshJwk)wS(a,e.sshJwk);else throw $e(su);if((!hn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&vg(a,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Pn.HOME_ACCOUNT_ID:try{const r=Fr(e.ccsCredential.credential);ys(a,r)}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Pn.UPN:jc(a,e.ccsCredential.credential);break}return e.embeddedClientId&&uu(a,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&mi(a,e.tokenBodyParameters),cu(a,e.correlationId,this.performanceClient),_s(a)}}class Kk extends _g{constructor(e,a){super(e,a)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(R.SilentFlowClientAcquireCachedToken,e.correlationId);let a=zi.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!hn.isEmptyObj(e.claims))throw this.setCacheOutcome(zi.FORCE_REFRESH_OR_CLAIMS,e.correlationId),J(pi);if(!e.account)throw J(eg);const r=e.account.tenantId||Nk(e.authority),s=this.cacheManager.getTokenKeys(),c=this.cacheManager.getAccessToken(e.account,e,s,r);if(c){if(wk(c.cachedAt)||qc(c.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(zi.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),J(pi);c.refreshOn&&qc(c.refreshOn,0)&&(a=zi.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(zi.NO_CACHED_ACCESS_TOKEN,e.correlationId),J(pi);const d=e.authority||this.authority.getPreferredCache(),f={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(e.account),e.correlationId),accessToken:c,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,s,r,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(d)};return this.setCacheOutcome(a,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await K(this.generateResultFromCacheRecord.bind(this),R.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(f,e),a]}setCacheOutcome(e,a){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},a),e!==zi.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,a){this.performanceClient?.addQueueMeasurement(R.SilentFlowClientGenerateResultFromCacheRecord,a.correlationId);let r;if(e.idToken&&(r=Yn(e.idToken.secret,this.config.cryptoInterface.base64Decode)),a.maxAge||a.maxAge===0){const s=r?.auth_time;if(!s)throw J(Zf);lS(s,a.maxAge)}return Fi.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,a,r)}}const jk={sendGetRequestAsync:()=>Promise.reject(J(Ae)),sendPostRequestAsync:()=>Promise.reject(J(Ae))};function qk(i,e,a,r){const s=e.correlationId,c=new Map;mg(c,e.embeddedClientId||e.extraQueryParameters?.[qi]||i.clientId);const d=[...e.scopes||[],...e.extraScopesToConsent||[]];if(pg(c,d,!0,i.authority.options.OIDCOptions?.defaultScopes),yg(c,e.redirectUri),Cg(c,s),sk(c,e.responseMode),Ag(c),e.prompt&&(hk(c,e.prompt),r?.addFields({prompt:e.prompt},s)),e.domainHint&&(dk(c,e.domainHint),r?.addFields({domainHintFromRequest:!0},s)),e.prompt!==kt.SELECT_ACCOUNT)if(e.sid&&e.prompt===kt.NONE)a.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),nE(c,e.sid),r?.addFields({sidFromRequest:!0},s);else if(e.account){const f=Yk(e.account);let g=Vk(e.account);if(g&&e.domainHint&&(a.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),g=null),g){a.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),pc(c,g),r?.addFields({loginHintFromClaim:!0},s);try{const p=Fr(e.account.homeAccountId);ys(c,p)}catch{a.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(f&&e.prompt===kt.NONE){a.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),nE(c,f),r?.addFields({sidFromClaim:!0},s);try{const p=Fr(e.account.homeAccountId);ys(c,p)}catch{a.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)a.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),pc(c,e.loginHint),jc(c,e.loginHint),r?.addFields({loginHintFromRequest:!0},s);else if(e.account.username){a.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),pc(c,e.account.username),r?.addFields({loginHintFromUpn:!0},s);try{const p=Fr(e.account.homeAccountId);ys(c,p)}catch{a.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(a.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),pc(c,e.loginHint),jc(c,e.loginHint),r?.addFields({loginHintFromRequest:!0},s));else a.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&fk(c,e.nonce),e.state&&vS(c,e.state),(e.claims||i.clientCapabilities&&i.clientCapabilities.length>0)&&vg(c,e.claims,i.clientCapabilities),e.embeddedClientId&&uu(c,i.clientId,i.redirectUri),i.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(Of))&&AS(c),c}function Ig(i,e,a,r){const s=_s(e,a,r);return De.appendQueryString(i.authorizationEndpoint,s)}function Fk(i,e){if(xS(i,e),!i.code)throw J(qT);return i}function xS(i,e){if(!i.state||!e)throw i.state?J(Sf,"Cached State"):J(Sf,"Server State");let a,r;try{a=decodeURIComponent(i.state)}catch{throw J(Jr,i.state)}try{r=decodeURIComponent(e)}catch{throw J(Jr,i.state)}if(a!==r)throw J(UT);if(i.error||i.error_description||i.suberror){const s=Qk(i);throw NS(i.error,i.error_description,i.suberror)?new Rn(i.error||"",i.error_description,i.suberror,i.timestamp||"",i.trace_id||"",i.correlation_id||"",i.claims||"",s):new Xi(i.error||"",i.error_description,i.suberror,s)}}function Qk(i){const e="code=",a=i.error_uri?.lastIndexOf(e);return a&&a>=0?i.error_uri?.substring(a+e.length):void 0}function Yk(i){return i.idTokenClaims?.sid||null}function Vk(i){return i.loginHint||i.idTokenClaims?.login_hint||null}const uE=",",US="|";function $k(i){const{skus:e,libraryName:a,libraryVersion:r,extensionName:s,extensionVersion:c}=i,d=new Map([[0,[a,r]],[2,[s,c]]]);let f=[];if(e?.length){if(f=e.split(uE),f.length<4)return e}else f=Array.from({length:4},()=>US);return d.forEach((g,p)=>{g.length===2&&g[0]?.length&&g[1]?.length&&Wk({skuArr:f,index:p,skuName:g[0],skuVersion:g[1]})}),f.join(uE)}function Wk(i){const{skuArr:e,index:a,skuName:r,skuVersion:s}=i;a>=e.length||(e[a]=[r,s].join(US))}class Rs{constructor(e,a){this.cacheOutcome=zi.NOT_APPLICABLE,this.cacheManager=a,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||Y.EMPTY_STRING,this.wrapperVer=e.wrapperVer||Y.EMPTY_STRING,this.telemetryCacheKey=bt.CACHE_KEY+ws.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${bt.VALUE_SEPARATOR}${this.cacheOutcome}`,a=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r?.length&&a.push(`broker_error=${r}`);const s=a.join(bt.VALUE_SEPARATOR),c=this.getRegionDiscoveryFields(),d=[e,c].join(bt.VALUE_SEPARATOR);return[bt.SCHEMA_VERSION,d,s].join(bt.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),a=Rs.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*a).join(bt.VALUE_SEPARATOR),s=e.errors.slice(0,a).join(bt.VALUE_SEPARATOR),c=e.errors.length,d=a<c?bt.OVERFLOW_TRUE:bt.OVERFLOW_FALSE,f=[c,d].join(bt.VALUE_SEPARATOR);return[bt.SCHEMA_VERSION,e.cacheHits,r,s,f].join(bt.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const a=this.getLastRequests();a.errors.length>=bt.MAX_CACHED_ERRORS&&(a.failedRequests.shift(),a.failedRequests.shift(),a.errors.shift()),a.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof ze?e.subError?a.errors.push(e.subError):e.errorCode?a.errors.push(e.errorCode):a.errors.push(e.toString()):a.errors.push(e.toString()):a.errors.push(bt.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,a,this.correlationId)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),a=Rs.maxErrorsToSend(e),r=e.errors.length;if(a===r)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const s={failedRequests:e.failedRequests.slice(a*2),errors:e.errors.slice(a),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,s,this.correlationId)}}static maxErrorsToSend(e){let a,r=0,s=0;const c=e.errors.length;for(a=0;a<c;a++){const d=e.failedRequests[2*a]||Y.EMPTY_STRING,f=e.failedRequests[2*a+1]||Y.EMPTY_STRING,g=e.errors[a]||Y.EMPTY_STRING;if(s+=d.toString().length+f.toString().length+g.length+3,s<bt.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||Y.EMPTY_STRING),e.push(this.regionSource||Y.EMPTY_STRING),e.push(this.regionOutcome||Y.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const a=this.getLastRequests();a.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,a,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return $k(e)}}const LS="missing_kid_error",PS="missing_alg_error";const Xk={[LS]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[PS]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class kg extends ze{constructor(e,a){super(e,a),this.name="JoseHeaderError",Object.setPrototypeOf(this,kg.prototype)}}function dE(i){return new kg(i,Xk[i])}class Ng{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw dE(LS);if(!e.alg)throw dE(PS);const a=new Ng({typ:e.typ||qO.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(a)}}const Mg="pkce_not_created",Dg="ear_jwk_empty",HS="ear_jwe_empty",If="crypto_nonexistent",vu="empty_navigate_uri",BS="hash_empty_error",xg="no_state_in_hash",GS="hash_does_not_contain_known_properties",zS="unable_to_parse_state",KS="state_interaction_type_mismatch",jS="interaction_in_progress",qS="popup_window_error",FS="empty_window_error",bs="user_cancelled",Jk="monitor_popup_timeout",QS="monitor_window_timeout",YS="redirect_in_iframe",VS="block_iframe_reload",$S="block_nested_popups",Zk="iframe_closed_prematurely",Cu="silent_logout_unsupported",WS="no_account_error",eN="silent_prompt_value_error",XS="no_token_request_cache_error",JS="unable_to_parse_token_request_cache_error",tN="auth_request_not_set_error",nN="invalid_cache_type",Eu="non_browser_environment",Kr="database_not_open",Yc="no_network_connectivity",ZS="post_request_failed",eA="get_request_failed",kf="failed_to_parse_response",tA="unable_to_load_token",Ug="crypto_key_not_found",nA="auth_code_required",aA="auth_code_or_nativeAccountId_required",iA="spa_code_and_nativeAccountId_present",Lg="database_unavailable",rA="unable_to_acquire_token_from_native_platform",oA="native_handshake_timeout",sA="native_extension_not_installed",Pg="native_connection_not_established",vs="uninitialized_public_client_application",lA="native_prompt_not_supported",cA="invalid_base64_string",uA="invalid_pop_token_request",dA="failed_to_build_headers",hA="failed_to_parse_headers",_c="failed_to_decrypt_ear_response",Vc="timed_out";const Ea="For more visit: aka.ms/msaljs/browser-errors",aN={[Mg]:"The PKCE code challenge and verifier could not be generated.",[Dg]:"No EAR encryption key provided. This is unexpected.",[HS]:"Server response does not contain ear_jwe property. This is unexpected.",[If]:"The crypto object or function is not available.",[vu]:"Navigation URI is empty. Please check stack trace for more info.",[BS]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Ea}`,[xg]:"Hash does not contain state. Please verify that the request originated from msal.",[GS]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Ea}`,[zS]:"Unable to parse state. Please verify that the request originated from msal.",[KS]:"Hash contains state but the interaction type does not match the caller.",[jS]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Ea}`,[qS]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[FS]:"window.open returned null or undefined window object.",[bs]:"User cancelled the flow.",[Jk]:`Token acquisition in popup failed due to timeout.  ${Ea}`,[QS]:`Token acquisition in iframe failed due to timeout.  ${Ea}`,[YS]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[VS]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Ea}`,[$S]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Zk]:"The iframe being monitored was closed prematurely.",[Cu]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[WS]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[eN]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[XS]:"No token request found in cache.",[JS]:"The cached token request could not be parsed.",[tN]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[nN]:"Invalid cache type",[Eu]:"Login and token requests are not supported in non-browser environments.",[Kr]:"Database is not open!",[Yc]:"No network connectivity. Check your internet connection.",[ZS]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[eA]:"Network request failed. Please check the network trace to determine root cause.",[kf]:"Failed to parse network response. Check network trace.",[tA]:"Error loading token to cache.",[Ug]:"Cryptographic Key or Keypair not found in browser storage.",[nA]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[aA]:"An authorization code or nativeAccountId must be provided to this flow.",[iA]:"Request cannot contain both spa code and native account id.",[Lg]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[rA]:`Unable to acquire token from native platform.  ${Ea}`,[oA]:"Timed out while attempting to establish connection to browser extension",[sA]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Pg]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Ea}`,[vs]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Ea}`,[lA]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[cA]:"Invalid base64 encoded string.",[uA]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[dA]:"Failed to build request headers object.",[hA]:"Failed to parse response headers",[_c]:"Failed to decrypt ear response",[Vc]:"The request timed out."};class Hs extends ze{constructor(e,a){super(e,aN[e],a),Object.setPrototypeOf(this,Hs.prototype),this.name="BrowserAuthError"}}function se(i,e){return new Hs(i,e)}const $t={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},_n={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},us={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},Et={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},hE={GET:"GET",POST:"POST"},di={SIGNIN:"signin",SIGNOUT:"signout"},gt={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},yc={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Le={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var pe;(function(i){i.Redirect="redirect",i.Popup="popup",i.Silent="silent",i.None="none"})(pe||(pe={}));const Qe={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},fE={scopes:vi},fA="jwk",iN={React:"@azure/msal-react"},Nf="msal.db",rN=1,oN=`${Nf}.keys`,Ht={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},sN=[Ht.Default,Ht.Skip,Ht.RefreshTokenAndNetwork];function vc(i){return encodeURIComponent(Os(i).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Ci(i){return gA(i).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Os(i){return gA(new TextEncoder().encode(i))}function gA(i){const e=Array.from(i,a=>String.fromCodePoint(a)).join("");return btoa(e)}function Gt(i){return new TextDecoder().decode(yi(i))}function yi(i){let e=i.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw se(cA)}const a=atob(e);return Uint8Array.from(a,r=>r.codePointAt(0)||0)}const lN="RSASSA-PKCS1-v1_5",so="AES-GCM",pA="HKDF",Hg="SHA-256",cN=2048,uN=new Uint8Array([1,0,1]),gE="0123456789abcdef",pE=new Uint32Array(1),Bg="raw",mA="encrypt",Gg="decrypt",dN="deriveKey",hN="crypto_subtle_undefined",zg={name:lN,hash:Hg,modulusLength:cN,publicExponent:uN};function fN(i){if(!window)throw se(Eu);if(!window.crypto)throw se(If);if(!i&&!window.crypto.subtle)throw se(If,hN)}async function yA(i,e,a){e?.addQueueMeasurement(R.Sha256Digest,a);const s=new TextEncoder().encode(i);return window.crypto.subtle.digest(Hg,s)}function gN(i){return window.crypto.getRandomValues(i)}function af(){return window.crypto.getRandomValues(pE),pE[0]}function Bn(){const i=Date.now(),e=af()*1024+(af()&1023),a=new Uint8Array(16),r=Math.trunc(e/2**30),s=e&2**30-1,c=af();a[0]=i/2**40,a[1]=i/2**32,a[2]=i/2**24,a[3]=i/2**16,a[4]=i/2**8,a[5]=i,a[6]=112|r>>>8,a[7]=r,a[8]=128|s>>>24,a[9]=s>>>16,a[10]=s>>>8,a[11]=s,a[12]=c>>>24,a[13]=c>>>16,a[14]=c>>>8,a[15]=c;let d="";for(let f=0;f<a.length;f++)d+=gE.charAt(a[f]>>>4),d+=gE.charAt(a[f]&15),(f===3||f===5||f===7||f===9)&&(d+="-");return d}async function pN(i,e){return window.crypto.subtle.generateKey(zg,i,e)}async function rf(i){return window.crypto.subtle.exportKey(fA,i)}async function mN(i,e,a){return window.crypto.subtle.importKey(fA,i,zg,e,a)}async function yN(i,e){return window.crypto.subtle.sign(zg,i,e)}async function Kg(){const i=await vA(),a={alg:"dir",kty:"oct",k:Ci(new Uint8Array(i))};return Os(JSON.stringify(a))}async function vN(i){const e=Gt(i),r=JSON.parse(e).k,s=yi(r);return window.crypto.subtle.importKey(Bg,s,so,!1,[Gg])}async function CN(i,e){const a=e.split(".");if(a.length!==5)throw se(_c,"jwe_length");const r=await vN(i).catch(()=>{throw se(_c,"import_key")});try{const s=new TextEncoder().encode(a[0]),c=yi(a[2]),d=yi(a[3]),f=yi(a[4]),g=f.byteLength*8,p=new Uint8Array(d.length+f.length);p.set(d),p.set(f,d.length);const y=await window.crypto.subtle.decrypt({name:so,iv:c,tagLength:g,additionalData:s},r,p);return new TextDecoder().decode(y)}catch{throw se(_c,"decrypt")}}async function vA(){const i=await window.crypto.subtle.generateKey({name:so,length:256},!0,[mA,Gg]);return window.crypto.subtle.exportKey(Bg,i)}async function mE(i){return window.crypto.subtle.importKey(Bg,i,pA,!1,[dN])}async function CA(i,e,a){return window.crypto.subtle.deriveKey({name:pA,salt:e,hash:Hg,info:new TextEncoder().encode(a)},i,{name:so,length:256},!1,[mA,Gg])}async function EN(i,e,a){const r=new TextEncoder().encode(e),s=window.crypto.getRandomValues(new Uint8Array(16)),c=await CA(i,s,a),d=await window.crypto.subtle.encrypt({name:so,iv:new Uint8Array(12)},c,r);return{data:Ci(new Uint8Array(d)),nonce:Ci(s)}}async function yE(i,e,a,r){const s=yi(r),c=await CA(i,yi(e),a),d=await window.crypto.subtle.decrypt({name:so,iv:new Uint8Array(12)},c,s);return new TextDecoder().decode(d)}async function EA(i){const e=await yA(i),a=new Uint8Array(e);return Ci(a)}const Tu="storage_not_supported",mt="stubbed_public_client_application_called",jg="in_mem_redirect_unavailable";const Rc={[Tu]:"Given storage configuration option was not supported.",[mt]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[jg]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};Rc[Tu],Rc[mt],Rc[jg];class qg extends ze{constructor(e,a){super(e,a),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,qg.prototype)}}function ft(i){return new qg(i,Rc[i])}function TA(i){i.location.hash="",typeof i.history.replaceState=="function"&&i.history.replaceState(null,"",`${i.location.origin}${i.location.pathname}${i.location.search}`)}function TN(i){const e=i.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function Fg(){return window.parent!==window}function SN(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${$t.POPUP_NAME_PREFIX}.`)===0}function wa(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function AN(){const e=new De(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function wN(){if(De.hashContainsKnownProperties(window.location.hash)&&Fg())throw se(VS)}function _N(i){if(Fg()&&!i)throw se(YS)}function RN(){if(SN())throw se($S)}function SA(){if(typeof window>"u")throw se(Eu)}function AA(i){if(!i)throw se(vs)}function Qg(i){SA(),wN(),RN(),AA(i)}function vE(i,e){if(Qg(i),_N(e.system.allowRedirectInIframe),e.cache.cacheLocation===Et.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw ft(jg)}function wA(i){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(i).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function bN(){return Bn()}class $c{navigateInternal(e,a){return $c.defaultNavigateWindow(e,a)}navigateExternal(e,a){return $c.defaultNavigateWindow(e,a)}static defaultNavigateWindow(e,a){return a.noHistory?window.location.replace(e):window.location.assign(e),new Promise((r,s)=>{setTimeout(()=>{s(se(Vc,"failed_to_redirect"))},a.timeout)})}}class ON{async sendGetRequestAsync(e,a){let r,s={},c=0;const d=CE(a);try{r=await fetch(e,{method:hE.GET,headers:d})}catch(f){throw gs(se(window.navigator.onLine?eA:Yc),void 0,void 0,f)}s=EE(r.headers);try{return c=r.status,{headers:s,body:await r.json(),status:c}}catch(f){throw gs(se(kf),c,s,f)}}async sendPostRequestAsync(e,a){const r=a&&a.body||"",s=CE(a);let c,d=0,f={};try{c=await fetch(e,{method:hE.POST,headers:s,body:r})}catch(g){throw gs(se(window.navigator.onLine?ZS:Yc),void 0,void 0,g)}f=EE(c.headers);try{return d=c.status,{headers:f,body:await c.json(),status:d}}catch(g){throw gs(se(kf),d,f,g)}}}function CE(i){try{const e=new Headers;if(!(i&&i.headers))return e;const a=i.headers;return Object.entries(a).forEach(([r,s])=>{e.append(r,s)}),e}catch(e){throw gs(se(dA),void 0,void 0,e)}}function EE(i){try{const e={};return i.forEach((a,r)=>{e[r]=a}),e}catch{throw se(hA)}}const IN=6e4,Mf=1e4,kN=3e4,_A=2e3;function NN({auth:i,cache:e,system:a,telemetry:r},s){const c={clientId:Y.EMPTY_STRING,authority:`${Y.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:Y.EMPTY_STRING,authorityMetadata:Y.EMPTY_STRING,redirectUri:typeof window<"u"?wa():"",postLogoutRedirectUri:Y.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Wt.AAD,OIDCOptions:{serverResponseType:ou.FRAGMENT,defaultScopes:[Y.OPENID_SCOPE,Y.PROFILE_SCOPE,Y.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:rg.None,tenant:Y.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},d={cacheLocation:Et.SessionStorage,cacheRetentionDays:5,temporaryCacheLocation:Et.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===Et.LocalStorage),claimsBasedCachingEnabled:!1},f={loggerCallback:()=>{},logLevel:Fe.Info,piiLoggingEnabled:!1},p={...{...fS,loggerOptions:f,networkClient:s?new ON:jk,navigationClient:new $c,loadFrameTimeout:0,windowHashTimeout:a?.loadFrameTimeout||IN,iframeHashTimeout:a?.loadFrameTimeout||Mf,navigateFrameWait:0,redirectNavigationTimeout:kN,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:a?.nativeBrokerHandshakeTimeout||_A,pollIntervalMilliseconds:$t.DEFAULT_POLL_INTERVAL_MS},...a,loggerOptions:a?.loggerOptions||f},y={application:{appName:Y.EMPTY_STRING,appVersion:Y.EMPTY_STRING},client:new hS};if(i?.protocolMode!==Wt.OIDC&&i?.OIDCOptions&&new Oa(p.loggerOptions).warning(JSON.stringify($e(aS))),i?.protocolMode&&i.protocolMode===Wt.OIDC&&p?.allowPlatformBroker)throw $e(iS);return{auth:{...c,...i,OIDCOptions:{...c.OIDCOptions,...i?.OIDCOptions}},cache:{...d,...e},system:p,telemetry:{...y,...r}}}const MN="@azure/msal-browser",Qi="4.26.2";const It="msal",Yg="browser",TE="|",Dt=2,bc=2,DN=`${It}.${Yg}.log.level`,xN=`${It}.${Yg}.log.pii`,UN=`${It}.${Yg}.platform.auth.dom`,SE=`${It}.version`,AE="account.keys",wE="token.keys";function Vr(i=bc){return i<1?`${It}.${AE}`:`${It}.${i}.${AE}`}function $r(i,e=Dt){return e<1?`${It}.${wE}.${i}`:`${It}.${e}.${wE}.${i}`}class Vg{static loggerCallback(e,a){switch(e){case Fe.Error:console.error(a);return;case Fe.Info:console.info(a);return;case Fe.Verbose:console.debug(a);return;case Fe.Warning:console.warn(a);return;default:console.log(a);return}}constructor(e){this.browserEnvironment=typeof window<"u",this.config=NN(e,this.browserEnvironment);let a;try{a=window[Et.SessionStorage]}catch{}const r=a?.getItem(DN),s=a?.getItem(xN)?.toLowerCase(),c=s==="true"?!0:s==="false"?!1:void 0,d={...this.config.system.loggerOptions},f=r&&Object.keys(Fe).includes(r)?Fe[r]:void 0;f&&(d.loggerCallback=Vg.loggerCallback,d.logLevel=f),c!==void 0&&(d.piiLoggingEnabled=c),this.logger=new Oa(d,MN,Qi),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class Yi extends Vg{getModuleName(){return Yi.MODULE_NAME}getId(){return Yi.ID}async initialize(){return this.available=typeof window<"u",this.available}}Yi.MODULE_NAME="";Yi.ID="StandardOperatingContext";class LN{constructor(){this.dbName=Nf,this.version=rN,this.tableName=oN,this.dbOpen=!1}async open(){return new Promise((e,a)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",s=>{s.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",s=>{const c=s;this.db=c.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>a(se(Lg)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((a,r)=>{if(!this.db)return r(se(Kr));const d=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);d.addEventListener("success",f=>{const g=f;this.closeConnection(),a(g.target.result)}),d.addEventListener("error",f=>{this.closeConnection(),r(f)})})}async setItem(e,a){return await this.validateDbIsOpen(),new Promise((r,s)=>{if(!this.db)return s(se(Kr));const f=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(a,e);f.addEventListener("success",()=>{this.closeConnection(),r()}),f.addEventListener("error",g=>{this.closeConnection(),s(g)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((a,r)=>{if(!this.db)return r(se(Kr));const d=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);d.addEventListener("success",()=>{this.closeConnection(),a()}),d.addEventListener("error",f=>{this.closeConnection(),r(f)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,a)=>{if(!this.db)return a(se(Kr));const c=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();c.addEventListener("success",d=>{const f=d;this.closeConnection(),e(f.target.result)}),c.addEventListener("error",d=>{this.closeConnection(),a(d)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((a,r)=>{if(!this.db)return r(se(Kr));const d=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);d.addEventListener("success",f=>{const g=f;this.closeConnection(),a(g.target.result===1)}),d.addEventListener("error",f=>{this.closeConnection(),r(f)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,a)=>{const r=window.indexedDB.deleteDatabase(Nf),s=setTimeout(()=>a(!1),200);r.addEventListener("success",()=>(clearTimeout(s),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(s),e(!0))),r.addEventListener("error",()=>(clearTimeout(s),a(!1)))})}}class Su{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,a){this.cache.set(e,a)}async setUserData(e,a){this.setItem(e,a)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((a,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}class PN{constructor(e){this.inMemoryCache=new Su,this.indexedDBCache=new LN,this.logger=e}handleDatabaseAccessError(e){if(e instanceof Hs&&e.errorCode===Lg)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const a=this.inMemoryCache.getItem(e);if(!a)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return a}async setItem(e,a){this.inMemoryCache.setItem(e,a);try{await this.indexedDBCache.setItem(e,a)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(a){this.handleDatabaseAccessError(a)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(a){this.handleDatabaseAccessError(a)}return e}async containsKey(e){const a=this.inMemoryCache.containsKey(e);if(!a)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return a}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}class Ia{constructor(e,a,r){this.logger=e,fN(r??!1),this.cache=new PN(this.logger),this.performanceClient=a}createNewGuid(){return Bn()}base64Encode(e){return Os(e)}base64Decode(e){return Gt(e)}base64UrlEncode(e){return vc(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const a=this.performanceClient?.startMeasurement(R.CryptoOptsGetPublicKeyThumbprint,e.correlationId),r=await pN(Ia.EXTRACTABLE,Ia.POP_KEY_USAGES),s=await rf(r.publicKey),c={e:s.e,kty:s.kty,n:s.n},d=_E(c),f=await this.hashString(d),g=await rf(r.privateKey),p=await mN(g,!1,["sign"]);return await this.cache.setItem(f,{privateKey:p,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),a&&a.end({success:!0}),f}async removeTokenBindingKey(e){if(await this.cache.removeItem(e),await this.cache.containsKey(e))throw J(FT)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,a,r,s){const c=this.performanceClient?.startMeasurement(R.CryptoOptsSignJwt,s),d=await this.cache.getItem(a);if(!d)throw se(Ug);const f=await rf(d.publicKey),g=_E(f),p=vc(JSON.stringify({kid:a})),y=Ng.getShrHeaderString({...r?.header,alg:f.alg,kid:p}),v=vc(y);e.cnf={jwk:JSON.parse(g)};const T=vc(JSON.stringify(e)),S=`${v}.${T}`,M=new TextEncoder().encode(S),I=await yN(d.privateKey,M),P=Ci(new Uint8Array(I)),L=`${S}.${P}`;return c&&c.end({success:!0}),L}async hashString(e){return EA(e)}}Ia.POP_KEY_USAGES=["sign","verify"];Ia.EXTRACTABLE=!0;function _E(i){return JSON.stringify(i,Object.keys(i).sort())}const HN=1440*60*1e3,Df={Lax:"Lax",None:"None"};class RA{initialize(){return Promise.resolve()}getItem(e){const a=`${encodeURIComponent(e)}`,r=document.cookie.split(";");for(let s=0;s<r.length;s++){const c=r[s],[d,...f]=decodeURIComponent(c).trim().split("="),g=f.join("=");if(d===a)return g}return""}getUserData(){throw J(Ae)}setItem(e,a,r,s=!0,c=Df.Lax){let d=`${encodeURIComponent(e)}=${encodeURIComponent(a)};path=/;SameSite=${c};`;if(r){const f=BN(r);d+=`expires=${f};`}(s||c===Df.None)&&(d+="Secure;"),document.cookie=d}async setUserData(){return Promise.reject(J(Ae))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),a=[];return e.forEach(r=>{const s=decodeURIComponent(r).trim().split("=");a.push(s[0])}),a}containsKey(e){return this.getKeys().includes(e)}decryptData(){return Promise.resolve(null)}}function BN(i){const e=new Date;return new Date(e.getTime()+i*HN).toUTCString()}function li(i,e){const a=i.getItem(Vr(e));return a?JSON.parse(a):[]}function xn(i,e,a){const r=e.getItem($r(i,a));if(r){const s=JSON.parse(r);if(s&&s.hasOwnProperty("idToken")&&s.hasOwnProperty("accessToken")&&s.hasOwnProperty("refreshToken"))return s}return{idToken:[],accessToken:[],refreshToken:[]}}function Oc(i){return i.hasOwnProperty("id")&&i.hasOwnProperty("nonce")&&i.hasOwnProperty("data")}const RE="msal.cache.encryption",GN="msal.broadcast.cache";class zN{constructor(e,a,r){if(!window.localStorage)throw ft(Tu);this.memoryStorage=new Su,this.initialized=!1,this.clientId=e,this.logger=a,this.performanceClient=r,this.broadcast=new BroadcastChannel(GN)}async initialize(e){const a=new RA,r=a.getItem(RE);let s={key:"",id:""};if(r)try{s=JSON.parse(r)}catch{}if(s.key&&s.id){const c=fn(yi,R.Base64Decode,this.logger,this.performanceClient,e)(s.key);this.encryptionCookie={id:s.id,key:await K(mE,R.GenerateHKDF,this.logger,this.performanceClient,e)(c)}}else{const c=Bn(),d=await K(vA,R.GenerateBaseKey,this.logger,this.performanceClient,e)(),f=fn(Ci,R.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(d));this.encryptionCookie={id:c,key:await K(mE,R.GenerateHKDF,this.logger,this.performanceClient,e)(d)};const g={id:c,key:f};a.setItem(RE,JSON.stringify(g),0,!0,Df.None)}await K(this.importExistingCache.bind(this),R.ImportExistingCache,this.logger,this.performanceClient,e)(e),this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw se(vs);return this.memoryStorage.getItem(e)}async decryptData(e,a,r){if(!this.initialized||!this.encryptionCookie)throw se(vs);if(a.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},r),null;const s=await K(yE,R.Decrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,a.nonce,this.getContext(e),a.data);if(!s)return null;try{return{...JSON.parse(s),lastUpdatedAt:a.lastUpdatedAt}}catch{return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},r),null}}setItem(e,a){window.localStorage.setItem(e,a)}async setUserData(e,a,r,s,c){if(!this.initialized||!this.encryptionCookie)throw se(vs);if(c)this.setItem(e,a);else{const{data:d,nonce:f}=await K(EN,R.Encrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,a,this.getContext(e)),g={id:this.encryptionCookie.id,nonce:f,data:d,lastUpdatedAt:s};this.setItem(e,JSON.stringify(g))}this.memoryStorage.setItem(e,a),this.broadcast.postMessage({key:e,value:a,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),li(this).forEach(r=>this.removeItem(r));const a=xn(this.clientId,this);a.idToken.forEach(r=>this.removeItem(r)),a.accessToken.forEach(r=>this.removeItem(r)),a.refreshToken.forEach(r=>this.removeItem(r)),this.getKeys().forEach(r=>{(r.startsWith(It)||r.indexOf(this.clientId)!==-1)&&this.removeItem(r)})}async importExistingCache(e){if(!this.encryptionCookie)return;let a=li(this);a=await this.importArray(a,e),a.length?this.setItem(Vr(),JSON.stringify(a)):this.removeItem(Vr());const r=xn(this.clientId,this);r.idToken=await this.importArray(r.idToken,e),r.accessToken=await this.importArray(r.accessToken,e),r.refreshToken=await this.importArray(r.refreshToken,e),r.idToken.length||r.accessToken.length||r.refreshToken.length?this.setItem($r(this.clientId),JSON.stringify(r)):this.removeItem($r(this.clientId))}async getItemFromEncryptedCache(e,a){if(!this.encryptionCookie)return null;const r=this.getItem(e);if(!r)return null;let s;try{s=JSON.parse(r)}catch{return null}return Oc(s)?s.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},a),null):(this.performanceClient.incrementFields({encryptedCacheCount:1},a),K(yE,R.Decrypt,this.logger,this.performanceClient,a)(this.encryptionCookie.key,s.nonce,this.getContext(e),s.data)):(this.performanceClient.incrementFields({unencryptedCacheCount:1},a),r)}async importArray(e,a){const r=[],s=[];return e.forEach(c=>{const d=this.getItemFromEncryptedCache(c,a).then(f=>{f?(this.memoryStorage.setItem(c,f),r.push(c)):this.removeItem(c)});s.push(d)}),await Promise.all(s),r}getContext(e){let a="";return e.includes(this.clientId)&&(a=this.clientId),a}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const a=this.performanceClient.startMeasurement(R.LocalStorageUpdated);a.add({isBackground:!0});const{key:r,value:s,context:c}=e.data;if(!r){this.logger.error("Broadcast event missing key"),a.end({success:!1,errorCode:"noKey"});return}if(c&&c!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${c}`),a.end({success:!1,errorCode:"contextMismatch"});return}s?(this.memoryStorage.setItem(r,s),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(r),this.logger.verbose("Removed item from internal cache")),a.end({success:!0})}}class KN{constructor(){if(!window.sessionStorage)throw ft(Tu)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,a){window.sessionStorage.setItem(e,a)}async setUserData(e,a){this.setItem(e,a)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}decryptData(){return Promise.resolve(null)}}const oe={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};function oi(i,e){const a=i.indexOf(e);a>-1&&i.splice(a,1)}class xf extends bf{constructor(e,a,r,s,c,d,f){super(e,r,s,c,f),this.cacheConfig=a,this.logger=s,this.internalStorage=new Su,this.browserStorage=bE(e,a.cacheLocation,s,c),this.temporaryCacheStorage=bE(e,a.temporaryCacheLocation,s,c),this.cookieStorage=new RA,this.eventHandler=d}async initialize(e){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},e),await this.browserStorage.initialize(e),await this.migrateExistingCache(e),this.trackVersionChanges(e)}async migrateExistingCache(e){let a=li(this.browserStorage),r=xn(this.clientId,this.browserStorage);this.performanceClient.addFields({preMigrateAcntCount:a.length,preMigrateATCount:r.accessToken.length,preMigrateITCount:r.idToken.length,preMigrateRTCount:r.refreshToken.length},e);for(let c=0;c<bc;c++){const d=c;await this.removeStaleAccounts(c,d,e)}for(let c=0;c<Dt;c++){const d=c;await this.migrateIdTokens(c,d,e)}const s=this.getKMSIValues();for(let c=0;c<Dt;c++)await this.migrateAccessTokens(c,s,e),await this.migrateRefreshTokens(c,s,e);a=li(this.browserStorage),r=xn(this.clientId,this.browserStorage),this.performanceClient.addFields({postMigrateAcntCount:a.length,postMigrateATCount:r.accessToken.length,postMigrateITCount:r.idToken.length,postMigrateRTCount:r.refreshToken.length},e)}async updateOldEntry(e,a){const r=this.browserStorage.getItem(e),s=this.validateAndParseJson(r||"");if(!s)return this.browserStorage.removeItem(e),null;if(!s.lastUpdatedAt)s.lastUpdatedAt=Date.now().toString(),this.setItem(e,JSON.stringify(s),a);else if(iE(s.lastUpdatedAt,this.cacheConfig.cacheRetentionDays))return this.browserStorage.removeItem(e),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},a),null;const c=Oc(s)?await this.browserStorage.decryptData(e,s,a):s;return!c||!gu(c)?(this.performanceClient.incrementFields({invalidCacheCount:1},a),null):(rE(c)||oE(c))&&c.expiresOn&&qc(c.expiresOn,IT)?(this.browserStorage.removeItem(e),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},a),null):c}async removeStaleAccounts(e,a,r){const s=li(this.browserStorage,e);if(s.length!==0){for(const c of[...s]){this.performanceClient.incrementFields({oldAcntCount:1},r);const d=this.browserStorage.getItem(c),f=this.validateAndParseJson(d||"");if(!f){oi(s,c);continue}if(f.lastUpdatedAt)iE(f.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)&&(await this.removeAccountOldSchema(c,f,a,r),oi(s,c));else{f.lastUpdatedAt=Date.now().toString(),this.setItem(c,JSON.stringify(f),r);continue}}this.setAccountKeys(s,r,e)}}async removeAccountOldSchema(e,a,r,s){const d=(Oc(a)?await this.browserStorage.decryptData(e,a,s):a)?.homeAccountId;if(d){const f=this.getTokenKeys(r);[...f.idToken].filter(g=>g.includes(d)).forEach(g=>{this.browserStorage.removeItem(g),oi(f.idToken,g)}),[...f.accessToken].filter(g=>g.includes(d)).forEach(g=>{this.browserStorage.removeItem(g),oi(f.accessToken,g)}),[...f.refreshToken].filter(g=>g.includes(d)).forEach(g=>{this.browserStorage.removeItem(g),oi(f.refreshToken,g)}),this.setTokenKeys(f,s,r)}this.performanceClient.incrementFields({expiredAcntRemovedCount:1},s),this.browserStorage.removeItem(e)}getKMSIValues(){const e={},a=this.getTokenKeys().idToken;for(const r of a){const s=this.browserStorage.getUserData(r);if(s){const c=JSON.parse(s),d=Yn(c.secret,Gt);d&&(e[c.homeAccountId]=$n(d))}}return e}async migrateIdTokens(e,a,r){const s=xn(this.clientId,this.browserStorage,e);if(s.idToken.length===0)return;const c=xn(this.clientId,this.browserStorage,Dt),d=li(this.browserStorage),f=li(this.browserStorage,a);for(const g of[...s.idToken]){this.performanceClient.incrementFields({oldITCount:1},r);const p=await this.updateOldEntry(g,r);if(!p){oi(s.idToken,g);continue}const y=d.find(L=>L.includes(p.homeAccountId)),v=f.find(L=>L.includes(p.homeAccountId));let T=null;if(y)T=this.getAccount(y,r);else if(v){const L=this.browserStorage.getItem(v),B=this.validateAndParseJson(L||"");T=B&&Oc(B)?await this.browserStorage.decryptData(v,B,r):B}if(!T){this.performanceClient.incrementFields({skipITMigrateCount:1},r);continue}const S=Yn(p.secret,Gt),O=this.generateCredentialKey(p),M=this.getIdTokenCredential(O,r),I=Object.keys(S).includes("signin_state"),P=M&&Object.keys(Yn(M.secret,Gt)||{}).includes("signin_state");if(!M||p.lastUpdatedAt>M.lastUpdatedAt&&(I||!P)){const L=T.tenantProfiles||[],B=dg(S)||T.realm;if(B&&!L.find(te=>te.tenantId===B)){const te=lu(T.homeAccountId,T.localAccountId,B,S);L.push(te)}T.tenantProfiles=L;const $=this.generateAccountKey(rt.getAccountInfo(T)),V=$n(S);await this.setUserData($,JSON.stringify(T),r,T.lastUpdatedAt,V),d.includes($)||d.push($),await this.setUserData(O,JSON.stringify(p),r,p.lastUpdatedAt,V),this.performanceClient.incrementFields({migratedITCount:1},r),c.idToken.push(O)}}this.setTokenKeys(s,r,e),this.setTokenKeys(c,r),this.setAccountKeys(d,r)}async migrateAccessTokens(e,a,r){const s=xn(this.clientId,this.browserStorage,e);if(s.accessToken.length===0)return;const c=xn(this.clientId,this.browserStorage,Dt);for(const d of[...s.accessToken]){this.performanceClient.incrementFields({oldATCount:1},r);const f=await this.updateOldEntry(d,r);if(!f){oi(s.accessToken,d);continue}if(!Object.keys(a).includes(f.homeAccountId)){this.performanceClient.incrementFields({skipATMigrateCount:1},r);continue}const g=this.generateCredentialKey(f),p=a[f.homeAccountId];if(!c.accessToken.includes(g))await this.setUserData(g,JSON.stringify(f),r,f.lastUpdatedAt,p),this.performanceClient.incrementFields({migratedATCount:1},r),c.accessToken.push(g);else{const y=this.getAccessTokenCredential(g,r);(!y||f.lastUpdatedAt>y.lastUpdatedAt)&&(await this.setUserData(g,JSON.stringify(f),r,f.lastUpdatedAt,p),this.performanceClient.incrementFields({migratedATCount:1},r))}}this.setTokenKeys(s,r,e),this.setTokenKeys(c,r)}async migrateRefreshTokens(e,a,r){const s=xn(this.clientId,this.browserStorage,e);if(s.refreshToken.length===0)return;const c=xn(this.clientId,this.browserStorage,Dt);for(const d of[...s.refreshToken]){this.performanceClient.incrementFields({oldRTCount:1},r);const f=await this.updateOldEntry(d,r);if(!f){oi(s.refreshToken,d);continue}if(!Object.keys(a).includes(f.homeAccountId)){this.performanceClient.incrementFields({skipRTMigrateCount:1},r);continue}const g=this.generateCredentialKey(f),p=a[f.homeAccountId];if(!c.refreshToken.includes(g))await this.setUserData(g,JSON.stringify(f),r,f.lastUpdatedAt,p),this.performanceClient.incrementFields({migratedRTCount:1},r),c.refreshToken.push(g);else{const y=this.getRefreshTokenCredential(g,r);(!y||f.lastUpdatedAt>y.lastUpdatedAt)&&(await this.setUserData(g,JSON.stringify(f),r,f.lastUpdatedAt,p),this.performanceClient.incrementFields({migratedRTCount:1},r))}}this.setTokenKeys(s,r,e),this.setTokenKeys(c,r)}trackVersionChanges(e){const a=this.browserStorage.getItem(SE);a&&(this.logger.info(`MSAL.js was last initialized by version: ${a}`),this.performanceClient.addFields({previousLibraryVersion:a},e)),a!==Qi&&this.setItem(SE,Qi,e)}validateAndParseJson(e){if(!e)return null;try{const a=JSON.parse(e);return a&&typeof a=="object"?a:null}catch{return null}}setItem(e,a,r){const s=new Array(Dt+1).fill(0),c=[],d=20;for(let f=0;f<=d;f++)try{if(this.browserStorage.setItem(e,a),f>0)for(let g=0;g<=Dt;g++){const p=s.slice(0,g).reduce((v,T)=>v+T,0);if(p>=f)break;const y=f>p+s[g]?p+s[g]:f;f>p&&s[g]>0&&this.removeAccessTokenKeys(c.slice(p,y),r,g)}break}catch(g){const p=Rf(g);if(p.errorCode===Gc&&f<d){if(!c.length)for(let y=0;y<=Dt;y++)if(e===$r(this.clientId,y)){const v=JSON.parse(a).accessToken;c.push(...v),s[y]=v.length}else{const v=this.getTokenKeys(y).accessToken;c.push(...v),s[y]=v.length}if(c.length<=f)throw p;this.removeAccessToken(c[f],r,!1)}else throw p}}async setUserData(e,a,r,s,c){const d=new Array(Dt+1).fill(0),f=[],g=20;for(let p=0;p<=g;p++)try{if(await K(this.browserStorage.setUserData.bind(this.browserStorage),R.SetUserData,this.logger,this.performanceClient)(e,a,r,s,c),p>0)for(let y=0;y<=Dt;y++){const v=d.slice(0,y).reduce((S,O)=>S+O,0);if(v>=p)break;const T=p>v+d[y]?v+d[y]:p;p>v&&d[y]>0&&this.removeAccessTokenKeys(f.slice(v,T),r,y)}break}catch(y){const v=Rf(y);if(v.errorCode===Gc&&p<g){if(!f.length)for(let T=0;T<=Dt;T++){const S=this.getTokenKeys(T).accessToken;f.push(...S),d[T]=S.length}if(f.length<=p)throw v;this.removeAccessToken(f[p],r,!1)}else throw v}}getAccount(e,a){this.logger.trace("BrowserCacheManager.getAccount called");const r=this.browserStorage.getUserData(e);if(!r)return this.removeAccountKeyFromMap(e,a),null;const s=this.validateAndParseJson(r);return!s||!rt.isAccountEntity(s)?null:bf.toObject(new rt,s)}async setAccount(e,a,r){this.logger.trace("BrowserCacheManager.setAccount called");const s=this.generateAccountKey(rt.getAccountInfo(e)),c=Date.now().toString();e.lastUpdatedAt=c,await this.setUserData(s,JSON.stringify(e),a,c,r);const d=this.addAccountKeyToMap(s,a);this.performanceClient.addFields({kmsi:r},a),this.cacheConfig.cacheLocation===Et.LocalStorage&&d&&this.eventHandler.emitEvent(oe.ACCOUNT_ADDED,void 0,rt.getAccountInfo(e))}getAccountKeys(){return li(this.browserStorage)}setAccountKeys(e,a,r=bc){e.length===0?this.removeItem(Vr(r)):this.setItem(Vr(r),JSON.stringify(e),a)}addAccountKeyToMap(e,a){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const r=this.getAccountKeys();return r.indexOf(e)===-1?(r.push(e),this.setItem(Vr(),JSON.stringify(r),a),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,a){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const r=this.getAccountKeys(),s=r.indexOf(e);s>-1?(r.splice(s,1),this.setAccountKeys(r,a),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,a){const r=this.getActiveAccount(a);r?.homeAccountId===e.homeAccountId&&r?.environment===e.environment&&this.setActiveAccount(null,a),super.removeAccount(e,a),this.removeAccountKeyFromMap(this.generateAccountKey(e),a),this.browserStorage.getKeys().forEach(s=>{s.includes(e.homeAccountId)&&s.includes(e.environment)&&this.browserStorage.removeItem(s)}),this.cacheConfig.cacheLocation===Et.LocalStorage&&this.eventHandler.emitEvent(oe.ACCOUNT_REMOVED,void 0,e)}removeIdToken(e,a){super.removeIdToken(e,a);const r=this.getTokenKeys(),s=r.idToken.indexOf(e);s>-1&&(this.logger.info("idToken removed from tokenKeys map"),r.idToken.splice(s,1),this.setTokenKeys(r,a))}removeAccessToken(e,a,r=!0){super.removeAccessToken(e,a),r&&this.removeAccessTokenKeys([e],a)}removeAccessTokenKeys(e,a,r=Dt){this.logger.trace("removeAccessTokenKey called");const s=this.getTokenKeys(r);let c=0;if(e.forEach(d=>{const f=s.accessToken.indexOf(d);f>-1&&(s.accessToken.splice(f,1),c++)}),c>0){this.logger.info(`removed ${c} accessToken keys from tokenKeys map`),this.setTokenKeys(s,a,r);return}}removeRefreshToken(e,a){super.removeRefreshToken(e,a);const r=this.getTokenKeys(),s=r.refreshToken.indexOf(e);s>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),r.refreshToken.splice(s,1),this.setTokenKeys(r,a))}getTokenKeys(e=Dt){return xn(this.clientId,this.browserStorage,e)}setTokenKeys(e,a,r=Dt){if(e.idToken.length===0&&e.accessToken.length===0&&e.refreshToken.length===0){this.removeItem($r(this.clientId,r));return}else this.setItem($r(this.clientId,r),JSON.stringify(e),a)}getIdTokenCredential(e,a){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,a),null;const s=this.validateAndParseJson(r);return!s||!_k(s)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),s)}async setIdTokenCredential(e,a,r){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const s=this.generateCredentialKey(e),c=Date.now().toString();e.lastUpdatedAt=c,await this.setUserData(s,JSON.stringify(e),a,c,r);const d=this.getTokenKeys();d.idToken.indexOf(s)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),d.idToken.push(s),this.setTokenKeys(d,a))}getAccessTokenCredential(e,a){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],a),null;const s=this.validateAndParseJson(r);return!s||!rE(s)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),s)}async setAccessTokenCredential(e,a,r){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const s=this.generateCredentialKey(e),c=Date.now().toString();e.lastUpdatedAt=c,await this.setUserData(s,JSON.stringify(e),a,c,r);const d=this.getTokenKeys(),f=d.accessToken.indexOf(s);f!==-1&&d.accessToken.splice(f,1),this.logger.trace(`access token ${f===-1?"added to":"updated in"} map`),d.accessToken.push(s),this.setTokenKeys(d,a)}getRefreshTokenCredential(e,a){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,a),null;const s=this.validateAndParseJson(r);return!s||!oE(s)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),s)}async setRefreshTokenCredential(e,a,r){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const s=this.generateCredentialKey(e),c=Date.now().toString();e.lastUpdatedAt=c,await this.setUserData(s,JSON.stringify(e),a,c,r);const d=this.getTokenKeys();d.refreshToken.indexOf(s)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),d.refreshToken.push(s),this.setTokenKeys(d,a))}getAppMetadata(e){const a=this.browserStorage.getItem(e);if(!a)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(a);return!r||!Ik(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e,a){this.logger.trace("BrowserCacheManager.setAppMetadata called");const r=Ok(e);this.setItem(r,JSON.stringify(e),a)}getServerTelemetry(e){const a=this.browserStorage.getItem(e);if(!a)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(a);return!r||!Rk(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,a,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(a),r)}getAuthorityMetadata(e){const a=this.internalStorage.getItem(e);if(!a)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(a);return r&&kk(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(a=>this.isAuthorityMetadata(a))}setWrapperMetadata(e,a){this.internalStorage.setItem(yc.WRAPPER_SKU,e),this.internalStorage.setItem(yc.WRAPPER_VER,a)}getWrapperMetadata(){const e=this.internalStorage.getItem(yc.WRAPPER_SKU)||Y.EMPTY_STRING,a=this.internalStorage.getItem(yc.WRAPPER_VER)||Y.EMPTY_STRING;return[e,a]}setAuthorityMetadata(e,a){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(a))}getActiveAccount(e){const a=this.generateCacheKey(FC.ACTIVE_ACCOUNT_FILTERS),r=this.browserStorage.getItem(a);if(!r)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const s=this.validateAndParseJson(r);return s?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:s.homeAccountId,localAccountId:s.localAccountId,tenantId:s.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,a){const r=this.generateCacheKey(FC.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const s={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:Zt().toString()};this.setItem(r,JSON.stringify(s),a)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r);this.eventHandler.emitEvent(oe.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const a=this.browserStorage.getItem(e);if(!a)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(a);return!r||!bk(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,a,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(a),r)}getTemporaryCache(e,a){const r=a?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const c=this.cookieStorage.getItem(r);if(c)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),c}const s=this.temporaryCacheStorage.getItem(r);if(!s){if(this.cacheConfig.cacheLocation===Et.LocalStorage){const c=this.browserStorage.getItem(r);if(c)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),c}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),s}setTemporaryCache(e,a,r){const s=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(s,a),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(s,a,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(a=>{(a.indexOf(It)!==-1||a.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(a)}),this.browserStorage.getKeys().forEach(a=>{(a.indexOf(It)!==-1||a.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(a)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(R.ClearTokensAndKeysWithClaims,e);const a=this.getTokenKeys();let r=0;a.accessToken.forEach(s=>{const c=this.getAccessTokenCredential(s,e);c?.requestedClaimsHash&&s.includes(c.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(s,e),r++)}),r>0&&this.logger.warning(`${r} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return hn.startsWith(e,It)?e:`${It}.${this.clientId}.${e}`}generateCredentialKey(e){const a=e.credentialType===Ot.REFRESH_TOKEN&&e.familyId||e.clientId,r=e.tokenType&&e.tokenType.toLowerCase()!==Ge.BEARER.toLowerCase()?e.tokenType.toLowerCase():"";return[`${It}.${Dt}`,e.homeAccountId,e.environment,e.credentialType,a,e.realm||"",e.target||"",e.requestedClaimsHash||"",r].join(TE).toLowerCase()}generateAccountKey(e){const a=e.homeAccountId.split(".")[1];return[`${It}.${bc}`,e.homeAccountId,e.environment,a||e.tenantId||""].join(TE).toLowerCase()}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(gt.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(gt.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(gt.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(gt.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(gt.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,a){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const r=Os(JSON.stringify(e));if(this.setTemporaryCache(gt.REQUEST_PARAMS,r,!0),a){const s=Os(a);this.setTemporaryCache(gt.VERIFIER,s,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(gt.REQUEST_PARAMS,!0);if(!e)throw se(XS);const a=this.getTemporaryCache(gt.VERIFIER,!0);let r,s="";try{r=JSON.parse(Gt(e)),a&&(s=Gt(a))}catch(c){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${c}`),se(JS)}return[r,s]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(gt.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const a=this.validateAndParseJson(e);return a||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const a=this.getInteractionInProgress()?.clientId;return e?a===this.clientId:!!a}getInteractionInProgress(){const e=`${It}.${gt.INTERACTION_STATUS_KEY}`,a=this.getTemporaryCache(e,!1);try{return a?JSON.parse(a):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),TA(window),null}}setInteractionInProgress(e,a=di.SIGNIN){const r=`${It}.${gt.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw se(jS);this.setTemporaryCache(r,JSON.stringify({clientId:this.clientId,type:a}),!1)}else!e&&this.getInteractionInProgress()?.clientId===this.clientId&&this.removeTemporaryItem(r)}async hydrateCache(e,a){const r=hu(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let s;a.claims&&(s=await this.cryptoImpl.hashString(a.claims));const c=fu(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?aE(e.expiresOn):0,e.extExpiresOn?aE(e.extExpiresOn):0,Gt,void 0,e.tokenType,void 0,a.sshKid,a.claims,s),d={idToken:r,accessToken:c};return this.saveCacheRecord(d,e.correlationId,$n(Yn(e.idToken,Gt)))}async saveCacheRecord(e,a,r,s){try{await super.saveCacheRecord(e,a,r,s)}catch(c){if(c instanceof Qr&&this.performanceClient&&a)try{const d=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:d.refreshToken.length,cacheIdCount:d.idToken.length,cacheAtCount:d.accessToken.length},a)}catch{}throw c}}}function bE(i,e,a,r){try{switch(e){case Et.LocalStorage:return new zN(i,a,r);case Et.SessionStorage:return new KN;case Et.MemoryStorage:default:break}}catch(s){a.error(s)}return new Su}const jN=(i,e,a,r)=>{const s={cacheLocation:Et.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:Et.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new xf(i,s,Lc,e,a,r)};function qN(i,e,a,r,s){return i.verbose("getAllAccounts called"),a?e.getAllAccounts(s||{},r):[]}function FN(i,e,a,r){const s=a.getAccountInfoFilteredBy(i,r);return s?(e.verbose("getAccount: Account matching provided filter found, returning"),s):(e.verbose("getAccount: No matching account found, returning null"),null)}function QN(i,e,a,r){if(e.trace("getAccountByUsername called"),!i)return e.warning("getAccountByUsername: No username provided"),null;const s=a.getAccountInfoFilteredBy({username:i},r);return s?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${i}`),s):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function YN(i,e,a,r){if(e.trace("getAccountByHomeId called"),!i)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const s=a.getAccountInfoFilteredBy({homeAccountId:i},r);return s?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${i}`),s):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function VN(i,e,a,r){if(e.trace("getAccountByLocalId called"),!i)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const s=a.getAccountInfoFilteredBy({localAccountId:i},r);return s?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${i}`),s):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function $N(i,e,a){e.setActiveAccount(i,a)}function WN(i,e){return i.getActiveAccount(e)}const XN="msal.broadcast.event";class JN{constructor(e){this.eventCallbacks=new Map,this.logger=e||new Oa({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(XN)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,a,r){if(typeof window<"u"){const s=r||bN();return this.eventCallbacks.has(s)?(this.logger.error(`Event callback with id: ${s} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(s,[e,a||[]]),this.logger.verbose(`Event callback registered with id: ${s}`),s)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,a,r,s){const c={eventType:e,interactionType:a||null,payload:r||null,error:s||null,timestamp:Date.now()};switch(e){case oe.ACCOUNT_ADDED:case oe.ACCOUNT_REMOVED:case oe.ACTIVE_ACCOUNT_CHANGED:this.broadcastChannel?.postMessage(c);break;default:this.invokeCallbacks(c);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([a,r],s)=>{(r.length===0||r.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${s}: ${e.eventType}`),a.apply(null,[e]))})}invokeCrossTabCallbacks(e){const a=e.data;this.invokeCallbacks(a)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}}class bA{constructor(e,a,r,s,c,d,f,g,p){this.config=e,this.browserStorage=a,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=c,this.navigationClient=d,this.platformAuthProvider=g,this.correlationId=p||Bn(),this.logger=s.clone($t.MSAL_SKU,Qi,this.correlationId),this.performanceClient=f}async clearCacheOnLogout(e,a){if(a)try{this.browserStorage.removeAccount(a,e),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(e),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const a=e||this.config.auth.redirectUri;return De.getAbsoluteUrl(a,wa())}initializeServerTelemetryManager(e,a){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:a||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Rs(r,this.browserStorage)}async getDiscoveredAuthority(e){const{account:a}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(R.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const s={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},c=e.requestAuthority||this.config.auth.authority,d=r?.length?r==="true":this.config.auth.instanceAware,f=a&&d?this.config.auth.authority.replace(De.getDomainFromUrl(c),a.environment):c,g=xt.generateAuthority(f,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),p=await K(IS,R.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(g,this.config.system.networkClient,this.browserStorage,s,this.logger,this.correlationId,this.performanceClient);if(a&&!p.isAlias(a.environment))throw $e(rS);return p}}async function $g(i,e,a,r){a.addQueueMeasurement(R.InitializeBaseRequest,i.correlationId);const s=i.authority||e.auth.authority,c=[...i&&i.scopes||[]],d={...i,correlationId:i.correlationId,authority:s,scopes:c};if(!d.authenticationScheme)d.authenticationScheme=Ge.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(d.authenticationScheme===Ge.SSH){if(!i.sshJwk)throw $e(su);if(!i.sshKid)throw $e(nS)}r.verbose(`Authentication Scheme set to "${d.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&i.claims&&!hn.isEmptyObj(i.claims)&&(d.requestedClaimsHash=await EA(i.claims)),d}async function ZN(i,e,a,r,s){r.addQueueMeasurement(R.InitializeSilentRequest,i.correlationId);const c=await K($g,R.InitializeBaseRequest,s,r,i.correlationId)(i,a,r,s);return{...i,...c,account:e,forceRefresh:i.forceRefresh||!1}}function OA(i,e){let a;const r=i.httpMethod;if(e===Wt.EAR){if(a=r||Ki.POST,a!==Ki.POST)throw $e(oS)}else a=r||Ki.GET;if(i.authorizePostBodyParameters&&a!==Ki.POST)throw $e(sS);return a}class lo extends bA{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const a={correlationId:this.correlationId||Bn(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),a.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",a.correlationId),a.postLogoutRedirectUri=De.getAbsoluteUrl(e.postLogoutRedirectUri,wa())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",a.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",a.correlationId),a.postLogoutRedirectUri=De.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,wa())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",a.correlationId),a.postLogoutRedirectUri=De.getAbsoluteUrl(wa(),wa())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",a.correlationId),a}getLogoutHintFromIdTokenClaims(e){const a=e.idTokenClaims;if(a){if(a.login_hint)return a.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(R.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const a=await K(this.getClientConfiguration.bind(this),R.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new DS(a,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:a,requestAuthority:r,requestAzureCloudOptions:s,requestExtraQueryParameters:c,account:d}=e;this.performanceClient.addQueueMeasurement(R.StandardInteractionClientGetClientConfiguration,this.correlationId);const f=e.authority||await K(this.getDiscoveredAuthority.bind(this),R.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:s,requestExtraQueryParameters:c,account:d}),g=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:f,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:g.loggerCallback,piiLoggingEnabled:g.piiLoggingEnabled,logLevel:g.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:a,libraryInfo:{sku:$t.MSAL_SKU,version:Qi,cpu:Y.EMPTY_STRING,os:Y.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,a){this.performanceClient.addQueueMeasurement(R.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(e.redirectUri),s={interactionType:a},c=oo.setRequestState(this.browserCrypto,e&&e.state||Y.EMPTY_STRING,s),f={...await K($g,R.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:c,nonce:e.nonce||Bn(),responseMode:this.config.auth.OIDCOptions.serverResponseType},g={...f,httpMethod:OA(f,this.config.auth.protocolMode)};if(e.loginHint||e.sid)return g;const p=e.account||this.browserStorage.getActiveAccount(this.correlationId);return p&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${p.homeAccountId}`,this.correlationId),g.account=p),g}}function e0(i,e){if(!e)return null;try{return oo.parseRequestState(i,e).libraryState.meta}catch{throw J(Jr)}}function Cs(i,e,a){const r=Hc(i);if(!r)throw cS(i)?(a.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),a.errorPii(`The ${e} detected is: ${i}`),se(GS)):(a.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),se(BS));return r}function t0(i,e,a){if(!i.state)throw se(xg);const r=e0(e,i.state);if(!r)throw se(zS);if(r.interactionType!==a)throw se(KS)}class IA{constructor(e,a,r,s,c){this.authModule=e,this.browserStorage=a,this.authCodeRequest=r,this.logger=s,this.performanceClient=c}async handleCodeResponse(e,a){this.performanceClient.addQueueMeasurement(R.HandleCodeResponse,a.correlationId);let r;try{r=Fk(e,a.state)}catch(s){throw s instanceof Xi&&s.subError===bs?se(bs):s}return K(this.handleCodeResponseFromServer.bind(this),R.HandleCodeResponseFromServer,this.logger,this.performanceClient,a.correlationId)(r,a)}async handleCodeResponseFromServer(e,a,r=!0){if(this.performanceClient.addQueueMeasurement(R.HandleCodeResponseFromServer,a.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await K(this.authModule.updateAuthority.bind(this.authModule),R.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,a.correlationId)(e.cloud_instance_host_name,a.correlationId),r&&(e.nonce=a.nonce||void 0),e.state=a.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const c=this.createCcsCredentials(a);c&&(this.authCodeRequest.ccsCredential=c)}return await K(this.authModule.acquireToken.bind(this.authModule),R.AuthClientAcquireToken,this.logger,this.performanceClient,a.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Pn.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:Pn.UPN}:null}}const n0="ContentError",a0="PageException",kA="user_switch";const i0="USER_INTERACTION_REQUIRED",r0="USER_CANCEL",o0="NO_NETWORK",s0="DISABLED",l0="ACCOUNT_UNAVAILABLE",c0="UX_NOT_ALLOWED";const u0=-2147186943,d0={[kA]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Qn extends ze{constructor(e,a,r){super(e,a),Object.setPrototypeOf(this,Qn.prototype),this.name="NativeAuthError",this.ext=r}}function jr(i){if(i.ext&&i.ext.status&&i.ext.status===s0||i.ext&&i.ext.error&&i.ext.error===u0)return!0;switch(i.errorCode){case n0:case a0:return!0;default:return!1}}function Wc(i,e,a){if(a&&a.status)switch(a.status){case l0:return Qc(kS);case i0:return new Rn(i,e);case r0:return se(bs);case o0:return se(Yc);case c0:return Qc(bg)}return new Qn(i,d0[i]||e,a)}class NA extends lo{async acquireToken(e){this.performanceClient.addQueueMeasurement(R.SilentCacheClientAcquireToken,e.correlationId);const a=this.initializeServerTelemetryManager(Le.acquireTokenSilent_silentFlow),r=await K(this.getClientConfiguration.bind(this),R.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:a,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),s=new Kk(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const d=(await K(s.acquireCachedToken.bind(s),R.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),d}catch(c){throw c instanceof Hs&&c.errorCode===Ug&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),c}}logout(e){this.logger.verbose("logoutRedirect called");const a=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(a.correlationId,a?.account)}}class Ic extends bA{constructor(e,a,r,s,c,d,f,g,p,y,v,T){super(e,a,r,s,c,d,g,p,T),this.apiId=f,this.accountId=y,this.platformAuthProvider=p,this.nativeStorageManager=v,this.silentCacheClient=new NA(e,this.nativeStorageManager,r,s,c,d,g,p,T);const S=this.platformAuthProvider.getExtensionName();this.skus=Rs.makeExtraSkuString({libraryName:$t.MSAL_SKU,libraryVersion:Qi,extensionName:S,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[ik]:this.skus}}async acquireToken(e,a){this.performanceClient.addQueueMeasurement(R.NativeInteractionClientAcquireToken,this.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const r=this.performanceClient.startMeasurement(R.NativeInteractionClientAcquireToken,this.correlationId),s=Zt(),c=this.initializeServerTelemetryManager(this.apiId);try{const d=await this.initializeNativeRequest(e);try{const g=await this.acquireTokensFromCache(this.accountId,d);return r.end({success:!0,isNativeBroker:!1,fromCache:!0}),g}catch(g){if(a===Ht.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),r.end({success:!1,brokerErrorCode:"cache_request_failed"}),g;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const f=await this.platformAuthProvider.sendMessage(d);return await this.handleNativeResponse(f,d,s).then(g=>(r.end({success:!0,isNativeBroker:!0,requestId:g.requestId}),c.clearNativeBrokerErrorCode(),g)).catch(g=>{throw r.end({success:!1,errorCode:g.errorCode,subErrorCode:g.subError}),g})}catch(d){throw d instanceof Qn&&c.setNativeBrokerErrorCode(d.errorCode),r.end({success:!1}),d}}createSilentCacheRequest(e,a){return{authority:e.authority,correlationId:this.correlationId,scopes:yt.fromString(e.scope).asArray(),account:a,forceRefresh:!1}}async acquireTokensFromCache(e,a){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),J(wf);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},this.correlationId);if(!r)throw J(wf);try{const s=this.createSilentCacheRequest(a,r),c=await this.silentCacheClient.acquireToken(s),d={...r,idTokenClaims:c?.idTokenClaims,idToken:c?.idToken};return{...c,account:d}}catch(s){throw s}}async acquireTokenRedirect(e,a){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=e;delete r.onRedirectNavigate;const s=await this.initializeNativeRequest(r);try{await this.platformAuthProvider.sendMessage(s)}catch(f){if(f instanceof Qn&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(f.errorCode),jr(f)))throw f}this.browserStorage.setTemporaryCache(gt.NATIVE_REQUEST,JSON.stringify(s),!0);const c={apiId:Le.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},d=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);a.end({success:!0}),await this.navigationClient.navigateExternal(d,c)}async handleRedirectPromise(e,a){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&a&&e?.addFields({errorCode:"no_cached_request"},a),null;const{prompt:s,...c}=r;s&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(gt.NATIVE_REQUEST));const d=Zt();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const f=await this.platformAuthProvider.sendMessage(c),g=await this.handleNativeResponse(f,c,d);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),e&&this.correlationId&&this.performanceClient.addFields({isNativeBroker:!0},this.correlationId),g}catch(f){throw f}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,a,r){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const s=Yn(e.id_token,Gt),c=this.createHomeAccountIdentifier(e,s),d=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:a.accountId},this.correlationId)?.homeAccountId;if(a.extraParameters?.child_client_id&&e.account.id!==a.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(c!==d&&e.account.id!==a.accountId)throw Wc(kA);const f=await this.getDiscoveredAuthority({requestAuthority:a.authority}),g=Og(this.browserStorage,f,c,Gt,this.correlationId,s,e.client_info,void 0,s.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const p=await this.generateAuthenticationResult(e,a,s,g,f.canonicalAuthority,r);return await this.cacheAccount(g,this.correlationId,$n(s)),await this.cacheNativeTokens(e,a,c,s,e.access_token,p.tenantId,r),p}createHomeAccountIdentifier(e,a){return rt.generateHomeAccountId(e.client_info||Y.EMPTY_STRING,Un.Default,this.logger,this.browserCrypto,a)}generateScopes(e,a){return a?yt.fromString(a):yt.fromString(e)}async generatePopAccessToken(e,a){if(a.tokenType===Ge.POP&&a.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const r=new Zr(this.browserCrypto),s={resourceRequestMethod:a.resourceRequestMethod,resourceRequestUri:a.resourceRequestUri,shrClaims:a.shrClaims,shrNonce:a.shrNonce};if(!a.keyId)throw J(ng);return r.signPopToken(e.access_token,a.keyId,s)}else return e.access_token}async generateAuthenticationResult(e,a,r,s,c,d){const f=this.addTelemetryFromNativeResponse(e.properties.MATS),g=this.generateScopes(a.scope,e.scope),p=e.account.properties||{},y=p.UID||r.oid||r.sub||Y.EMPTY_STRING,v=p.TenantId||r.tid||Y.EMPTY_STRING,T=ug(rt.getAccountInfo(s),void 0,r,e.id_token);T.nativeAccountId!==e.account.id&&(T.nativeAccountId=e.account.id);const S=await this.generatePopAccessToken(e,a),O=a.tokenType===Ge.POP?Ge.POP:Ge.BEARER;return{authority:c,uniqueId:y,tenantId:v,scopes:g.asArray(),account:T,idToken:e.id_token,idTokenClaims:r,accessToken:S,fromCache:f?this.isResponseFromCache(f):!1,expiresOn:Yr(d+e.expires_in),tokenType:O,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e,a,r){await this.browserStorage.setAccount(e,this.correlationId,r),this.browserStorage.removeAccountContext(rt.getAccountInfo(e),a)}cacheNativeTokens(e,a,r,s,c,d,f){const g=hu(r,a.authority,e.id_token||"",a.clientId,s.tid||""),p=a.tokenType===Ge.POP?Y.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,y=f+p,v=this.generateScopes(e.scope,a.scope),T=fu(r,a.authority,c,a.clientId,s.tid||d,v.printScopes(),y,0,Gt,void 0,a.tokenType,void 0,a.keyId),S={idToken:g,accessToken:T};return this.nativeStorageManager.saveCacheRecord(S,this.correlationId,$n(s),a.storeInCache)}getExpiresInValue(e,a){return e===Ge.POP?Y.SHR_NONCE_VALIDITY:(typeof a=="string"?parseInt(a,10):a)||0}addTelemetryFromNativeResponse(e){const a=this.getMATSFromResponse(e);return a?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:a.broker_version,matsAccountJoinOnStart:a.account_join_on_start,matsAccountJoinOnEnd:a.account_join_on_end,matsDeviceJoin:a.device_join,matsPromptBehavior:a.prompt_behavior,matsApiErrorCode:a.api_error_code,matsUiVisible:a.ui_visible,matsSilentCode:a.silent_code,matsSilentBiSubCode:a.silent_bi_sub_code,matsSilentMessage:a.silent_message,matsSilentStatus:a.silent_status,matsHttpStatus:a.http_status,matsHttpEventCount:a.http_event_count},this.correlationId),a):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const a=await this.getCanonicalAuthority(e),{scopes:r,...s}=e,c=new yt(r||[]);c.appendScopes(vi);const d={...s,accountId:this.accountId,clientId:this.config.auth.clientId,authority:a.urlString,scope:c.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(d.signPopToken&&e.popKid)throw se(uA);if(this.handleExtraBrokerParams(d),d.extraParameters=d.extraParameters||{},d.extraParameters.telemetry=_n.MATS_TELEMETRY,e.authenticationScheme===Ge.POP){const f={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},g=new Zr(this.browserCrypto);let p;if(d.keyId)p=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:d.keyId})),d.signPopToken=!1;else{const y=await K(g.generateCnf.bind(g),R.PopTokenGenerateCnf,this.logger,this.performanceClient,this.correlationId)(f,this.logger);p=y.reqCnfString,d.keyId=y.kid,d.signPopToken=!0}d.reqCnf=p}return this.addRequestSKUs(d),d}async getCanonicalAuthority(e){const a=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:a,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const r=new De(a);return r.validateAsUri(),r}getPrompt(e){switch(this.apiId){case Le.ssoSilent:case Le.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),kt.NONE}if(!e){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e){case kt.NONE:case kt.CONSENT:case kt.LOGIN:case kt.SELECT_ACCOUNT:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e} is not compatible with native flow`),se(lA)}}handleExtraBrokerParams(e){const a=e.extraParameters&&e.extraParameters.hasOwnProperty(zc)&&e.extraParameters.hasOwnProperty(Kc)&&e.extraParameters.hasOwnProperty(qi);if(!e.embeddedClientId&&!a)return;let r="";const s=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Kc],r=e.extraParameters[qi]),e.extraParameters={child_client_id:r,child_redirect_uri:s},this.performanceClient?.addFields({embeddedClientId:r,embeddedRedirectUri:s},this.correlationId)}}async function Wg(i,e,a,r,s){const c=qk({...i.auth,authority:e},a,r,s);if(Eg(c,{sku:$t.MSAL_SKU,version:Qi,os:"",cpu:""}),i.auth.protocolMode!==Wt.OIDC&&Tg(c,i.telemetry.application),a.platformBroker&&(lk(c),s.addFields({isPlatformAuthorizeRequest:!0},a.correlationId),a.authenticationScheme===Ge.POP)){const d=new Ia(r,s),f=new Zr(d);let g;a.popKid?g=d.encodeKid(a.popKid):g=(await K(f.generateCnf.bind(f),R.PopTokenGenerateCnf,r,s,a.correlationId)(a,r)).reqCnfString,wg(c,g)}return cu(c,a.correlationId,s),c}async function Xg(i,e,a,r,s){if(!a.codeChallenge)throw $e(sg);const c=await K(Wg,R.GetStandardParams,r,s,a.correlationId)(i,e,a,r,s);return gg(c,$f.CODE),Sg(c,a.codeChallenge,Y.S256_CODE_CHALLENGE_METHOD),mi(c,a.extraQueryParameters||{}),Ig(e,c,i.auth.encodeExtraQueryParams,a.extraQueryParameters)}async function Jg(i,e,a,r,s,c){if(!r.earJwk)throw se(Dg);const d=await Wg(e,a,r,s,c);gg(d,$f.IDTOKEN_TOKEN_REFRESHTOKEN),Ck(d,r.earJwk),Sg(d,r.codeChallenge,Y.S256_CODE_CHALLENGE_METHOD);const f=new Map;mi(f,r.extraQueryParameters||{});const g=Ig(a,f,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return MA(i,g,d)}async function Zg(i,e,a,r,s,c){const d=await Wg(e,a,r,s,c);gg(d,$f.CODE),Sg(d,r.codeChallenge,r.codeChallengeMethod||Y.S256_CODE_CHALLENGE_METHOD),Ek(d,r.authorizePostBodyParameters||{});const f=new Map;mi(f,r.extraQueryParameters||{});const g=Ig(a,f,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return MA(i,g,d)}function MA(i,e,a){const r=i.createElement("form");return r.method="post",r.action=e,a.forEach((s,c)=>{const d=i.createElement("input");d.hidden=!0,d.name=c,d.value=s,r.appendChild(d)}),i.body.appendChild(r),r}async function DA(i,e,a,r,s,c,d,f,g,p){if(f.verbose("Account id found, calling WAM for token"),!p)throw se(Pg);const y=new Ia(f,g),v=new Ic(r,s,y,f,d,r.system.navigationClient,a,g,p,e,c,i.correlationId),{userRequestState:T}=oo.parseRequestState(y,i.state);return K(v.acquireToken.bind(v),R.NativeInteractionClientAcquireToken,f,g,i.correlationId)({...i,state:T,prompt:void 0})}async function Wr(i,e,a,r,s,c,d,f,g,p,y,v){if(Fn.removeThrottle(d,s.auth.clientId,i),e.accountId)return K(DA,R.HandleResponsePlatformBroker,p,y,i.correlationId)(i,e.accountId,r,s,d,f,g,p,y,v);const T={...i,code:e.code||"",codeVerifier:a},S=new IA(c,d,T,p,y);return await K(S.handleCodeResponse.bind(S),R.HandleCodeResponse,p,y,i.correlationId)(e,i)}async function ep(i,e,a,r,s,c,d,f,g,p,y){if(Fn.removeThrottle(c,r.auth.clientId,i),xS(e,i.state),!e.ear_jwe)throw se(HS);if(!i.earJwk)throw se(Dg);const v=JSON.parse(await K(CN,R.DecryptEarResponse,g,p,i.correlationId)(i.earJwk,e.ear_jwe));if(v.accountId)return K(DA,R.HandleResponsePlatformBroker,g,p,i.correlationId)(i,v.accountId,a,r,c,d,f,g,p,y);const T=new Fi(r.auth.clientId,c,new Ia(g,p),g,null,null,p);T.validateTokenResponse(v);const S={code:"",state:i.state,nonce:i.nonce,client_info:v.client_info,cloud_graph_host_name:v.cloud_graph_host_name,cloud_instance_host_name:v.cloud_instance_host_name,cloud_instance_name:v.cloud_instance_name,msgraph_host:v.msgraph_host};return await K(T.handleServerTokenResponse.bind(T),R.HandleServerTokenResponse,g,p,i.correlationId)(v,s,Zt(),i,S,void 0,void 0,void 0,void 0)}const h0=32;async function Vi(i,e,a){i.addQueueMeasurement(R.GeneratePkceCodes,a);const r=fn(f0,R.GenerateCodeVerifier,e,i,a)(i,e,a),s=await K(g0,R.GenerateCodeChallengeFromVerifier,e,i,a)(r,i,e,a);return{verifier:r,challenge:s}}function f0(i,e,a){try{const r=new Uint8Array(h0);return fn(gN,R.GetRandomValues,e,i,a)(r),Ci(r)}catch{throw se(Mg)}}async function g0(i,e,a,r){e.addQueueMeasurement(R.GenerateCodeChallengeFromVerifier,r);try{const s=await K(yA,R.Sha256Digest,a,e,r)(i,e,r);return Ci(new Uint8Array(s))}catch{throw se(Mg)}}class Xc{constructor(e,a,r,s){this.logger=e,this.handshakeTimeoutMs=a,this.extensionId=s,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(R.NativeMessageHandlerHandshake),this.platformAuthType=_n.PLATFORM_EXTENSION_PROVIDER}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const a={method:us.GetToken,request:e},r={channel:_n.CHANNEL_ID,extensionId:this.extensionId,responseId:Bn(),body:a};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(r)}`),this.messageChannel.port1.postMessage(r);const s=await new Promise((d,f)=>{this.resolvers.set(r.responseId,{resolve:d,reject:f})});return this.validatePlatformBrokerResponse(s)}static async createProvider(e,a,r){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const s=new Xc(e,a,r,_n.PREFERRED_EXTENSION_ID);return await s.sendHandshakeRequest(),s}catch{const c=new Xc(e,a,r);return await c.sendHandshakeRequest(),c}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:_n.CHANNEL_ID,extensionId:this.extensionId,responseId:Bn(),body:{method:us.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=a=>{this.onChannelMessage(a)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((a,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:a,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(se(oA)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const a=e.data;if(!(!a.channel||a.channel!==_n.CHANNEL_ID)&&!(a.extensionId&&a.extensionId!==this.extensionId)&&a.body.method===us.HandshakeRequest){const r=this.handshakeResolvers.get(a.responseId);if(!r){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${a.responseId}`);return}this.logger.verbose(a.extensionId?`Extension with id: ${a.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(se(sA))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const a=e.data,r=this.resolvers.get(a.responseId),s=this.handshakeResolvers.get(a.responseId);try{const c=a.body.method;if(c===us.Response){if(!r)return;const d=a.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(d)}`),d.status!=="Success")r.reject(Wc(d.code,d.description,d.ext));else if(d.result)d.result.code&&d.result.description?r.reject(Wc(d.result.code,d.result.description,d.result.ext)):r.resolve(d.result);else throw Tf(Uc,"Event does not contain result.");this.resolvers.delete(a.responseId)}else if(c===us.HandshakeResponse){if(!s){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${a.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=a.extensionId,this.extensionVersion=a.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),s.resolve(),this.handshakeResolvers.delete(a.responseId)}}catch(c){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${c}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(c):s&&s.reject(c)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Tf(Uc,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){return this.getExtensionId()===_n.PREFERRED_EXTENSION_ID?"chrome":this.getExtensionId()?.length?"unknown":void 0}}class tp{constructor(e,a,r){this.logger=e,this.performanceClient=a,this.correlationId=r,this.platformAuthType=_n.PLATFORM_DOM_PROVIDER}static async createProvider(e,a,r){if(e.trace("PlatformAuthDOMHandler: createProvider called"),window.navigator?.platformAuthentication&&(await window.navigator.platformAuthentication.getSupportedContracts(_n.MICROSOFT_ENTRA_BROKERID))?.includes(_n.PLATFORM_DOM_APIS))return e.trace("Platform auth api available in DOM"),new tp(e,a,r)}getExtensionId(){return _n.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return _n.DOM_API_NAME}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const a=this.initializePlatformDOMRequest(e),r=await window.navigator.platformAuthentication.executeGetToken(a);return this.validatePlatformBrokerResponse(r)}catch(a){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),a}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:a,clientId:r,authority:s,scope:c,redirectUri:d,correlationId:f,state:g,storeInCache:p,embeddedClientId:y,extraParameters:v,...T}=e,S=this.getDOMExtraParams(T);return{accountId:a,brokerId:this.getExtensionId(),authority:s,clientId:r,correlationId:f||this.correlationId,extraParameters:{...v,...S},isSecurityTokenService:!1,redirectUri:d,scope:c,state:g,storeInCache:p,embeddedClientId:y}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const a=e;if(a.isSuccess===!1&&a.error&&a.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),Wc(a.error.code,a.error.description,{error:parseInt(a.error.errorCode),protocol_error:a.error.protocolError,status:a.error.status,properties:a.error.properties})}}throw Tf(Uc,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:e.extendedLifetimeToken??!1,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return{...Object.entries(e).reduce((s,[c,d])=>(s[c]=String(d),s),{})}}}async function p0(i,e,a,r){i.trace("getPlatformAuthProvider called",a);const s=m0();i.trace("Has client allowed platform auth via DOM API: "+s);let c;try{s&&(c=await tp.createProvider(i,e,a)),c||(i.trace("Platform auth via DOM API not available, checking for extension"),c=await Xc.createProvider(i,r||_A,e))}catch(d){i.trace("Platform auth not available",d)}return c}function m0(){let i;try{return i=window[Et.SessionStorage],i?.getItem(UN)==="true"}catch{return!1}}function Is(i,e,a,r){if(e.trace("isPlatformAuthAllowed called"),!i.system.allowPlatformBroker)return e.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!a)return e.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(r)switch(r){case Ge.BEARER:case Ge.POP:return e.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return e.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}class y0 extends lo{constructor(e,a,r,s,c,d,f,g,p,y){super(e,a,r,s,c,d,f,p,y),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=g,this.eventHandler=c}acquireToken(e,a){let r;try{if(r={popupName:this.generatePopupName(e.scopes||vi,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r,a);{const c={...e,httpMethod:OA(e,this.config.auth.protocolMode)};return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(c,r,a)}}catch(s){return Promise.reject(s)}}logout(e){try{this.logger.verbose("logoutPopup called");const a=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(a),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},s=e&&e.authority,c=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(a,r,s,c)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(a,r,s,c))}catch(a){return Promise.reject(a)}}async acquireTokenPopupAsync(e,a,r){this.logger.verbose("acquireTokenPopupAsync called");const s=await K(this.initializeAuthorizationRequest.bind(this),R.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,pe.Popup);a.popup&&wA(s.authority);const c=Is(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return s.platformBroker=c,this.config.auth.protocolMode===Wt.EAR?this.executeEarFlow(s,a,r):this.executeCodeFlow(s,a,r)}async executeCodeFlow(e,a,r){const s=e.correlationId,c=this.initializeServerTelemetryManager(Le.acquireTokenPopup),d=r||await K(Vi,R.GeneratePkceCodes,this.logger,this.performanceClient,s)(this.performanceClient,this.logger,s),f={...e,codeChallenge:d.challenge};try{const g=await K(this.createAuthCodeClient.bind(this),R.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,s)({serverTelemetryManager:c,requestAuthority:f.authority,requestAzureCloudOptions:f.azureCloudOptions,requestExtraQueryParameters:f.extraQueryParameters,account:f.account});if(f.httpMethod===Ki.POST)return await this.executeCodeFlowWithPost(f,a,g,d.verifier);{const p=await K(Xg,R.GetAuthCodeUrl,this.logger,this.performanceClient,s)(this.config,g.authority,f,this.logger,this.performanceClient),y=this.initiateAuthRequest(p,a);this.eventHandler.emitEvent(oe.POPUP_OPENED,pe.Popup,{popupWindow:y},null);const v=await this.monitorPopupForHash(y,a.popupWindowParent),T=fn(Cs,R.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(v,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await K(Wr,R.HandleResponseCode,this.logger,this.performanceClient,s)(e,T,d.verifier,Le.acquireTokenPopup,this.config,g,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(g){throw a.popup?.close(),g instanceof ze&&(g.setCorrelationId(this.correlationId),c.cacheFailedRequest(g)),g}}async executeEarFlow(e,a,r){const s=e.correlationId,c=await K(this.getDiscoveredAuthority.bind(this),R.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,s)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),d=await K(Kg,R.GenerateEarKey,this.logger,this.performanceClient,s)(),f=r||await K(Vi,R.GeneratePkceCodes,this.logger,this.performanceClient,s)(this.performanceClient,this.logger,s),g={...e,earJwk:d,codeChallenge:f.challenge},p=a.popup||this.openPopup("about:blank",a);(await Jg(p.document,this.config,c,g,this.logger,this.performanceClient)).submit();const v=await K(this.monitorPopupForHash.bind(this),R.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,s)(p,a.popupWindowParent),T=fn(Cs,R.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(v,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(!T.ear_jwe&&T.code){const S=await K(this.createAuthCodeClient.bind(this),R.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,s)({serverTelemetryManager:this.initializeServerTelemetryManager(Le.acquireTokenPopup),requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account,authority:c});return K(Wr,R.HandleResponseCode,this.logger,this.performanceClient,s)(g,T,f.verifier,Le.acquireTokenPopup,this.config,S,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}else return K(ep,R.HandleResponseEar,this.logger,this.performanceClient,s)(g,T,Le.acquireTokenPopup,this.config,c,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(e,a,r,s){const c=e.correlationId,d=await K(this.getDiscoveredAuthority.bind(this),R.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,c)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),f=a.popup||this.openPopup("about:blank",a);(await Zg(f.document,this.config,d,e,this.logger,this.performanceClient)).submit();const p=await K(this.monitorPopupForHash.bind(this),R.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,c)(f,a.popupWindowParent),y=fn(Cs,R.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(p,this.config.auth.OIDCOptions.serverResponseType,this.logger);return K(Wr,R.HandleResponseCode,this.logger,this.performanceClient,c)(e,y,s,Le.acquireTokenPopup,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,a,r,s){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(oe.LOGOUT_START,pe.Popup,e);const c=this.initializeServerTelemetryManager(Le.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,e.account);const d=await K(this.createAuthCodeClient.bind(this),R.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:c,requestAuthority:r,account:e.account||void 0});try{d.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&d.authority.protocolMode===Wt.OIDC){if(this.eventHandler.emitEvent(oe.LOGOUT_SUCCESS,pe.Popup,e),s){const p={apiId:Le.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},y=De.getAbsoluteUrl(s,wa());await this.navigationClient.navigateInternal(y,p)}a.popup?.close();return}}const f=d.getLogoutUri(e);this.eventHandler.emitEvent(oe.LOGOUT_SUCCESS,pe.Popup,e);const g=this.openPopup(f,a);if(this.eventHandler.emitEvent(oe.POPUP_OPENED,pe.Popup,{popupWindow:g},null),await this.monitorPopupForHash(g,a.popupWindowParent).catch(()=>{}),s){const p={apiId:Le.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},y=De.getAbsoluteUrl(s,wa());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${y}`),await this.navigationClient.navigateInternal(y,p)}else this.logger.verbose("No main window navigation requested")}catch(d){throw a.popup?.close(),d instanceof ze&&(d.setCorrelationId(this.correlationId),c.cacheFailedRequest(d)),this.eventHandler.emitEvent(oe.LOGOUT_FAILURE,pe.Popup,null,d),this.eventHandler.emitEvent(oe.LOGOUT_END,pe.Popup),d}this.eventHandler.emitEvent(oe.LOGOUT_END,pe.Popup)}initiateAuthRequest(e,a){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,a);throw this.logger.error("Navigate url is empty"),se(vu)}monitorPopupForHash(e,a){return new Promise((r,s)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const c=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(c),s(se(bs));return}let d="";try{d=e.location.href}catch{}if(!d||d==="about:blank")return;clearInterval(c);let f="";const g=this.config.auth.OIDCOptions.serverResponseType;e&&(g===ou.QUERY?f=e.location.search:f=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(f)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,a)})}openPopup(e,a){try{let r;if(a.popup?(r=a.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof a.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,a)),!r)throw se(FS);return r.focus&&r.focus(),this.currentWindow=r,a.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),se(qS)}}openSizedPopup(e,{popupName:a,popupWindowAttributes:r,popupWindowParent:s}){const c=s.screenLeft?s.screenLeft:s.screenX,d=s.screenTop?s.screenTop:s.screenY,f=s.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,g=s.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let p=r.popupSize?.width,y=r.popupSize?.height,v=r.popupPosition?.top,T=r.popupPosition?.left;return(!p||p<0||p>f)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),p=$t.POPUP_WIDTH),(!y||y<0||y>g)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),y=$t.POPUP_HEIGHT),(!v||v<0||v>g)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),v=Math.max(0,g/2-$t.POPUP_HEIGHT/2+d)),(!T||T<0||T>f)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),T=Math.max(0,f/2-$t.POPUP_WIDTH/2+c)),s.open(e,a,`width=${p}, height=${y}, top=${v}, left=${T}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,a){e.close(),a.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,a){return`${$t.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${a}.${this.correlationId}`}generateLogoutPopupName(e){const a=e.account&&e.account.homeAccountId;return`${$t.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${a}.${this.correlationId}`}}function v0(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const i=window.performance.getEntriesByType("navigation");return(i.length?i[0]:void 0)?.type}class C0 extends lo{constructor(e,a,r,s,c,d,f,g,p,y){super(e,a,r,s,c,d,f,p,y),this.nativeStorage=g}async acquireToken(e){const a=await K(this.initializeAuthorizationRequest.bind(this),R.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,pe.Redirect);a.platformBroker=Is(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const r=c=>{c.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(oe.RESTORE_FROM_BFCACHE,pe.Redirect))},s=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${s}`),this.browserStorage.setTemporaryCache(gt.ORIGIN_URI,s,!0),window.addEventListener("pageshow",r);try{this.config.auth.protocolMode===Wt.EAR?await this.executeEarFlow(a):await this.executeCodeFlow(a,e.onRedirectNavigate)}catch(c){throw c instanceof ze&&c.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",r),c}}async executeCodeFlow(e,a){const r=e.correlationId,s=this.initializeServerTelemetryManager(Le.acquireTokenRedirect),c=await K(Vi,R.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),d={...e,codeChallenge:c.challenge};this.browserStorage.cacheAuthorizeRequest(d,c.verifier);try{if(d.httpMethod===Ki.POST)return await this.executeCodeFlowWithPost(d);{const f=await K(this.createAuthCodeClient.bind(this),R.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:d.authority,requestAzureCloudOptions:d.azureCloudOptions,requestExtraQueryParameters:d.extraQueryParameters,account:d.account}),g=await K(Xg,R.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,f.authority,d,this.logger,this.performanceClient);return await this.initiateAuthRequest(g,a)}}catch(f){throw f instanceof ze&&(f.setCorrelationId(this.correlationId),s.cacheFailedRequest(f)),f}}async executeEarFlow(e){const a=e.correlationId,r=await K(this.getDiscoveredAuthority.bind(this),R.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,a)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),s=await K(Kg,R.GenerateEarKey,this.logger,this.performanceClient,a)(),c=await K(Vi,R.GeneratePkceCodes,this.logger,this.performanceClient,a)(this.performanceClient,this.logger,a),d={...e,earJwk:s,codeChallenge:c.challenge};return this.browserStorage.cacheAuthorizeRequest(d,c.verifier),(await Jg(document,this.config,r,d,this.logger,this.performanceClient)).submit(),new Promise((g,p)=>{setTimeout(()=>{p(se(Vc,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(e){const a=e.correlationId,r=await K(this.getDiscoveredAuthority.bind(this),R.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,a)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return this.browserStorage.cacheAuthorizeRequest(e),(await Zg(document,this.config,r,e,this.logger,this.performanceClient)).submit(),new Promise((c,d)=>{setTimeout(()=>{d(se(Vc,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(e="",a,r,s){const c=this.initializeServerTelemetryManager(Le.handleRedirectPromise);try{const[d,f]=this.getRedirectResponse(e||"");if(!d)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),v0()!=="back_forward"?s.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const g=this.browserStorage.getTemporaryCache(gt.ORIGIN_URI,!0)||Y.EMPTY_STRING,p=XC(g),y=XC(window.location.href);if(p===y&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),g.indexOf("#")>-1&&TN(g),await this.handleResponse(d,a,r,c);if(this.config.auth.navigateToLoginRequestUrl){if(!Fg()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(gt.URL_HASH,f,!0);const v={apiId:Le.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let T=!0;if(!g||g==="null"){const S=AN();this.browserStorage.setTemporaryCache(gt.ORIGIN_URI,S,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),T=await this.navigationClient.navigateInternal(S,v)}else this.logger.verbose(`Navigating to loginRequestUrl: ${g}`),T=await this.navigationClient.navigateInternal(g,v);if(!T)return await this.handleResponse(d,a,r,c)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(d,a,r,c);return null}catch(d){throw d instanceof ze&&(d.setCorrelationId(this.correlationId),c.cacheFailedRequest(d)),d}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let a=e;a||(this.config.auth.OIDCOptions.serverResponseType===ou.QUERY?a=window.location.search:a=window.location.hash);let r=Hc(a);if(r){try{t0(r,this.browserCrypto,pe.Redirect)}catch(c){return c instanceof ze&&this.logger.error(`Interaction type validation failed due to ${c.errorCode}: ${c.errorMessage}`),[null,""]}return TA(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,a]}const s=this.browserStorage.getTemporaryCache(gt.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(gt.URL_HASH)),s&&(r=Hc(s),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,s]):[null,""]}async handleResponse(e,a,r,s){if(!e.state)throw se(xg);if(e.ear_jwe){const f=await K(this.getDiscoveredAuthority.bind(this),R.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,a.correlationId)({requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account});return K(ep,R.HandleResponseEar,this.logger,this.performanceClient,a.correlationId)(a,e,Le.acquireTokenRedirect,this.config,f,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const d=await K(this.createAuthCodeClient.bind(this),R.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:a.authority});return K(Wr,R.HandleResponseCode,this.logger,this.performanceClient,a.correlationId)(a,e,r,Le.acquireTokenRedirect,this.config,d,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,a){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const r={apiId:Le.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=a||this.config.auth.onRedirectNavigate;if(typeof s=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),s(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),se(vu)}async logout(e){this.logger.verbose("logoutRedirect called");const a=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(Le.logout);try{this.eventHandler.emitEvent(oe.LOGOUT_START,pe.Redirect,e),await this.clearCacheOnLogout(this.correlationId,a.account);const s={apiId:Le.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},c=await K(this.createAuthCodeClient.bind(this),R.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(c.authority.protocolMode===Wt.OIDC)try{c.authority.endSessionEndpoint}catch{if(a.account?.homeAccountId){this.eventHandler.emitEvent(oe.LOGOUT_SUCCESS,pe.Redirect,a);return}}const d=c.getLogoutUri(a);if(this.eventHandler.emitEvent(oe.LOGOUT_SUCCESS,pe.Redirect,a),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(d)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,di.SIGNOUT),await this.navigationClient.navigateExternal(d,s);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,di.SIGNOUT),await this.navigationClient.navigateExternal(d,s);return}}catch(s){throw s instanceof ze&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),this.eventHandler.emitEvent(oe.LOGOUT_FAILURE,pe.Redirect,null,s),this.eventHandler.emitEvent(oe.LOGOUT_END,pe.Redirect),s}this.eventHandler.emitEvent(oe.LOGOUT_END,pe.Redirect)}getRedirectStartPage(e){const a=e||window.location.href;return De.getAbsoluteUrl(a,wa())}}async function E0(i,e,a,r,s){if(e.addQueueMeasurement(R.SilentHandlerInitiateAuthRequest,r),!i)throw a.info("Navigate url is empty"),se(vu);return s?K(A0,R.SilentHandlerLoadFrame,a,e,r)(i,s,e,r):fn(w0,R.SilentHandlerLoadFrameSync,a,e,r)(i)}async function T0(i,e,a,r,s){const c=Au();if(!c.contentDocument)throw"No document associated with iframe!";return(await Zg(c.contentDocument,i,e,a,r,s)).submit(),c}async function S0(i,e,a,r,s){const c=Au();if(!c.contentDocument)throw"No document associated with iframe!";return(await Jg(c.contentDocument,i,e,a,r,s)).submit(),c}async function OE(i,e,a,r,s,c,d){return r.addQueueMeasurement(R.SilentHandlerMonitorIframeForHash,c),new Promise((f,g)=>{e<Mf&&s.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${Mf}ms). This may result in timeouts.`);const p=window.setTimeout(()=>{window.clearInterval(y),g(se(QS))},e),y=window.setInterval(()=>{let v="";const T=i.contentWindow;try{v=T?T.location.href:""}catch{}if(!v||v==="about:blank")return;let S="";T&&(d===ou.QUERY?S=T.location.search:S=T.location.hash),window.clearTimeout(p),window.clearInterval(y),f(S)},a)}).finally(()=>{fn(_0,R.RemoveHiddenIframe,s,r,c)(i)})}function A0(i,e,a,r){return a.addQueueMeasurement(R.SilentHandlerLoadFrame,r),new Promise((s,c)=>{const d=Au();window.setTimeout(()=>{if(!d){c("Unable to load iframe");return}d.src=i,s(d)},e)})}function w0(i){const e=Au();return e.src=i,e}function Au(){const i=document.createElement("iframe");return i.className="msalSilentIframe",i.style.visibility="hidden",i.style.position="absolute",i.style.width=i.style.height="0",i.style.border="0",i.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),i.setAttribute("allow","local-network-access *"),document.body.appendChild(i),i}function _0(i){document.body===i.parentNode&&document.body.removeChild(i)}class R0 extends lo{constructor(e,a,r,s,c,d,f,g,p,y,v){super(e,a,r,s,c,d,g,y,v),this.apiId=f,this.nativeStorage=p}async acquireToken(e){this.performanceClient.addQueueMeasurement(R.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const a={...e};a.prompt?a.prompt!==kt.NONE&&a.prompt!==kt.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${a.prompt} with ${kt.NONE}`),a.prompt=kt.NONE):a.prompt=kt.NONE;const r=await K(this.initializeAuthorizationRequest.bind(this),R.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(a,pe.Silent);return r.platformBroker=Is(this.config,this.logger,this.platformAuthProvider,r.authenticationScheme),wA(r.authority),this.config.auth.protocolMode===Wt.EAR?this.executeEarFlow(r):this.executeCodeFlow(r)}async executeCodeFlow(e){let a;const r=this.initializeServerTelemetryManager(this.apiId);try{return a=await K(this.createAuthCodeClient.bind(this),R.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await K(this.silentTokenHelper.bind(this),R.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(a,e)}catch(s){if(s instanceof ze&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),!a||!(s instanceof ze)||s.errorCode!==$t.INVALID_GRANT_ERROR)throw s;return this.performanceClient.addFields({retryError:s.errorCode},this.correlationId),await K(this.silentTokenHelper.bind(this),R.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(a,e)}}async executeEarFlow(e){const a=e.correlationId,r=await K(this.getDiscoveredAuthority.bind(this),R.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,a)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),s=await K(Kg,R.GenerateEarKey,this.logger,this.performanceClient,a)(),c=await K(Vi,R.GeneratePkceCodes,this.logger,this.performanceClient,a)(this.performanceClient,this.logger,a),d={...e,earJwk:s,codeChallenge:c.challenge},f=await K(S0,R.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,a)(this.config,r,d,this.logger,this.performanceClient),g=this.config.auth.OIDCOptions.serverResponseType,p=await K(OE,R.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,a)(f,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,a,g),y=fn(Cs,R.DeserializeResponse,this.logger,this.performanceClient,a)(p,g,this.logger);if(!y.ear_jwe&&y.code){const v=await K(this.createAuthCodeClient.bind(this),R.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,a)({serverTelemetryManager:this.initializeServerTelemetryManager(this.apiId),requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account,authority:r});return K(Wr,R.HandleResponseCode,this.logger,this.performanceClient,a)(d,y,c.verifier,this.apiId,this.config,v,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}else return K(ep,R.HandleResponseEar,this.logger,this.performanceClient,a)(d,y,this.apiId,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(se(Cu))}async silentTokenHelper(e,a){const r=a.correlationId;this.performanceClient.addQueueMeasurement(R.SilentIframeClientTokenHelper,r);const s=await K(Vi,R.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),c={...a,codeChallenge:s.challenge};let d;if(a.httpMethod===Ki.POST)d=await K(T0,R.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(this.config,e.authority,c,this.logger,this.performanceClient);else{const y=await K(Xg,R.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,e.authority,c,this.logger,this.performanceClient);d=await K(E0,R.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(y,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait)}const f=this.config.auth.OIDCOptions.serverResponseType,g=await K(OE,R.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(d,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,f),p=fn(Cs,R.DeserializeResponse,this.logger,this.performanceClient,r)(g,f,this.logger);return K(Wr,R.HandleResponseCode,this.logger,this.performanceClient,r)(a,p,s.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}class b0 extends lo{async acquireToken(e){this.performanceClient.addQueueMeasurement(R.SilentRefreshClientAcquireToken,e.correlationId);const a=await K($g,R.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r={...e,...a};e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));const s=this.initializeServerTelemetryManager(Le.acquireTokenSilent_silentFlow),c=await this.createRefreshTokenClient({serverTelemetryManager:s,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return K(c.acquireTokenByRefreshToken.bind(c),R.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(d=>{throw d.setCorrelationId(this.correlationId),s.cacheFailedRequest(d),d})}logout(){return Promise.reject(se(Cu))}async createRefreshTokenClient(e){const a=await K(this.getClientConfiguration.bind(this),R.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new zk(a,this.performanceClient)}}class O0{constructor(e,a,r,s){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=a,this.logger=r,this.cryptoObj=s}async loadExternalTokens(e,a,r){if(!this.isBrowserEnvironment)throw se(Eu);const s=e.correlationId||Bn(),c=a.id_token?Yn(a.id_token,Gt):void 0,d=$n(c||{}),f={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},g=e.authority?new xt(xt.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,f,this.logger,e.correlationId||Bn()):void 0,p=await this.loadAccount(e,r.clientInfo||a.client_info||"",s,c,g),y=await this.loadIdToken(a,p.homeAccountId,p.environment,p.realm,s,d),v=await this.loadAccessToken(e,a,p.homeAccountId,p.environment,p.realm,r,s,d),T=await this.loadRefreshToken(a,p.homeAccountId,p.environment,s,d);return this.generateAuthenticationResult(e,{account:p,idToken:y,accessToken:v,refreshToken:T},c,g)}async loadAccount(e,a,r,s,c){if(this.logger.verbose("TokenCache - loading account"),e.account){const p=rt.createFromAccountInfo(e.account);return await this.storage.setAccount(p,r,$n(s||{})),p}else if(!c||!a&&!s)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),se(tA);const d=rt.generateHomeAccountId(a,c.authorityType,this.logger,this.cryptoObj,s),f=s?.tid,g=Og(this.storage,c,d,Gt,r,s,a,c.hostnameAndPort,f,void 0,void 0,this.logger);return await this.storage.setAccount(g,r,$n(s||{})),g}async loadIdToken(e,a,r,s,c,d){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const f=hu(a,r,e.id_token,this.config.auth.clientId,s);return await this.storage.setIdTokenCredential(f,c,d),f}async loadAccessToken(e,a,r,s,c,d,f,g){if(a.access_token)if(a.expires_in){if(!a.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const p=a.scope?yt.fromString(a.scope):new yt(e.scopes),y=d.expiresOn||a.expires_in+Zt(),v=d.extendedExpiresOn||(a.ext_expires_in||a.expires_in)+Zt(),T=fu(r,s,a.access_token,this.config.auth.clientId,c,p.printScopes(),y,v,Gt);return await this.storage.setAccessTokenCredential(T,f,g),T}async loadRefreshToken(e,a,r,s,c){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const d=bS(a,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(d,s,c),d}generateAuthenticationResult(e,a,r,s){let c="",d=[],f=null,g;a?.accessToken&&(c=a.accessToken.secret,d=yt.fromString(a.accessToken.target).asArray(),f=Yr(a.accessToken.expiresOn),g=Yr(a.accessToken.extendedExpiresOn));const p=a.account;return{authority:s?s.canonicalAuthority:"",uniqueId:a.account.localAccountId,tenantId:a.account.realm,scopes:d,account:rt.getAccountInfo(p),idToken:a.idToken?.secret||"",idTokenClaims:r||{},accessToken:c,fromCache:!0,expiresOn:f,correlationId:e.correlationId||"",requestId:"",extExpiresOn:g,familyId:a.refreshToken?.familyId||"",tokenType:a?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:p.cloudGraphHostName||"",msGraphHost:p.msGraphHost||"",fromNativeBroker:!1}}}class I0 extends DS{constructor(e){super(e),this.includeRedirectUri=!1}}class k0 extends lo{constructor(e,a,r,s,c,d,f,g,p,y){super(e,a,r,s,c,d,g,p,y),this.apiId=f}async acquireToken(e){if(!e.code)throw se(nA);const a=await K(this.initializeAuthorizationRequest.bind(this),R.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,pe.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const s={...a,code:e.code},c=await K(this.getClientConfiguration.bind(this),R.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),d=new I0(c);this.logger.verbose("Auth code client created");const f=new IA(d,this.browserStorage,s,this.logger,this.performanceClient);return await K(f.handleCodeResponseFromServer.bind(f),R.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},a,!1)}catch(s){throw s instanceof ze&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),s}}logout(){return Promise.reject(se(Cu))}}function N0(i,e,a){const r=window.msal?.clientIds||[],s=r.length,c=r.filter(d=>d===i).length;c>1&&a.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:s,sameClientIdInstanceCount:c})}function Cc(i,e,a){try{Qg(i)}catch(r){throw e.end({success:!1},r,a),r}}class wu{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Ia(this.logger,this.performanceClient):Lc,this.eventHandler=new JN(this.logger),this.browserStorage=this.isBrowserEnvironment?new xf(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,Mk(this.config.auth)):jN(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const a={cacheLocation:Et.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:Et.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new xf(this.config.auth.clientId,a,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new O0(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,a){const r=new wu(e);return await r.initialize(a),r}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,a){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(oe.INITIALIZE_END);return}const r=e?.correlationId||this.getRequestCorrelationId(),s=this.config.system.allowPlatformBroker,c=this.performanceClient.startMeasurement(R.InitializeClientApplication,r);if(this.eventHandler.emitEvent(oe.INITIALIZE_START),!a)try{this.logMultipleInstances(c)}catch{}if(await K(this.browserStorage.initialize.bind(this.browserStorage),R.InitializeCache,this.logger,this.performanceClient,r)(r),s)try{this.platformAuthProvider=await p0(this.logger,this.performanceClient,r,this.config.system.nativeBrokerHandshakeTimeout)}catch(d){this.logger.verbose(d)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),fn(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),R.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,r)(r)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(r),this.initialized=!0,this.eventHandler.emitEvent(oe.INITIALIZE_END),c.end({allowPlatformBroker:s,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),AA(this.initialized),this.isBrowserEnvironment){const a=e||"";let r=this.redirectResponse.get(a);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(a,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(this.browserStorage.getInteractionInProgress()?.type===di.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const r=this.getAllAccounts(),s=this.browserStorage.getCachedNativeRequest(),c=s&&this.platformAuthProvider&&!e;let d;this.eventHandler.emitEvent(oe.HANDLE_REDIRECT_START,pe.Redirect);let f;try{if(c&&this.platformAuthProvider){d=this.performanceClient.startMeasurement(R.AcquireTokenRedirect,s?.correlationId||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform"),d.add({isPlatformBrokerRequest:!0});const g=new Ic(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Le.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,s.accountId,this.nativeInternalStorage,s.correlationId);f=K(g.handleRedirectPromise.bind(g),R.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,d.event.correlationId)(this.performanceClient,d.event.correlationId)}else{const[g,p]=this.browserStorage.getCachedRequest(),y=g.correlationId;d=this.performanceClient.startMeasurement(R.AcquireTokenRedirect,y),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const v=this.createRedirectClient(y);f=K(v.handleRedirectPromise.bind(v),R.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,d.event.correlationId)(e,g,p,d)}}catch(g){throw this.browserStorage.resetRequestCache(),g}return f.then(g=>(g?(this.browserStorage.resetRequestCache(),r.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(oe.LOGIN_SUCCESS,pe.Redirect,g),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_SUCCESS,pe.Redirect,g),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),d.end({success:!0},void 0,g.account)):d.event.errorCode?d.end({success:!1},void 0):d.discard(),this.eventHandler.emitEvent(oe.HANDLE_REDIRECT_END,pe.Redirect),g)).catch(g=>{this.browserStorage.resetRequestCache();const p=g;throw r.length>0?this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_FAILURE,pe.Redirect,null,p):this.eventHandler.emitEvent(oe.LOGIN_FAILURE,pe.Redirect,null,p),this.eventHandler.emitEvent(oe.HANDLE_REDIRECT_END,pe.Redirect),d.end({success:!1},p),g})}async acquireTokenRedirect(e){const a=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",a);const r=this.performanceClient.startMeasurement(R.AcquireTokenPreRedirect,a);r.add({scenarioId:e.scenarioId});const s=e.onRedirectNavigate;if(s)e.onRedirectNavigate=d=>{const f=typeof s=="function"?s(d):void 0;return r.add({navigateCallbackResult:f!==!1}),r.event=r.end({success:!0},void 0,e.account)||r.event,f};else{const d=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=f=>{const g=typeof d=="function"?d(f):void 0;return r.add({navigateCallbackResult:g!==!1}),r.event=r.end({success:!0},void 0,e.account)||r.event,g}}const c=this.getAllAccounts().length>0;try{vE(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,di.SIGNIN),c?this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_START,pe.Redirect,e):this.eventHandler.emitEvent(oe.LOGIN_START,pe.Redirect,e);let d;return this.platformAuthProvider&&this.canUsePlatformBroker(e)?d=new Ic(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Le.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,a).acquireTokenRedirect(e,r).catch(g=>{if(r.add({brokerErrorName:g.name,brokerErrorCode:g.errorCode}),g instanceof Qn&&jr(g))return this.platformAuthProvider=void 0,this.createRedirectClient(a).acquireToken(e);if(g instanceof Rn)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(a).acquireToken(e);throw g}):d=this.createRedirectClient(a).acquireToken(e),await d}catch(d){throw this.browserStorage.resetRequestCache(),r.event.status===2?this.performanceClient.startMeasurement(R.AcquireTokenRedirect,a).end({success:!1},d,e.account):r.end({success:!1},d,e.account),c?this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_FAILURE,pe.Redirect,null,d):this.eventHandler.emitEvent(oe.LOGIN_FAILURE,pe.Redirect,null,d),d}}acquireTokenPopup(e){const a=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(R.AcquireTokenPopup,a);r.add({scenarioId:e.scenarioId});try{this.logger.verbose("acquireTokenPopup called",a),Cc(this.initialized,r,e.account),this.browserStorage.setInteractionInProgress(!0,di.SIGNIN)}catch(f){return Promise.reject(f)}const s=this.getAllAccounts();s.length>0?this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_START,pe.Popup,e):this.eventHandler.emitEvent(oe.LOGIN_START,pe.Popup,e);let c;const d=this.getPreGeneratedPkceCodes(a);return this.canUsePlatformBroker(e)?(r.add({isPlatformBrokerRequest:!0}),c=this.acquireTokenNative({...e,correlationId:a},Le.acquireTokenPopup).then(f=>(r.end({success:!0},void 0,f.account),f)).catch(f=>{if(r.add({brokerErrorName:f.name,brokerErrorCode:f.errorCode}),f instanceof Qn&&jr(f))return this.platformAuthProvider=void 0,this.createPopupClient(a).acquireToken(e,d);if(f instanceof Rn)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(a).acquireToken(e,d);throw f})):c=this.createPopupClient(a).acquireToken(e,d),c.then(f=>(s.length<this.getAllAccounts().length?this.eventHandler.emitEvent(oe.LOGIN_SUCCESS,pe.Popup,f):this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_SUCCESS,pe.Popup,f),r.end({success:!0,accessTokenSize:f.accessToken.length,idTokenSize:f.idToken.length},void 0,f.account),f)).catch(f=>(s.length>0?this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_FAILURE,pe.Popup,null,f):this.eventHandler.emitEvent(oe.LOGIN_FAILURE,pe.Popup,null,f),r.end({success:!1},f,e.account),Promise.reject(f))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(a)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const a=this.getRequestCorrelationId(e),r={...e,prompt:e.prompt,correlationId:a};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(R.SsoSilent,a),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId}),Cc(this.initialized,this.ssoSilentMeasurement,e.account),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",a),this.eventHandler.emitEvent(oe.SSO_SILENT_START,pe.Silent,r);let s;return this.canUsePlatformBroker(r)?(this.ssoSilentMeasurement?.add({isPlatformBrokerRequest:!0}),s=this.acquireTokenNative(r,Le.ssoSilent).catch(c=>{if(this.ssoSilentMeasurement?.add({brokerErrorName:c.name,brokerErrorCode:c.errorCode}),c instanceof Qn&&jr(c))return this.platformAuthProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw c})):s=this.createSilentIframeClient(r.correlationId).acquireToken(r),s.then(c=>(this.eventHandler.emitEvent(oe.SSO_SILENT_SUCCESS,pe.Silent,c),this.ssoSilentMeasurement?.end({success:!0,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length},void 0,c.account),c)).catch(c=>{throw this.eventHandler.emitEvent(oe.SSO_SILENT_FAILURE,pe.Silent,null,c),this.ssoSilentMeasurement?.end({success:!1},c,e.account),c}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const a=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",a);const r=this.performanceClient.startMeasurement(R.AcquireTokenByCode,a);Cc(this.initialized,r),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_BY_CODE_START,pe.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw se(iA);if(e.code){const s=e.code;let c=this.hybridAuthCodeResponses.get(s);return c?(this.logger.verbose("Existing acquireTokenByCode request found",a),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",a),c=this.acquireTokenByCodeAsync({...e,correlationId:a}).then(d=>(this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_BY_CODE_SUCCESS,pe.Silent,d),this.hybridAuthCodeResponses.delete(s),r.end({success:!0,accessTokenSize:d.accessToken.length,idTokenSize:d.idToken.length},void 0,d.account),d)).catch(d=>{throw this.hybridAuthCodeResponses.delete(s),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_BY_CODE_FAILURE,pe.Silent,null,d),r.end({success:!1},d),d}),this.hybridAuthCodeResponses.set(s,c)),await c}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){r.add({isPlatformBrokerRequest:!0});const s=await this.acquireTokenNative({...e,correlationId:a},Le.acquireTokenByCode,e.nativeAccountId).catch(c=>{throw c instanceof Qn&&jr(c)&&(this.platformAuthProvider=void 0),r.add({brokerErrorName:c.name,brokerErrorCode:c.errorCode}),c});return r.end({success:!0},void 0,s.account),s}else throw se(rA);else throw se(aA)}catch(s){throw this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_BY_CODE_FAILURE,pe.Silent,null,s),r.end({success:!1},s),s}}async acquireTokenByCodeAsync(e){return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(R.AcquireTokenByCodeAsync,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(s=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:s.fromCache}),s)).catch(s=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},s),s}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,a){switch(this.performanceClient.addQueueMeasurement(R.AcquireTokenFromCache,e.correlationId),a){case Ht.Default:case Ht.AccessToken:case Ht.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(e.correlationId);return K(r.acquireToken.bind(r),R.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw J(pi)}}async acquireTokenByRefreshToken(e,a){switch(this.performanceClient.addQueueMeasurement(R.AcquireTokenByRefreshToken,e.correlationId),a){case Ht.Default:case Ht.AccessTokenAndRefreshToken:case Ht.RefreshToken:case Ht.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(e.correlationId);return K(r.acquireToken.bind(r),R.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw J(pi)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(R.AcquireTokenBySilentIframe,e.correlationId);const a=this.createSilentIframeClient(e.correlationId);return K(a.acquireToken.bind(a),R.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const a=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",a),this.logoutRedirect({correlationId:a,...e})}async logoutRedirect(e){const a=this.getRequestCorrelationId(e);return vE(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,di.SIGNOUT),this.createRedirectClient(a).logout(e)}logoutPopup(e){try{const a=this.getRequestCorrelationId(e);return Qg(this.initialized),this.browserStorage.setInteractionInProgress(!0,di.SIGNOUT),this.createPopupClient(a).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(a){return Promise.reject(a)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const a=this.getRequestCorrelationId(e);return this.createSilentCacheClient(a).logout(e)}getAllAccounts(e){const a=this.getRequestCorrelationId();return qN(this.logger,this.browserStorage,this.isBrowserEnvironment,a,e)}getAccount(e){const a=this.getRequestCorrelationId();return FN(e,this.logger,this.browserStorage,a)}getAccountByUsername(e){const a=this.getRequestCorrelationId();return QN(e,this.logger,this.browserStorage,a)}getAccountByHomeId(e){const a=this.getRequestCorrelationId();return YN(e,this.logger,this.browserStorage,a)}getAccountByLocalId(e){const a=this.getRequestCorrelationId();return VN(e,this.logger,this.browserStorage,a)}setActiveAccount(e){const a=this.getRequestCorrelationId();$N(e,this.browserStorage,a)}getActiveAccount(){const e=this.getRequestCorrelationId();return WN(this.browserStorage,e)}async hydrateCache(e,a){this.logger.verbose("hydrateCache called");const r=rt.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(r,e.correlationId,$n(e.idTokenClaims)),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,a)):this.browserStorage.hydrateCache(e,a)}async acquireTokenNative(e,a,r,s){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw se(Pg);return new Ic(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,a,this.performanceClient,this.platformAuthProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,s)}canUsePlatformBroker(e,a){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!Is(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case kt.NONE:case kt.CONSENT:case kt.LOGIN:case kt.SELECT_ACCOUNT:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!a&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const a=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return a&&a.nativeAccountId||""}createPopupClient(e){return new y0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new C0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new R0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Le.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new NA(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new b0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new k0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Le.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,a){return this.eventHandler.addEventCallback(e,a)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return SA(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Et.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Et.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,a){this.browserStorage.setWrapperMetadata(e,a)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?Bn():Y.EMPTY_STRING}async loginRedirect(e){const a=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",a),this.acquireTokenRedirect({correlationId:a,...e||fE})}loginPopup(e){const a=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",a),this.acquireTokenPopup({correlationId:a,...e||fE})}async acquireTokenSilent(e){const a=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(R.AcquireTokenSilent,a);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Cc(this.initialized,r,e.account),this.logger.verbose("acquireTokenSilent called",a);const s=e.account||this.getActiveAccount();if(!s)throw se(WS);return this.acquireTokenSilentDeduped(e,s,a).then(c=>(r.end({success:!0,fromCache:c.fromCache,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length},void 0,c.account),{...c,state:e.state,correlationId:a})).catch(c=>{throw c instanceof ze&&c.setCorrelationId(a),r.end({success:!1},c,s),c})}async acquireTokenSilentDeduped(e,a,r){const s=pu(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority},a.homeAccountId),c=JSON.stringify(s),d=this.activeSilentTokenRequests.get(c);if(typeof d>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),this.performanceClient.addFields({deduped:!1},r);const f=K(this.acquireTokenSilentAsync.bind(this),R.AcquireTokenSilentAsync,this.logger,this.performanceClient,r)({...e,correlationId:r},a);return this.activeSilentTokenRequests.set(c,f),f.finally(()=>{this.activeSilentTokenRequests.delete(c)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),this.performanceClient.addFields({deduped:!0},r),d}async acquireTokenSilentAsync(e,a){const r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(R.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_START,pe.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);const s=await K(ZN,R.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,a,this.config,this.performanceClient,this.logger),c=e.cacheLookupPolicy||Ht.Default;return this.acquireTokenSilentNoIframe(s,c).catch(async f=>{if(M0(f,c))if(this.activeIframeRequest)if(c!==Ht.Skip){const[p,y]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${y}`,s.correlationId);const v=this.performanceClient.startMeasurement(R.AwaitConcurrentIframe,s.correlationId);v.add({awaitIframeCorrelationId:y});const T=await p;if(v.end({success:T}),T)return this.logger.verbose(`Parallel iframe request with correlationId: ${y} succeeded. Retrying cache and/or RT redemption`,s.correlationId),this.acquireTokenSilentNoIframe(s,c);throw this.logger.info(`Iframe request with correlationId: ${y} failed. Interaction is required.`),f}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",s.correlationId),K(this.acquireTokenBySilentIframe.bind(this),R.AcquireTokenBySilentIframe,this.logger,this.performanceClient,s.correlationId)(s);else{let p;return this.activeIframeRequest=[new Promise(y=>{p=y}),s.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",s.correlationId),K(this.acquireTokenBySilentIframe.bind(this),R.AcquireTokenBySilentIframe,this.logger,this.performanceClient,s.correlationId)(s).then(y=>(p(!0),y)).catch(y=>{throw p(!1),y}).finally(()=>{this.activeIframeRequest=void 0})}else throw f}).then(f=>(this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_SUCCESS,pe.Silent,f),this.performanceClient.addFields({fromCache:f.fromCache},e.correlationId),f)).catch(f=>{throw this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_FAILURE,pe.Silent,null,f),f}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(e,a){return Is(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.performanceClient.addFields({isPlatformBrokerRequest:!0},e.correlationId),this.acquireTokenNative(e,Le.acquireTokenSilent_silentFlow,e.account.nativeAccountId,a).catch(async r=>{throw this.performanceClient.addFields({brokerErrorName:r.name,brokerErrorCode:r.errorCode},e.correlationId),r instanceof Qn&&jr(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,J(pi)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),a===Ht.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),K(this.acquireTokenFromCache.bind(this),R.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,a).catch(r=>{if(a===Ht.AccessToken)throw r;return this.eventHandler.emitEvent(oe.ACQUIRE_TOKEN_NETWORK_START,pe.Silent,e),K(this.acquireTokenByRefreshToken.bind(this),R.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,a)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await K(Vi,R.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const a=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${a?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!a},e),a}logMultipleInstances(e){const a=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(a),N0(a,e,this.logger)}}function M0(i,e){const a=!(i instanceof Rn&&i.subError!==yu),r=i.errorCode===$t.INVALID_GRANT_ERROR||i.errorCode===pi,s=a&&r||i.errorCode===Fc||i.errorCode===Rg,c=sN.includes(e);return s&&c}async function D0(i,e){const a=new Yi(i);return await a.initialize(),wu.createController(a,e)}class np{static async createPublicClientApplication(e){const a=await D0(e);return new np(e,a)}constructor(e,a){this.isBroker=!1,this.controller=a||new wu(new Yi(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,a){return this.controller.addEventCallback(e,a)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,a){return this.controller.initializeWrapperLibrary(e,a)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,a){return this.controller.hydrateCache(e,a)}clearCache(e){return this.controller.clearCache(e)}}const x0={initialize:()=>Promise.reject(ft(mt)),acquireTokenPopup:()=>Promise.reject(ft(mt)),acquireTokenRedirect:()=>Promise.reject(ft(mt)),acquireTokenSilent:()=>Promise.reject(ft(mt)),acquireTokenByCode:()=>Promise.reject(ft(mt)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(ft(mt)),loginPopup:()=>Promise.reject(ft(mt)),loginRedirect:()=>Promise.reject(ft(mt)),logout:()=>Promise.reject(ft(mt)),logoutRedirect:()=>Promise.reject(ft(mt)),logoutPopup:()=>Promise.reject(ft(mt)),ssoSilent:()=>Promise.reject(ft(mt)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw ft(mt)},getLogger:()=>{throw ft(mt)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw ft(mt)},hydrateCache:()=>Promise.reject(ft(mt)),clearCache:()=>Promise.reject(ft(mt))};class U0{static getInteractionStatusFromEvent(e,a){switch(e.eventType){case oe.LOGIN_START:return Qe.Login;case oe.SSO_SILENT_START:return Qe.SsoSilent;case oe.ACQUIRE_TOKEN_START:if(e.interactionType===pe.Redirect||e.interactionType===pe.Popup)return Qe.AcquireToken;break;case oe.HANDLE_REDIRECT_START:return Qe.HandleRedirect;case oe.LOGOUT_START:return Qe.Logout;case oe.SSO_SILENT_SUCCESS:case oe.SSO_SILENT_FAILURE:if(a&&a!==Qe.SsoSilent)break;return Qe.None;case oe.LOGOUT_END:if(a&&a!==Qe.Logout)break;return Qe.None;case oe.HANDLE_REDIRECT_END:if(a&&a!==Qe.HandleRedirect)break;return Qe.None;case oe.LOGIN_SUCCESS:case oe.LOGIN_FAILURE:case oe.ACQUIRE_TOKEN_SUCCESS:case oe.ACQUIRE_TOKEN_FAILURE:case oe.RESTORE_FROM_BFCACHE:if(e.interactionType===pe.Redirect||e.interactionType===pe.Popup){if(a&&a!==Qe.Login&&a!==Qe.AcquireToken)break;return Qe.None}break}return null}}const L0="modulepreload",P0=function(i){return"/knowledge/"+i},IE={},H0=function(e,a,r){let s=Promise.resolve();if(a&&a.length>0){let g=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");s=g(a.map(p=>{if(p=P0(p),p in IE)return;IE[p]=!0;const y=p.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const T=document.createElement("link");if(T.rel=y?"stylesheet":L0,y||(T.as="script"),T.crossOrigin="",T.href=p,f&&T.setAttribute("nonce",f),document.head.appendChild(T),y)return new Promise((S,O)=>{T.addEventListener("load",S),T.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return s.then(d=>{for(const f of d||[])f.status==="rejected"&&c(f.reason);return e().catch(c)})},B0={auth:{clientId:"f9c4f176-9e7f-424a-b417-86da612252b8",authority:"https://TrialTenant1qGo77oT.ciamlogin.com",redirectUri:"http://localhost:5173/knowledge/",postLogoutRedirectUri:"/"},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(i,e,a)=>{if(!a)switch(i){case Fe.Error:console.error(e);return;case Fe.Info:console.info(e);return;case Fe.Verbose:console.debug(e);return;case Fe.Warning:console.warn(e);return;default:return}}}}},Jc=(()=>{const i="https://localhost:7134/api";return{KnowledgeAPI:{endPoints:{Category:{Row:`${i}/CategoryRow`,Category:`${i}/Category`,Question:`${i}/Question`,QuestionAnswer:`${i}/QuestionAnswer`},Group:{Row:`${i}/GroupRow`,Group:`${i}/Group`,Answer:`${i}/Answer`},History:{endpointHistory:`${i}/History`,endpointHistoryFilter:`${i}/HistoryFilter`}}},scopes:{read:["api://91385bcd-f531-4b1c-8b3d-2105439f0a8a/ToDoList.Read"],write:["api://91385bcd-f531-4b1c-8b3d-2105439f0a8a/ToDoList.ReadWrite"]}}})(),kE={scopes:[...Jc.scopes.read,...Jc.scopes.write]};const G0={instance:x0,inProgress:Qe.None,accounts:[],logger:new Oa({})},ap=C.createContext(G0);ap.Consumer;function xA(i,e){return typeof i=="function"?i(e):i}function NE(i,e){if(i.length!==e.length)return!1;const a=[...e];return i.every(r=>{const s=a.shift();return!r||!s?!1:r.homeAccountId===s.homeAccountId&&r.localAccountId===s.localAccountId&&r.username===s.username})}function z0(i,e){return i.length>0&&(e.homeAccountId||e.localAccountId||e.username)&&i.filter(r=>!(e.username&&e.username.toLowerCase()!==r.username.toLowerCase()||e.homeAccountId&&e.homeAccountId.toLowerCase()!==r.homeAccountId.toLowerCase()||e.localAccountId&&e.localAccountId.toLowerCase()!==r.localAccountId.toLowerCase()))[0]||null}const K0="@azure/msal-react",ME="3.0.22";const Zc={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},j0=(i,e)=>{const{type:a,payload:r}=e;let s=i.inProgress;switch(a){case Zc.UNBLOCK_INPROGRESS:i.inProgress===Qe.Startup&&(s=Qe.None,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case Zc.EVENT:const d=r.message,f=U0.getInteractionStatusFromEvent(d,i.inProgress);f&&(r.logger.info(`MsalProvider - ${d.eventType} results in setting inProgress from ${i.inProgress} to ${f}`),s=f);break;default:throw new Error(`Unknown action type: ${a}`)}if(s===Qe.Startup)return i;const c=r.instance.getAllAccounts();return s!==i.inProgress&&!NE(c,i.accounts)?{...i,inProgress:s,accounts:c}:s!==i.inProgress?{...i,inProgress:s}:NE(c,i.accounts)?i:{...i,accounts:c}};function q0({instance:i,children:e}){C.useEffect(()=>{i.initializeWrapperLibrary(iN.React,ME)},[i]);const a=C.useMemo(()=>i.getLogger().clone(K0,ME),[i]),[r,s]=C.useReducer(j0,void 0,()=>({inProgress:Qe.Startup,accounts:[]}));C.useEffect(()=>{const d=i.addEventCallback(f=>{s({payload:{instance:i,logger:a,message:f},type:Zc.EVENT})});return a.verbose(`MsalProvider - Registered event callback with id: ${d}`),i.initialize().then(()=>{i.handleRedirectPromise().catch(()=>{}).finally(()=>{s({payload:{instance:i,logger:a},type:Zc.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{d&&(a.verbose(`MsalProvider - Removing event callback ${d}`),i.removeEventCallback(d))}},[i,a]);const c={instance:i,inProgress:r.inProgress,accounts:r.accounts,logger:a};return lt.createElement(ap.Provider,{value:c},e)}const Ji=()=>C.useContext(ap);function F0(i,e){return e&&(e.username||e.homeAccountId||e.localAccountId)?!!z0(i,e):i.length>0}function ip(i){const{accounts:e,inProgress:a}=Ji();return C.useMemo(()=>a===Qe.Startup?!1:F0(e,i),[e,a,i])}function rp({username:i,homeAccountId:e,localAccountId:a,children:r}){const s=Ji(),c=C.useMemo(()=>({username:i,homeAccountId:e,localAccountId:a}),[i,e,a]);return ip(c)&&s.inProgress!==Qe.Startup?lt.createElement(lt.Fragment,null,xA(r,s)):null}function UA({username:i,homeAccountId:e,localAccountId:a,children:r}){const s=Ji(),c=C.useMemo(()=>({username:i,homeAccountId:e,localAccountId:a}),[i,e,a]);return!ip(c)&&s.inProgress!==Qe.Startup&&s.inProgress!==Qe.HandleRedirect?lt.createElement(lt.Fragment,null,xA(r,s)):null}function DE(i,e){return i.getActiveAccount()}function Q0(i){const{instance:e,inProgress:a,logger:r}=Ji(),[s,c]=C.useState(()=>a===Qe.Startup?null:DE(e));return C.useEffect(()=>{a!==Qe.Startup&&c(d=>{const f=DE(e);return rt.accountInfoIsEqual(d,f,!0)?d:(r.info("useAccount - Updating account"),f)})},[a,i,e,r]),s}const Ec={invalidInteractionType:{code:"invalid_interaction_type",desc:"The provided interaction type is invalid."},unableToFallbackToInteraction:{code:"unable_to_fallback_to_interaction",desc:"Interaction is required but another interaction is already in progress. Please try again when the current interaction is complete."}};class Xr extends ze{constructor(e,a){super(e,a),Object.setPrototypeOf(this,Xr.prototype),this.name="ReactAuthError"}static createInvalidInteractionTypeError(){return new Xr(Ec.invalidInteractionType.code,Ec.invalidInteractionType.desc)}static createUnableToFallbackToInteractionError(){return new Xr(Ec.unableToFallbackToInteraction.code,Ec.unableToFallbackToInteraction.desc)}}function Y0(i,e,a){const{instance:r,inProgress:s,logger:c}=Ji(),d=ip(a),f=Q0(a),[[g,p],y]=C.useState([null,null]),v=C.useRef(!0);C.useEffect(()=>()=>{v.current=!1},[]);const T=C.useRef(s!==Qe.None);C.useEffect(()=>{T.current=s!==Qe.None},[s]);const S=C.useRef(!0);C.useEffect(()=>{if(p){S.current=!1;return}if(g){S.current=!1;return}},[p,g]);const O=C.useCallback(async(I,P)=>{const L=I||i,B=P||e;switch(L){case pe.Popup:return c.verbose("useMsalAuthentication - Calling loginPopup"),r.loginPopup(B);case pe.Redirect:return c.verbose("useMsalAuthentication - Calling loginRedirect"),r.loginRedirect(B).then(null);case pe.Silent:return c.verbose("useMsalAuthentication - Calling ssoSilent"),r.ssoSilent(B);default:throw Xr.createInvalidInteractionTypeError()}},[r,i,e,c]),M=C.useCallback(async(I,P)=>{const L=I||i;let B;return P?(c.trace("useMsalAuthentication - acquireToken - Using request provided in the callback"),B={...P}):e?(c.trace("useMsalAuthentication - acquireToken - Using request provided in the hook"),B={...e,scopes:e.scopes||vi}):(c.trace("useMsalAuthentication - acquireToken - No request object provided, using default request."),B={scopes:vi}),!B.account&&f&&(c.trace("useMsalAuthentication - acquireToken - Attaching account to request"),B.account=f),(async()=>(c.verbose("useMsalAuthentication - Calling acquireTokenSilent"),r.acquireTokenSilent(B).catch(async V=>{if(V instanceof Rn){if(T.current)throw c.error("useMsalAuthentication - Interaction required but is already in progress. Please try again, if needed, after interaction completes."),Xr.createUnableToFallbackToInteractionError();return c.error("useMsalAuthentication - Interaction required, falling back to interaction"),O(L,B)}throw V})))().then(V=>(v.current&&y([V,null]),V)).catch(V=>{throw v.current&&y([null,V]),V})},[r,i,e,c,f,O]);return C.useEffect(()=>{const I=r.addEventCallback(P=>{switch(P.eventType){case oe.LOGIN_SUCCESS:case oe.SSO_SILENT_SUCCESS:P.payload&&y([P.payload,null]);break;case oe.LOGIN_FAILURE:case oe.SSO_SILENT_FAILURE:P.error&&y([null,P.error]);break}});return c.verbose(`useMsalAuthentication - Registered event callback with id: ${I}`),()=>{I&&(c.verbose(`useMsalAuthentication - Removing event callback ${I}`),r.removeEventCallback(I))}},[r,c]),C.useEffect(()=>{S.current&&s===Qe.None&&(d?f&&(S.current=!1,c.info("useMsalAuthentication - User is authenticated, attempting to acquire token"),M().catch(()=>{})):(S.current=!1,c.info("useMsalAuthentication - No user is authenticated, attempting to login"),O().catch(()=>{})))},[d,f,s,O,M,c]),{login:O,acquireToken:M,result:g,error:p}}var of={exports:{}};var xE;function V0(){return xE||(xE=1,(function(i){(function(){var e={}.hasOwnProperty;function a(){for(var c="",d=0;d<arguments.length;d++){var f=arguments[d];f&&(c=s(c,r(f)))}return c}function r(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return a.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var d="";for(var f in c)e.call(c,f)&&c[f]&&(d=s(d,f));return d}function s(c,d){return d?c?c+" "+d:c+d:c}i.exports?(a.default=a,i.exports=a):window.classNames=a})()})(of)),of.exports}var $0=V0();const Ue=xs($0);function Uf(){return Uf=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)({}).hasOwnProperty.call(a,r)&&(i[r]=a[r])}return i},Uf.apply(null,arguments)}function LA(i,e){if(i==null)return{};var a={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)!==-1)continue;a[r]=i[r]}return a}function UE(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function W0(i){var e=X0(i,"string");return typeof e=="symbol"?e:String(e)}function X0(i,e){if(typeof i!="object"||i===null)return i;var a=i[Symbol.toPrimitive];if(a!==void 0){var r=a.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function J0(i,e,a){var r=C.useRef(i!==void 0),s=C.useState(e),c=s[0],d=s[1],f=i!==void 0,g=r.current;return r.current=f,!f&&g&&c!==e&&d(e),[f?i:c,C.useCallback(function(p){for(var y=arguments.length,v=new Array(y>1?y-1:0),T=1;T<y;T++)v[T-1]=arguments[T];a&&a.apply(void 0,[p].concat(v)),d(p)},[a])]}function op(i,e){return Object.keys(e).reduce(function(a,r){var s,c=a,d=c[UE(r)],f=c[r],g=LA(c,[UE(r),r].map(W0)),p=e[r],y=J0(f,d,i[p]),v=y[0],T=y[1];return Uf({},g,(s={},s[r]=v,s[p]=T,s))},i)}function Lf(i,e){return Lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},Lf(i,e)}function Z0(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Lf(i,e)}const eM=["xxl","xl","lg","md","sm","xs"],tM="xs",Bs=C.createContext({prefixes:{},breakpoints:eM,minBreakpoint:tM}),{Consumer:HU,Provider:BU}=Bs;function We(i,e){const{prefixes:a}=C.useContext(Bs);return i||a[e]||e}function GU(){const{breakpoints:i}=C.useContext(Bs);return i}function zU(){const{minBreakpoint:i}=C.useContext(Bs);return i}function nM(){const{dir:i}=C.useContext(Bs);return i==="rtl"}function _u(i){return i&&i.ownerDocument||document}function aM(i){var e=_u(i);return e&&e.defaultView||window}function iM(i,e){return aM(i).getComputedStyle(i,e)}var rM=/([A-Z])/g;function oM(i){return i.replace(rM,"-$1").toLowerCase()}var sM=/^ms-/;function Tc(i){return oM(i).replace(sM,"-ms-")}var lM=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function cM(i){return!!(i&&lM.test(i))}function Ra(i,e){var a="",r="";if(typeof e=="string")return i.style.getPropertyValue(Tc(e))||iM(i).getPropertyValue(Tc(e));Object.keys(e).forEach(function(s){var c=e[s];!c&&c!==0?i.style.removeProperty(Tc(s)):cM(s)?r+=s+"("+c+") ":a+=Tc(s)+": "+c+";"}),r&&(a+="transform: "+r+";"),i.style.cssText+=";"+a}var sf={exports:{}},lf,LE;function uM(){if(LE)return lf;LE=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lf=i,lf}var cf,PE;function dM(){if(PE)return cf;PE=1;var i=uM();function e(){}function a(){}return a.resetWarningCache=e,cf=function(){function r(d,f,g,p,y,v){if(v!==i){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function s(){return r}var c={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:a,resetWarningCache:e};return c.PropTypes=c,c},cf}var HE;function hM(){return HE||(HE=1,sf.exports=dM()()),sf.exports}var fM=hM();const tt=xs(fM),BE={disabled:!1},PA=lt.createContext(null);var gM=function(e){return e.scrollTop},ps="unmounted",ci="exited",Ln="entering",Aa="entered",ks="exiting",Na=(function(i){Z0(e,i);function e(r,s){var c;c=i.call(this,r,s)||this;var d=s,f=d&&!d.isMounting?r.enter:r.appear,g;return c.appearStatus=null,r.in?f?(g=ci,c.appearStatus=Ln):g=Aa:r.unmountOnExit||r.mountOnEnter?g=ps:g=ci,c.state={status:g},c.nextCallback=null,c}e.getDerivedStateFromProps=function(s,c){var d=s.in;return d&&c.status===ps?{status:ci}:null};var a=e.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(s){var c=null;if(s!==this.props){var d=this.state.status;this.props.in?d!==Ln&&d!==Aa&&(c=Ln):(d===Ln||d===Aa)&&(c=ks)}this.updateStatus(!1,c)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var s=this.props.timeout,c,d,f;return c=d=f=s,s!=null&&typeof s!="number"&&(c=s.exit,d=s.enter,f=s.appear!==void 0?s.appear:d),{exit:c,enter:d,appear:f}},a.updateStatus=function(s,c){if(s===void 0&&(s=!1),c!==null)if(this.cancelNextCallback(),c===Ln){if(this.props.unmountOnExit||this.props.mountOnEnter){var d=this.props.nodeRef?this.props.nodeRef.current:qr.findDOMNode(this);d&&gM(d)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ci&&this.setState({status:ps})},a.performEnter=function(s){var c=this,d=this.props.enter,f=this.context?this.context.isMounting:s,g=this.props.nodeRef?[f]:[qr.findDOMNode(this),f],p=g[0],y=g[1],v=this.getTimeouts(),T=f?v.appear:v.enter;if(!s&&!d||BE.disabled){this.safeSetState({status:Aa},function(){c.props.onEntered(p)});return}this.props.onEnter(p,y),this.safeSetState({status:Ln},function(){c.props.onEntering(p,y),c.onTransitionEnd(T,function(){c.safeSetState({status:Aa},function(){c.props.onEntered(p,y)})})})},a.performExit=function(){var s=this,c=this.props.exit,d=this.getTimeouts(),f=this.props.nodeRef?void 0:qr.findDOMNode(this);if(!c||BE.disabled){this.safeSetState({status:ci},function(){s.props.onExited(f)});return}this.props.onExit(f),this.safeSetState({status:ks},function(){s.props.onExiting(f),s.onTransitionEnd(d.exit,function(){s.safeSetState({status:ci},function(){s.props.onExited(f)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(s,c){c=this.setNextCallback(c),this.setState(s,c)},a.setNextCallback=function(s){var c=this,d=!0;return this.nextCallback=function(f){d&&(d=!1,c.nextCallback=null,s(f))},this.nextCallback.cancel=function(){d=!1},this.nextCallback},a.onTransitionEnd=function(s,c){this.setNextCallback(c);var d=this.props.nodeRef?this.props.nodeRef.current:qr.findDOMNode(this),f=s==null&&!this.props.addEndListener;if(!d||f){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[d,this.nextCallback],p=g[0],y=g[1];this.props.addEndListener(p,y)}s!=null&&setTimeout(this.nextCallback,s)},a.render=function(){var s=this.state.status;if(s===ps)return null;var c=this.props,d=c.children;c.in,c.mountOnEnter,c.unmountOnExit,c.appear,c.enter,c.exit,c.timeout,c.addEndListener,c.onEnter,c.onEntering,c.onEntered,c.onExit,c.onExiting,c.onExited,c.nodeRef;var f=LA(c,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return lt.createElement(PA.Provider,{value:null},typeof d=="function"?d(s,f):lt.cloneElement(lt.Children.only(d),f))},e})(lt.Component);Na.contextType=PA;Na.propTypes={};function Hr(){}Na.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Hr,onEntering:Hr,onEntered:Hr,onExit:Hr,onExiting:Hr,onExited:Hr};Na.UNMOUNTED=ps;Na.EXITED=ci;Na.ENTERING=Ln;Na.ENTERED=Aa;Na.EXITING=ks;function pM(i){return i.code==="Escape"||i.keyCode===27}function mM(){const i=C.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function co(i){if(!i||typeof i=="function")return null;const{major:e}=mM();return e>=19?i.props.ref:i.ref}const Ru=!!(typeof window<"u"&&window.document&&window.document.createElement);var Pf=!1,Hf=!1;try{var uf={get passive(){return Pf=!0},get once(){return Hf=Pf=!0}};Ru&&(window.addEventListener("test",uf,uf),window.removeEventListener("test",uf,!0))}catch{}function HA(i,e,a,r){if(r&&typeof r!="boolean"&&!Hf){var s=r.once,c=r.capture,d=a;!Hf&&s&&(d=a.__once||function f(g){this.removeEventListener(e,f,c),a.call(this,g)},a.__once=d),i.addEventListener(e,d,Pf?r:c)}i.addEventListener(e,a,r)}function yM(i,e,a,r){var s=r&&typeof r!="boolean"?r.capture:r;i.removeEventListener(e,a,s),a.__once&&i.removeEventListener(e,a.__once,s)}function fi(i,e,a,r){return HA(i,e,a,r),function(){yM(i,e,a,r)}}function vM(i,e,a,r){if(r===void 0&&(r=!0),i){var s=document.createEvent("HTMLEvents");s.initEvent(e,a,r),i.dispatchEvent(s)}}function CM(i){var e=Ra(i,"transitionDuration")||"",a=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*a}function EM(i,e,a){a===void 0&&(a=5);var r=!1,s=setTimeout(function(){r||vM(i,"transitionend",!0)},e+a),c=fi(i,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),c()}}function TM(i,e,a,r){a==null&&(a=CM(i)||0);var s=EM(i,a,r),c=fi(i,"transitionend",e);return function(){s(),c()}}function GE(i,e){const a=Ra(i,e)||"",r=a.indexOf("ms")===-1?1e3:1;return parseFloat(a)*r}function sp(i,e){const a=GE(i,"transitionDuration"),r=GE(i,"transitionDelay"),s=TM(i,c=>{c.target===i&&(s(),e(c))},a+r)}function ds(...i){return i.filter(e=>e!=null).reduce((e,a)=>{if(typeof a!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?a:function(...s){e.apply(this,s),a.apply(this,s)}},null)}function BA(i){i.offsetHeight}const zE=i=>!i||typeof i=="function"?i:e=>{i.current=e};function SM(i,e){const a=zE(i),r=zE(e);return s=>{a&&a(s),r&&r(s)}}function lp(i,e){return C.useMemo(()=>SM(i,e),[i,e])}function AM(i){return i&&"setState"in i?qr.findDOMNode(i):i??null}const bu=lt.forwardRef(({onEnter:i,onEntering:e,onEntered:a,onExit:r,onExiting:s,onExited:c,addEndListener:d,children:f,childRef:g,...p},y)=>{const v=C.useRef(null),T=lp(v,g),S=te=>{T(AM(te))},O=te=>Z=>{te&&v.current&&te(v.current,Z)},M=C.useCallback(O(i),[i]),I=C.useCallback(O(e),[e]),P=C.useCallback(O(a),[a]),L=C.useCallback(O(r),[r]),B=C.useCallback(O(s),[s]),$=C.useCallback(O(c),[c]),V=C.useCallback(O(d),[d]);return w.jsx(Na,{ref:y,...p,onEnter:M,onEntered:P,onEntering:I,onExit:L,onExited:$,onExiting:B,addEndListener:V,nodeRef:v,children:typeof f=="function"?(te,Z)=>f(te,{...Z,ref:S}):lt.cloneElement(f,{ref:S})})});bu.displayName="TransitionWrapper";const wM={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function _M(i,e){const a=`offset${i[0].toUpperCase()}${i.slice(1)}`,r=e[a],s=wM[i];return r+parseInt(Ra(e,s[0]),10)+parseInt(Ra(e,s[1]),10)}const RM={[ci]:"collapse",[ks]:"collapsing",[Ln]:"collapsing",[Aa]:"collapse show"},cp=lt.forwardRef(({onEnter:i,onEntering:e,onEntered:a,onExit:r,onExiting:s,className:c,children:d,dimension:f="height",in:g=!1,timeout:p=300,mountOnEnter:y=!1,unmountOnExit:v=!1,appear:T=!1,getDimensionValue:S=_M,...O},M)=>{const I=typeof f=="function"?f():f,P=C.useMemo(()=>ds(te=>{te.style[I]="0"},i),[I,i]),L=C.useMemo(()=>ds(te=>{const Z=`scroll${I[0].toUpperCase()}${I.slice(1)}`;te.style[I]=`${te[Z]}px`},e),[I,e]),B=C.useMemo(()=>ds(te=>{te.style[I]=null},a),[I,a]),$=C.useMemo(()=>ds(te=>{te.style[I]=`${S(I,te)}px`,BA(te)},r),[r,S,I]),V=C.useMemo(()=>ds(te=>{te.style[I]=null},s),[I,s]);return w.jsx(bu,{ref:M,addEndListener:sp,...O,"aria-expanded":O.role?g:null,onEnter:P,onEntering:L,onEntered:B,onExit:$,onExiting:V,childRef:co(d),in:g,timeout:p,mountOnEnter:y,unmountOnExit:v,appear:T,children:(te,Z)=>lt.cloneElement(d,{...Z,className:Ue(c,d.props.className,RM[te],I==="width"&&"collapse-horizontal")})})});cp.displayName="Collapse";function GA(i,e){return Array.isArray(i)?i.includes(e):i===e}const Gs=C.createContext({});Gs.displayName="AccordionContext";const up=C.forwardRef(({as:i="div",bsPrefix:e,className:a,children:r,eventKey:s,...c},d)=>{const{activeEventKey:f}=C.useContext(Gs);return e=We(e,"accordion-collapse"),w.jsx(cp,{ref:d,in:GA(f,s),...c,className:Ue(a,e),children:w.jsx(i,{children:C.Children.only(r)})})});up.displayName="AccordionCollapse";const Ou=C.createContext({eventKey:""});Ou.displayName="AccordionItemContext";const zA=C.forwardRef(({as:i="div",bsPrefix:e,className:a,onEnter:r,onEntering:s,onEntered:c,onExit:d,onExiting:f,onExited:g,...p},y)=>{e=We(e,"accordion-body");const{eventKey:v}=C.useContext(Ou);return w.jsx(up,{eventKey:v,onEnter:r,onEntering:s,onEntered:c,onExit:d,onExiting:f,onExited:g,children:w.jsx(i,{ref:y,...p,className:Ue(a,e)})})});zA.displayName="AccordionBody";function bM(i,e){const{activeEventKey:a,onSelect:r,alwaysOpen:s}=C.useContext(Gs);return c=>{let d=i===a?null:i;s&&(Array.isArray(a)?a.includes(i)?d=a.filter(f=>f!==i):d=[...a,i]:d=[i]),r?.(d,c),e?.(c)}}const dp=C.forwardRef(({as:i="button",bsPrefix:e,className:a,onClick:r,...s},c)=>{e=We(e,"accordion-button");const{eventKey:d}=C.useContext(Ou),f=bM(d,r),{activeEventKey:g}=C.useContext(Gs);return i==="button"&&(s.type="button"),w.jsx(i,{ref:c,onClick:f,...s,"aria-expanded":Array.isArray(g)?g.includes(d):d===g,className:Ue(a,e,!GA(g,d)&&"collapsed")})});dp.displayName="AccordionButton";const KA=C.forwardRef(({as:i="h2","aria-controls":e,bsPrefix:a,className:r,children:s,onClick:c,...d},f)=>(a=We(a,"accordion-header"),w.jsx(i,{ref:f,...d,className:Ue(r,a),children:w.jsx(dp,{onClick:c,"aria-controls":e,children:s})})));KA.displayName="AccordionHeader";const jA=C.forwardRef(({as:i="div",bsPrefix:e,className:a,eventKey:r,...s},c)=>{e=We(e,"accordion-item");const d=C.useMemo(()=>({eventKey:r}),[r]);return w.jsx(Ou.Provider,{value:d,children:w.jsx(i,{ref:c,...s,className:Ue(a,e)})})});jA.displayName="AccordionItem";const qA=C.forwardRef((i,e)=>{const{as:a="div",activeKey:r,bsPrefix:s,className:c,onSelect:d,flush:f,alwaysOpen:g,...p}=op(i,{activeKey:"onSelect"}),y=We(s,"accordion"),v=C.useMemo(()=>({activeEventKey:r,onSelect:d,alwaysOpen:g}),[r,d,g]);return w.jsx(Gs.Provider,{value:v,children:w.jsx(a,{ref:e,...p,className:Ue(c,y,f&&`${y}-flush`)})})});qA.displayName="Accordion";const si=Object.assign(qA,{Button:dp,Collapse:up,Item:jA,Header:KA,Body:zA});function OM(i){const e=C.useRef(i);return C.useEffect(()=>{e.current=i},[i]),e}function zs(i){const e=OM(i);return C.useCallback(function(...a){return e.current&&e.current(...a)},[e])}const IM=(i=>C.forwardRef((e,a)=>w.jsx("div",{...e,ref:a,className:Ue(e.className,i)})));function kM(){return C.useState(null)}function NM(i){const e=C.useRef(i);return C.useEffect(()=>{e.current=i},[i]),e}function Ut(i){const e=NM(i);return C.useCallback(function(...a){return e.current&&e.current(...a)},[e])}function MM(i,e,a,r=!1){const s=Ut(a);C.useEffect(()=>{const c=typeof i=="function"?i():i;return c.addEventListener(e,s,r),()=>c.removeEventListener(e,s,r)},[i])}function FA(){const i=C.useRef(!0),e=C.useRef(()=>i.current);return C.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),e.current}function QA(i){const e=C.useRef(null);return C.useEffect(()=>{e.current=i}),e.current}const DM=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",xM=typeof document<"u",KE=xM||DM?C.useLayoutEffect:C.useEffect,UM=["as","disabled"];function LM(i,e){if(i==null)return{};var a={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;a[r]=i[r]}return a}function PM(i){return!i||i.trim()==="#"}function hp({tagName:i,disabled:e,href:a,target:r,rel:s,role:c,onClick:d,tabIndex:f=0,type:g}){i||(a!=null||r!=null||s!=null?i="a":i="button");const p={tagName:i};if(i==="button")return[{type:g||"button",disabled:e},p];const y=T=>{if((e||i==="a"&&PM(a))&&T.preventDefault(),e){T.stopPropagation();return}d?.(T)},v=T=>{T.key===" "&&(T.preventDefault(),y(T))};return i==="a"&&(a||(a="#"),e&&(a=void 0)),[{role:c??"button",disabled:void 0,tabIndex:e?void 0:f,href:a,target:i==="a"?r:void 0,"aria-disabled":e||void 0,rel:i==="a"?s:void 0,onClick:y,onKeyDown:v},p]}const fp=C.forwardRef((i,e)=>{let{as:a,disabled:r}=i,s=LM(i,UM);const[c,{tagName:d}]=hp(Object.assign({tagName:a,disabled:r},s));return w.jsx(d,Object.assign({},s,c,{ref:e}))});fp.displayName="Button";const HM=["onKeyDown"];function BM(i,e){if(i==null)return{};var a={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;a[r]=i[r]}return a}function GM(i){return!i||i.trim()==="#"}const gp=C.forwardRef((i,e)=>{let{onKeyDown:a}=i,r=BM(i,HM);const[s]=hp(Object.assign({tagName:"a"},r)),c=Ut(d=>{s.onKeyDown(d),a?.(d)});return GM(r.href)||r.role==="button"?w.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:c})):w.jsx("a",Object.assign({ref:e},r,{onKeyDown:a}))});gp.displayName="Anchor";const zM={[Ln]:"show",[Aa]:"show"},YA=C.forwardRef(({className:i,children:e,transitionClasses:a={},onEnter:r,...s},c)=>{const d={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},f=C.useCallback((g,p)=>{BA(g),r?.(g,p)},[r]);return w.jsx(bu,{ref:c,addEndListener:sp,...d,onEnter:f,childRef:co(e),children:(g,p)=>C.cloneElement(e,{...p,className:Ue("fade",i,e.props.className,zM[g],a[g])})})});YA.displayName="Fade";const KM={"aria-label":tt.string,onClick:tt.func,variant:tt.oneOf(["white"])},pp=C.forwardRef(({className:i,variant:e,"aria-label":a="Close",...r},s)=>w.jsx("button",{ref:s,type:"button",className:Ue("btn-close",e&&`btn-close-${e}`,i),"aria-label":a,...r}));pp.displayName="CloseButton";pp.propTypes=KM;const VA=C.forwardRef(({as:i,bsPrefix:e,variant:a="primary",size:r,active:s=!1,disabled:c=!1,className:d,...f},g)=>{const p=We(e,"btn"),[y,{tagName:v}]=hp({tagName:i,disabled:c,...f}),T=v;return w.jsx(T,{...y,...f,ref:g,disabled:c,className:Ue(d,p,s&&"active",a&&`${p}-${a}`,r&&`${p}-${r}`,f.href&&c&&"disabled")})});VA.displayName="Button";const mp=C.forwardRef(({bsPrefix:i,fluid:e=!1,as:a="div",className:r,...s},c)=>{const d=We(i,"container"),f=typeof e=="string"?`-${e}`:"-fluid";return w.jsx(a,{ref:c,...s,className:Ue(r,e?`${d}${f}`:d)})});mp.displayName="Container";var jM=Function.prototype.bind.call(Function.prototype.call,[].slice);function ui(i,e){return jM(i.querySelectorAll(e))}function qM(i,e,a){const r=C.useRef(i!==void 0),[s,c]=C.useState(e),d=i!==void 0,f=r.current;return r.current=d,!d&&f&&s!==e&&c(e),[d?i:s,C.useCallback((...g)=>{const[p,...y]=g;let v=a?.(p,...y);return c(p),v},[a])]}function FM(){const[,i]=C.useReducer(e=>e+1,0);return i}const Iu=C.createContext(null);var jE=Object.prototype.hasOwnProperty;function qE(i,e,a){for(a of i.keys())if(Es(a,e))return a}function Es(i,e){var a,r,s;if(i===e)return!0;if(i&&e&&(a=i.constructor)===e.constructor){if(a===Date)return i.getTime()===e.getTime();if(a===RegExp)return i.toString()===e.toString();if(a===Array){if((r=i.length)===e.length)for(;r--&&Es(i[r],e[r]););return r===-1}if(a===Set){if(i.size!==e.size)return!1;for(r of i)if(s=r,s&&typeof s=="object"&&(s=qE(e,s),!s)||!e.has(s))return!1;return!0}if(a===Map){if(i.size!==e.size)return!1;for(r of i)if(s=r[0],s&&typeof s=="object"&&(s=qE(e,s),!s)||!Es(r[1],e.get(s)))return!1;return!0}if(a===ArrayBuffer)i=new Uint8Array(i),e=new Uint8Array(e);else if(a===DataView){if((r=i.byteLength)===e.byteLength)for(;r--&&i.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(i)){if((r=i.byteLength)===e.byteLength)for(;r--&&i[r]===e[r];);return r===-1}if(!a||typeof i=="object"){r=0;for(a in i)if(jE.call(i,a)&&++r&&!jE.call(e,a)||!(a in e)||!Es(i[a],e[a]))return!1;return Object.keys(e).length===r}}return i!==i&&e!==e}function QM(i){const e=FA();return[i[0],C.useCallback(a=>{if(e())return i[1](a)},[e,i[1]])]}var Xt="top",bn="bottom",On="right",Jt="left",yp="auto",Ks=[Xt,bn,On,Jt],eo="start",Ns="end",YM="clippingParents",$A="viewport",hs="popper",VM="reference",FE=Ks.reduce(function(i,e){return i.concat([e+"-"+eo,e+"-"+Ns])},[]),WA=[].concat(Ks,[yp]).reduce(function(i,e){return i.concat([e,e+"-"+eo,e+"-"+Ns])},[]),$M="beforeRead",WM="read",XM="afterRead",JM="beforeMain",ZM="main",eD="afterMain",tD="beforeWrite",nD="write",aD="afterWrite",iD=[$M,WM,XM,JM,ZM,eD,tD,nD,aD];function Wn(i){return i.split("-")[0]}function gn(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var e=i.ownerDocument;return e&&e.defaultView||window}return i}function $i(i){var e=gn(i).Element;return i instanceof e||i instanceof Element}function Xn(i){var e=gn(i).HTMLElement;return i instanceof e||i instanceof HTMLElement}function vp(i){if(typeof ShadowRoot>"u")return!1;var e=gn(i).ShadowRoot;return i instanceof e||i instanceof ShadowRoot}var ji=Math.max,eu=Math.min,to=Math.round;function Bf(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function XA(){return!/^((?!chrome|android).)*safari/i.test(Bf())}function no(i,e,a){e===void 0&&(e=!1),a===void 0&&(a=!1);var r=i.getBoundingClientRect(),s=1,c=1;e&&Xn(i)&&(s=i.offsetWidth>0&&to(r.width)/i.offsetWidth||1,c=i.offsetHeight>0&&to(r.height)/i.offsetHeight||1);var d=$i(i)?gn(i):window,f=d.visualViewport,g=!XA()&&a,p=(r.left+(g&&f?f.offsetLeft:0))/s,y=(r.top+(g&&f?f.offsetTop:0))/c,v=r.width/s,T=r.height/c;return{width:v,height:T,top:y,right:p+v,bottom:y+T,left:p,x:p,y}}function Cp(i){var e=no(i),a=i.offsetWidth,r=i.offsetHeight;return Math.abs(e.width-a)<=1&&(a=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:i.offsetLeft,y:i.offsetTop,width:a,height:r}}function JA(i,e){var a=e.getRootNode&&e.getRootNode();if(i.contains(e))return!0;if(a&&vp(a)){var r=e;do{if(r&&i.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ei(i){return i?(i.nodeName||"").toLowerCase():null}function ka(i){return gn(i).getComputedStyle(i)}function rD(i){return["table","td","th"].indexOf(Ei(i))>=0}function Ti(i){return(($i(i)?i.ownerDocument:i.document)||window.document).documentElement}function ku(i){return Ei(i)==="html"?i:i.assignedSlot||i.parentNode||(vp(i)?i.host:null)||Ti(i)}function QE(i){return!Xn(i)||ka(i).position==="fixed"?null:i.offsetParent}function oD(i){var e=/firefox/i.test(Bf()),a=/Trident/i.test(Bf());if(a&&Xn(i)){var r=ka(i);if(r.position==="fixed")return null}var s=ku(i);for(vp(s)&&(s=s.host);Xn(s)&&["html","body"].indexOf(Ei(s))<0;){var c=ka(s);if(c.transform!=="none"||c.perspective!=="none"||c.contain==="paint"||["transform","perspective"].indexOf(c.willChange)!==-1||e&&c.willChange==="filter"||e&&c.filter&&c.filter!=="none")return s;s=s.parentNode}return null}function js(i){for(var e=gn(i),a=QE(i);a&&rD(a)&&ka(a).position==="static";)a=QE(a);return a&&(Ei(a)==="html"||Ei(a)==="body"&&ka(a).position==="static")?e:a||oD(i)||e}function Ep(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function Ts(i,e,a){return ji(i,eu(e,a))}function sD(i,e,a){var r=Ts(i,e,a);return r>a?a:r}function ZA(){return{top:0,right:0,bottom:0,left:0}}function ew(i){return Object.assign({},ZA(),i)}function tw(i,e){return e.reduce(function(a,r){return a[r]=i,a},{})}var lD=function(e,a){return e=typeof e=="function"?e(Object.assign({},a.rects,{placement:a.placement})):e,ew(typeof e!="number"?e:tw(e,Ks))};function cD(i){var e,a=i.state,r=i.name,s=i.options,c=a.elements.arrow,d=a.modifiersData.popperOffsets,f=Wn(a.placement),g=Ep(f),p=[Jt,On].indexOf(f)>=0,y=p?"height":"width";if(!(!c||!d)){var v=lD(s.padding,a),T=Cp(c),S=g==="y"?Xt:Jt,O=g==="y"?bn:On,M=a.rects.reference[y]+a.rects.reference[g]-d[g]-a.rects.popper[y],I=d[g]-a.rects.reference[g],P=js(c),L=P?g==="y"?P.clientHeight||0:P.clientWidth||0:0,B=M/2-I/2,$=v[S],V=L-T[y]-v[O],te=L/2-T[y]/2+B,Z=Ts($,te,V),de=g;a.modifiersData[r]=(e={},e[de]=Z,e.centerOffset=Z-te,e)}}function uD(i){var e=i.state,a=i.options,r=a.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||JA(e.elements.popper,s)&&(e.elements.arrow=s))}const dD={name:"arrow",enabled:!0,phase:"main",fn:cD,effect:uD,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ao(i){return i.split("-")[1]}var hD={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fD(i,e){var a=i.x,r=i.y,s=e.devicePixelRatio||1;return{x:to(a*s)/s||0,y:to(r*s)/s||0}}function YE(i){var e,a=i.popper,r=i.popperRect,s=i.placement,c=i.variation,d=i.offsets,f=i.position,g=i.gpuAcceleration,p=i.adaptive,y=i.roundOffsets,v=i.isFixed,T=d.x,S=T===void 0?0:T,O=d.y,M=O===void 0?0:O,I=typeof y=="function"?y({x:S,y:M}):{x:S,y:M};S=I.x,M=I.y;var P=d.hasOwnProperty("x"),L=d.hasOwnProperty("y"),B=Jt,$=Xt,V=window;if(p){var te=js(a),Z="clientHeight",de="clientWidth";if(te===gn(a)&&(te=Ti(a),ka(te).position!=="static"&&f==="absolute"&&(Z="scrollHeight",de="scrollWidth")),te=te,s===Xt||(s===Jt||s===On)&&c===Ns){$=bn;var ge=v&&te===V&&V.visualViewport?V.visualViewport.height:te[Z];M-=ge-r.height,M*=g?1:-1}if(s===Jt||(s===Xt||s===bn)&&c===Ns){B=On;var ve=v&&te===V&&V.visualViewport?V.visualViewport.width:te[de];S-=ve-r.width,S*=g?1:-1}}var W=Object.assign({position:f},p&&hD),q=y===!0?fD({x:S,y:M},gn(a)):{x:S,y:M};if(S=q.x,M=q.y,g){var ae;return Object.assign({},W,(ae={},ae[$]=L?"0":"",ae[B]=P?"0":"",ae.transform=(V.devicePixelRatio||1)<=1?"translate("+S+"px, "+M+"px)":"translate3d("+S+"px, "+M+"px, 0)",ae))}return Object.assign({},W,(e={},e[$]=L?M+"px":"",e[B]=P?S+"px":"",e.transform="",e))}function gD(i){var e=i.state,a=i.options,r=a.gpuAcceleration,s=r===void 0?!0:r,c=a.adaptive,d=c===void 0?!0:c,f=a.roundOffsets,g=f===void 0?!0:f,p={placement:Wn(e.placement),variation:ao(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,YE(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:d,roundOffsets:g})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,YE(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const pD={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:gD,data:{}};var Sc={passive:!0};function mD(i){var e=i.state,a=i.instance,r=i.options,s=r.scroll,c=s===void 0?!0:s,d=r.resize,f=d===void 0?!0:d,g=gn(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return c&&p.forEach(function(y){y.addEventListener("scroll",a.update,Sc)}),f&&g.addEventListener("resize",a.update,Sc),function(){c&&p.forEach(function(y){y.removeEventListener("scroll",a.update,Sc)}),f&&g.removeEventListener("resize",a.update,Sc)}}const yD={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:mD,data:{}};var vD={left:"right",right:"left",bottom:"top",top:"bottom"};function kc(i){return i.replace(/left|right|bottom|top/g,function(e){return vD[e]})}var CD={start:"end",end:"start"};function VE(i){return i.replace(/start|end/g,function(e){return CD[e]})}function Tp(i){var e=gn(i),a=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:a,scrollTop:r}}function Sp(i){return no(Ti(i)).left+Tp(i).scrollLeft}function ED(i,e){var a=gn(i),r=Ti(i),s=a.visualViewport,c=r.clientWidth,d=r.clientHeight,f=0,g=0;if(s){c=s.width,d=s.height;var p=XA();(p||!p&&e==="fixed")&&(f=s.offsetLeft,g=s.offsetTop)}return{width:c,height:d,x:f+Sp(i),y:g}}function TD(i){var e,a=Ti(i),r=Tp(i),s=(e=i.ownerDocument)==null?void 0:e.body,c=ji(a.scrollWidth,a.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),d=ji(a.scrollHeight,a.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),f=-r.scrollLeft+Sp(i),g=-r.scrollTop;return ka(s||a).direction==="rtl"&&(f+=ji(a.clientWidth,s?s.clientWidth:0)-c),{width:c,height:d,x:f,y:g}}function Ap(i){var e=ka(i),a=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(a+s+r)}function nw(i){return["html","body","#document"].indexOf(Ei(i))>=0?i.ownerDocument.body:Xn(i)&&Ap(i)?i:nw(ku(i))}function Ss(i,e){var a;e===void 0&&(e=[]);var r=nw(i),s=r===((a=i.ownerDocument)==null?void 0:a.body),c=gn(r),d=s?[c].concat(c.visualViewport||[],Ap(r)?r:[]):r,f=e.concat(d);return s?f:f.concat(Ss(ku(d)))}function Gf(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function SD(i,e){var a=no(i,!1,e==="fixed");return a.top=a.top+i.clientTop,a.left=a.left+i.clientLeft,a.bottom=a.top+i.clientHeight,a.right=a.left+i.clientWidth,a.width=i.clientWidth,a.height=i.clientHeight,a.x=a.left,a.y=a.top,a}function $E(i,e,a){return e===$A?Gf(ED(i,a)):$i(e)?SD(e,a):Gf(TD(Ti(i)))}function AD(i){var e=Ss(ku(i)),a=["absolute","fixed"].indexOf(ka(i).position)>=0,r=a&&Xn(i)?js(i):i;return $i(r)?e.filter(function(s){return $i(s)&&JA(s,r)&&Ei(s)!=="body"}):[]}function wD(i,e,a,r){var s=e==="clippingParents"?AD(i):[].concat(e),c=[].concat(s,[a]),d=c[0],f=c.reduce(function(g,p){var y=$E(i,p,r);return g.top=ji(y.top,g.top),g.right=eu(y.right,g.right),g.bottom=eu(y.bottom,g.bottom),g.left=ji(y.left,g.left),g},$E(i,d,r));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function aw(i){var e=i.reference,a=i.element,r=i.placement,s=r?Wn(r):null,c=r?ao(r):null,d=e.x+e.width/2-a.width/2,f=e.y+e.height/2-a.height/2,g;switch(s){case Xt:g={x:d,y:e.y-a.height};break;case bn:g={x:d,y:e.y+e.height};break;case On:g={x:e.x+e.width,y:f};break;case Jt:g={x:e.x-a.width,y:f};break;default:g={x:e.x,y:e.y}}var p=s?Ep(s):null;if(p!=null){var y=p==="y"?"height":"width";switch(c){case eo:g[p]=g[p]-(e[y]/2-a[y]/2);break;case Ns:g[p]=g[p]+(e[y]/2-a[y]/2);break}}return g}function Ms(i,e){e===void 0&&(e={});var a=e,r=a.placement,s=r===void 0?i.placement:r,c=a.strategy,d=c===void 0?i.strategy:c,f=a.boundary,g=f===void 0?YM:f,p=a.rootBoundary,y=p===void 0?$A:p,v=a.elementContext,T=v===void 0?hs:v,S=a.altBoundary,O=S===void 0?!1:S,M=a.padding,I=M===void 0?0:M,P=ew(typeof I!="number"?I:tw(I,Ks)),L=T===hs?VM:hs,B=i.rects.popper,$=i.elements[O?L:T],V=wD($i($)?$:$.contextElement||Ti(i.elements.popper),g,y,d),te=no(i.elements.reference),Z=aw({reference:te,element:B,placement:s}),de=Gf(Object.assign({},B,Z)),ge=T===hs?de:te,ve={top:V.top-ge.top+P.top,bottom:ge.bottom-V.bottom+P.bottom,left:V.left-ge.left+P.left,right:ge.right-V.right+P.right},W=i.modifiersData.offset;if(T===hs&&W){var q=W[s];Object.keys(ve).forEach(function(ae){var ie=[On,bn].indexOf(ae)>=0?1:-1,re=[Xt,bn].indexOf(ae)>=0?"y":"x";ve[ae]+=q[re]*ie})}return ve}function _D(i,e){e===void 0&&(e={});var a=e,r=a.placement,s=a.boundary,c=a.rootBoundary,d=a.padding,f=a.flipVariations,g=a.allowedAutoPlacements,p=g===void 0?WA:g,y=ao(r),v=y?f?FE:FE.filter(function(O){return ao(O)===y}):Ks,T=v.filter(function(O){return p.indexOf(O)>=0});T.length===0&&(T=v);var S=T.reduce(function(O,M){return O[M]=Ms(i,{placement:M,boundary:s,rootBoundary:c,padding:d})[Wn(M)],O},{});return Object.keys(S).sort(function(O,M){return S[O]-S[M]})}function RD(i){if(Wn(i)===yp)return[];var e=kc(i);return[VE(i),e,VE(e)]}function bD(i){var e=i.state,a=i.options,r=i.name;if(!e.modifiersData[r]._skip){for(var s=a.mainAxis,c=s===void 0?!0:s,d=a.altAxis,f=d===void 0?!0:d,g=a.fallbackPlacements,p=a.padding,y=a.boundary,v=a.rootBoundary,T=a.altBoundary,S=a.flipVariations,O=S===void 0?!0:S,M=a.allowedAutoPlacements,I=e.options.placement,P=Wn(I),L=P===I,B=g||(L||!O?[kc(I)]:RD(I)),$=[I].concat(B).reduce(function(ne,he){return ne.concat(Wn(he)===yp?_D(e,{placement:he,boundary:y,rootBoundary:v,padding:p,flipVariations:O,allowedAutoPlacements:M}):he)},[]),V=e.rects.reference,te=e.rects.popper,Z=new Map,de=!0,ge=$[0],ve=0;ve<$.length;ve++){var W=$[ve],q=Wn(W),ae=ao(W)===eo,ie=[Xt,bn].indexOf(q)>=0,re=ie?"width":"height",N=Ms(e,{placement:W,boundary:y,rootBoundary:v,altBoundary:T,padding:p}),F=ie?ae?On:Jt:ae?bn:Xt;V[re]>te[re]&&(F=kc(F));var X=kc(F),le=[];if(c&&le.push(N[q]<=0),f&&le.push(N[F]<=0,N[X]<=0),le.every(function(ne){return ne})){ge=W,de=!1;break}Z.set(W,le)}if(de)for(var ce=O?3:1,_=function(he){var Ce=$.find(function(we){var Xe=Z.get(we);if(Xe)return Xe.slice(0,he).every(function(Pe){return Pe})});if(Ce)return ge=Ce,"break"},G=ce;G>0;G--){var ee=_(G);if(ee==="break")break}e.placement!==ge&&(e.modifiersData[r]._skip=!0,e.placement=ge,e.reset=!0)}}const OD={name:"flip",enabled:!0,phase:"main",fn:bD,requiresIfExists:["offset"],data:{_skip:!1}};function WE(i,e,a){return a===void 0&&(a={x:0,y:0}),{top:i.top-e.height-a.y,right:i.right-e.width+a.x,bottom:i.bottom-e.height+a.y,left:i.left-e.width-a.x}}function XE(i){return[Xt,On,bn,Jt].some(function(e){return i[e]>=0})}function ID(i){var e=i.state,a=i.name,r=e.rects.reference,s=e.rects.popper,c=e.modifiersData.preventOverflow,d=Ms(e,{elementContext:"reference"}),f=Ms(e,{altBoundary:!0}),g=WE(d,r),p=WE(f,s,c),y=XE(g),v=XE(p);e.modifiersData[a]={referenceClippingOffsets:g,popperEscapeOffsets:p,isReferenceHidden:y,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":y,"data-popper-escaped":v})}const kD={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ID};function ND(i,e,a){var r=Wn(i),s=[Jt,Xt].indexOf(r)>=0?-1:1,c=typeof a=="function"?a(Object.assign({},e,{placement:i})):a,d=c[0],f=c[1];return d=d||0,f=(f||0)*s,[Jt,On].indexOf(r)>=0?{x:f,y:d}:{x:d,y:f}}function MD(i){var e=i.state,a=i.options,r=i.name,s=a.offset,c=s===void 0?[0,0]:s,d=WA.reduce(function(y,v){return y[v]=ND(v,e.rects,c),y},{}),f=d[e.placement],g=f.x,p=f.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=g,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=d}const DD={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:MD};function xD(i){var e=i.state,a=i.name;e.modifiersData[a]=aw({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const UD={name:"popperOffsets",enabled:!0,phase:"read",fn:xD,data:{}};function LD(i){return i==="x"?"y":"x"}function PD(i){var e=i.state,a=i.options,r=i.name,s=a.mainAxis,c=s===void 0?!0:s,d=a.altAxis,f=d===void 0?!1:d,g=a.boundary,p=a.rootBoundary,y=a.altBoundary,v=a.padding,T=a.tether,S=T===void 0?!0:T,O=a.tetherOffset,M=O===void 0?0:O,I=Ms(e,{boundary:g,rootBoundary:p,padding:v,altBoundary:y}),P=Wn(e.placement),L=ao(e.placement),B=!L,$=Ep(P),V=LD($),te=e.modifiersData.popperOffsets,Z=e.rects.reference,de=e.rects.popper,ge=typeof M=="function"?M(Object.assign({},e.rects,{placement:e.placement})):M,ve=typeof ge=="number"?{mainAxis:ge,altAxis:ge}:Object.assign({mainAxis:0,altAxis:0},ge),W=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,q={x:0,y:0};if(te){if(c){var ae,ie=$==="y"?Xt:Jt,re=$==="y"?bn:On,N=$==="y"?"height":"width",F=te[$],X=F+I[ie],le=F-I[re],ce=S?-de[N]/2:0,_=L===eo?Z[N]:de[N],G=L===eo?-de[N]:-Z[N],ee=e.elements.arrow,ne=S&&ee?Cp(ee):{width:0,height:0},he=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ZA(),Ce=he[ie],we=he[re],Xe=Ts(0,Z[N],ne[N]),Pe=B?Z[N]/2-ce-Xe-Ce-ve.mainAxis:_-Xe-Ce-ve.mainAxis,In=B?-Z[N]/2+ce+Xe+we+ve.mainAxis:G+Xe+we+ve.mainAxis,Gn=e.elements.arrow&&js(e.elements.arrow),Ma=Gn?$==="y"?Gn.clientTop||0:Gn.clientLeft||0:0,ea=(ae=W?.[$])!=null?ae:0,zt=F+Pe-ea-Ma,Ye=F+In-ea,ta=Ts(S?eu(X,zt):X,F,S?ji(le,Ye):le);te[$]=ta,q[$]=ta-F}if(f){var Da,Qs=$==="x"?Xt:Jt,ho=$==="x"?bn:On,kn=te[V],xa=V==="y"?"height":"width",Ys=kn+I[Qs],Vs=kn-I[ho],Tt=[Xt,Jt].indexOf(P)!==-1,$s=(Da=W?.[V])!=null?Da:0,fo=Tt?Ys:kn-Z[xa]-de[xa]-$s+ve.altAxis,go=Tt?kn+Z[xa]+de[xa]-$s-ve.altAxis:Vs,Si=S&&Tt?sD(fo,kn,go):Ts(S?fo:Ys,kn,S?go:Vs);te[V]=Si,q[V]=Si-kn}e.modifiersData[r]=q}}const HD={name:"preventOverflow",enabled:!0,phase:"main",fn:PD,requiresIfExists:["offset"]};function BD(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function GD(i){return i===gn(i)||!Xn(i)?Tp(i):BD(i)}function zD(i){var e=i.getBoundingClientRect(),a=to(e.width)/i.offsetWidth||1,r=to(e.height)/i.offsetHeight||1;return a!==1||r!==1}function KD(i,e,a){a===void 0&&(a=!1);var r=Xn(e),s=Xn(e)&&zD(e),c=Ti(e),d=no(i,s,a),f={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(r||!r&&!a)&&((Ei(e)!=="body"||Ap(c))&&(f=GD(e)),Xn(e)?(g=no(e,!0),g.x+=e.clientLeft,g.y+=e.clientTop):c&&(g.x=Sp(c))),{x:d.left+f.scrollLeft-g.x,y:d.top+f.scrollTop-g.y,width:d.width,height:d.height}}function jD(i){var e=new Map,a=new Set,r=[];i.forEach(function(c){e.set(c.name,c)});function s(c){a.add(c.name);var d=[].concat(c.requires||[],c.requiresIfExists||[]);d.forEach(function(f){if(!a.has(f)){var g=e.get(f);g&&s(g)}}),r.push(c)}return i.forEach(function(c){a.has(c.name)||s(c)}),r}function qD(i){var e=jD(i);return iD.reduce(function(a,r){return a.concat(e.filter(function(s){return s.phase===r}))},[])}function FD(i){var e;return function(){return e||(e=new Promise(function(a){Promise.resolve().then(function(){e=void 0,a(i())})})),e}}function QD(i){var e=i.reduce(function(a,r){var s=a[r.name];return a[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,a},{});return Object.keys(e).map(function(a){return e[a]})}var JE={placement:"bottom",modifiers:[],strategy:"absolute"};function ZE(){for(var i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function YD(i){i===void 0&&(i={});var e=i,a=e.defaultModifiers,r=a===void 0?[]:a,s=e.defaultOptions,c=s===void 0?JE:s;return function(f,g,p){p===void 0&&(p=c);var y={placement:"bottom",orderedModifiers:[],options:Object.assign({},JE,c),modifiersData:{},elements:{reference:f,popper:g},attributes:{},styles:{}},v=[],T=!1,S={state:y,setOptions:function(P){var L=typeof P=="function"?P(y.options):P;M(),y.options=Object.assign({},c,y.options,L),y.scrollParents={reference:$i(f)?Ss(f):f.contextElement?Ss(f.contextElement):[],popper:Ss(g)};var B=qD(QD([].concat(r,y.options.modifiers)));return y.orderedModifiers=B.filter(function($){return $.enabled}),O(),S.update()},forceUpdate:function(){if(!T){var P=y.elements,L=P.reference,B=P.popper;if(ZE(L,B)){y.rects={reference:KD(L,js(B),y.options.strategy==="fixed"),popper:Cp(B)},y.reset=!1,y.placement=y.options.placement,y.orderedModifiers.forEach(function(ve){return y.modifiersData[ve.name]=Object.assign({},ve.data)});for(var $=0;$<y.orderedModifiers.length;$++){if(y.reset===!0){y.reset=!1,$=-1;continue}var V=y.orderedModifiers[$],te=V.fn,Z=V.options,de=Z===void 0?{}:Z,ge=V.name;typeof te=="function"&&(y=te({state:y,options:de,name:ge,instance:S})||y)}}}},update:FD(function(){return new Promise(function(I){S.forceUpdate(),I(y)})}),destroy:function(){M(),T=!0}};if(!ZE(f,g))return S;S.setOptions(p).then(function(I){!T&&p.onFirstUpdate&&p.onFirstUpdate(I)});function O(){y.orderedModifiers.forEach(function(I){var P=I.name,L=I.options,B=L===void 0?{}:L,$=I.effect;if(typeof $=="function"){var V=$({state:y,name:P,instance:S,options:B}),te=function(){};v.push(V||te)}})}function M(){v.forEach(function(I){return I()}),v=[]}return S}}const VD=YD({defaultModifiers:[kD,UD,pD,yD,DD,OD,HD,dD]}),$D=["enabled","placement","strategy","modifiers"];function WD(i,e){if(i==null)return{};var a={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;a[r]=i[r]}return a}const XD={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},JD={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:i})=>()=>{const{reference:e,popper:a}=i.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==a.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:i})=>{var e;const{popper:a,reference:r}=i.elements,s=(e=a.getAttribute("role"))==null?void 0:e.toLowerCase();if(a.id&&s==="tooltip"&&"setAttribute"in r){const c=r.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(a.id)!==-1)return;r.setAttribute("aria-describedby",c?`${c},${a.id}`:a.id)}}},ZD=[];function ex(i,e,a={}){let{enabled:r=!0,placement:s="bottom",strategy:c="absolute",modifiers:d=ZD}=a,f=WD(a,$D);const g=C.useRef(d),p=C.useRef(),y=C.useCallback(()=>{var I;(I=p.current)==null||I.update()},[]),v=C.useCallback(()=>{var I;(I=p.current)==null||I.forceUpdate()},[]),[T,S]=QM(C.useState({placement:s,update:y,forceUpdate:v,attributes:{},styles:{popper:{},arrow:{}}})),O=C.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:I})=>{const P={},L={};Object.keys(I.elements).forEach(B=>{P[B]=I.styles[B],L[B]=I.attributes[B]}),S({state:I,styles:P,attributes:L,update:y,forceUpdate:v,placement:I.placement})}}),[y,v,S]),M=C.useMemo(()=>(Es(g.current,d)||(g.current=d),g.current),[d]);return C.useEffect(()=>{!p.current||!r||p.current.setOptions({placement:s,strategy:c,modifiers:[...M,O,XD]})},[c,s,O,r,M]),C.useEffect(()=>{if(!(!r||i==null||e==null))return p.current=VD(i,e,Object.assign({},f,{placement:s,strategy:c,modifiers:[...M,JD,O]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,S(I=>Object.assign({},I,{attributes:{},styles:{popper:{}}})))}},[r,i,e]),T}function tu(i,e){if(i.contains)return i.contains(e);if(i.compareDocumentPosition)return i===e||!!(i.compareDocumentPosition(e)&16)}var df,eT;function tx(){if(eT)return df;eT=1;var i=function(){};return df=i,df}var nx=tx();const ax=xs(nx),tT=()=>{};function ix(i){return i.button===0}function rx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}const hf=i=>i&&("current"in i?i.current:i),nT={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function ox(i,e=tT,{disabled:a,clickTrigger:r="click"}={}){const s=C.useRef(!1),c=C.useRef(!1),d=C.useCallback(p=>{const y=hf(i);ax(!!y,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!y||rx(p)||!ix(p)||!!tu(y,p.target)||c.current,c.current=!1},[i]),f=Ut(p=>{const y=hf(i);y&&tu(y,p.target)?c.current=!0:c.current=!1}),g=Ut(p=>{s.current||e(p)});C.useEffect(()=>{var p,y;if(a||i==null)return;const v=_u(hf(i)),T=v.defaultView||window;let S=(p=T.event)!=null?p:(y=T.parent)==null?void 0:y.event,O=null;nT[r]&&(O=fi(v,nT[r],f,!0));const M=fi(v,r,d,!0),I=fi(v,r,L=>{if(L===S){S=void 0;return}g(L)});let P=[];return"ontouchstart"in v.documentElement&&(P=[].slice.call(v.body.children).map(L=>fi(L,"mousemove",tT))),()=>{O?.(),M(),I(),P.forEach(L=>L())}},[i,a,r,d,f,g])}function sx(i){const e={};return Array.isArray(i)?(i?.forEach(a=>{e[a.name]=a}),e):i||e}function lx(i={}){return Array.isArray(i)?i:Object.keys(i).map(e=>(i[e].name=e,i[e]))}function cx({enabled:i,enableEvents:e,placement:a,flip:r,offset:s,fixed:c,containerPadding:d,arrowElement:f,popperConfig:g={}}){var p,y,v,T,S;const O=sx(g.modifiers);return Object.assign({},g,{placement:a,enabled:i,strategy:c?"fixed":g.strategy,modifiers:lx(Object.assign({},O,{eventListeners:{enabled:e,options:(p=O.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},O.preventOverflow,{options:d?Object.assign({padding:d},(y=O.preventOverflow)==null?void 0:y.options):(v=O.preventOverflow)==null?void 0:v.options}),offset:{options:Object.assign({offset:s},(T=O.offset)==null?void 0:T.options)},arrow:Object.assign({},O.arrow,{enabled:!!f,options:Object.assign({},(S=O.arrow)==null?void 0:S.options,{element:f})}),flip:Object.assign({enabled:!!r},O.flip)}))})}const ux=["children","usePopper"];function dx(i,e){if(i==null)return{};var a={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;a[r]=i[r]}return a}const hx=()=>{};function iw(i={}){const e=C.useContext(Iu),[a,r]=kM(),s=C.useRef(!1),{flip:c,offset:d,rootCloseEvent:f,fixed:g=!1,placement:p,popperConfig:y={},enableEventListeners:v=!0,usePopper:T=!!e}=i,S=e?.show==null?!!i.show:e.show;S&&!s.current&&(s.current=!0);const O=te=>{e?.toggle(!1,te)},{placement:M,setMenu:I,menuElement:P,toggleElement:L}=e||{},B=ex(L,P,cx({placement:p||M||"bottom-start",enabled:T,enableEvents:v??S,offset:d,flip:c,fixed:g,arrowElement:a,popperConfig:y})),$=Object.assign({ref:I||hx,"aria-labelledby":L?.id},B.attributes.popper,{style:B.styles.popper}),V={show:S,placement:M,hasShown:s.current,toggle:e?.toggle,popper:T?B:null,arrowProps:T?Object.assign({ref:r},B.attributes.arrow,{style:B.styles.arrow}):{}};return ox(P,O,{clickTrigger:f,disabled:!S}),[$,V]}function rw(i){let{children:e,usePopper:a=!0}=i,r=dx(i,ux);const[s,c]=iw(Object.assign({},r,{usePopper:a}));return w.jsx(w.Fragment,{children:e(s,c)})}rw.displayName="DropdownMenu";const ow={prefix:String(Math.round(Math.random()*1e10)),current:0},sw=lt.createContext(ow),fx=lt.createContext(!1);let ff=new WeakMap;function gx(i=!1){let e=C.useContext(sw),a=C.useRef(null);if(a.current===null&&!i){var r,s;let c=(s=lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(c){let d=ff.get(c);d==null?ff.set(c,{id:e.current,state:c.memoizedState}):c.memoizedState!==d.state&&(e.current=d.id,ff.delete(c))}a.current=++e.current}return a.current}function px(i){let e=C.useContext(sw),a=gx(!!i),r=`react-aria${e.prefix}`;return i||`${r}-${a}`}function mx(i){let e=lt.useId(),[a]=C.useState(Tx()),r=a?"react-aria":`react-aria${ow.prefix}`;return i||`${r}-${e}`}const yx=typeof lt.useId=="function"?mx:px;function vx(){return!1}function Cx(){return!0}function Ex(i){return()=>{}}function Tx(){return typeof lt.useSyncExternalStore=="function"?lt.useSyncExternalStore(Ex,vx,Cx):C.useContext(fx)}const lw=i=>{var e;return((e=i.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},aT=()=>{};function cw(){const i=yx(),{show:e=!1,toggle:a=aT,setToggle:r,menuElement:s}=C.useContext(Iu)||{},c=C.useCallback(f=>{a(!e,f)},[e,a]),d={id:i,ref:r||aT,onClick:c,"aria-expanded":!!e};return s&&lw(s)&&(d["aria-haspopup"]=!0),[d,{show:e,toggle:a}]}function uw({children:i}){const[e,a]=cw();return w.jsx(w.Fragment,{children:i(e,a)})}uw.displayName="DropdownToggle";const Ds=C.createContext(null),nu=(i,e=null)=>i!=null?String(i):e||null,wp=C.createContext(null);wp.displayName="NavContext";const Sx="data-rr-ui-",Ax="rrUi";function qs(i){return`${Sx}${i}`}function KU(i){return`${Ax}${i}`}const wx=["eventKey","disabled","onClick","active","as"];function _x(i,e){if(i==null)return{};var a={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;a[r]=i[r]}return a}function dw({key:i,href:e,active:a,disabled:r,onClick:s}){const c=C.useContext(Ds),d=C.useContext(wp),{activeKey:f}=d||{},g=nu(i,e),p=a==null&&i!=null?nu(f)===g:a;return[{onClick:Ut(v=>{r||(s?.(v),c&&!v.isPropagationStopped()&&c(g,v))}),"aria-disabled":r||void 0,"aria-selected":p,[qs("dropdown-item")]:""},{isActive:p}]}const hw=C.forwardRef((i,e)=>{let{eventKey:a,disabled:r,onClick:s,active:c,as:d=fp}=i,f=_x(i,wx);const[g]=dw({key:a,href:f.href,disabled:r,onClick:s,active:c});return w.jsx(d,Object.assign({},f,{ref:e},g))});hw.displayName="DropdownItem";const fw=C.createContext(Ru?window:void 0);fw.Provider;function Nu(){return C.useContext(fw)}function iT(){const i=FM(),e=C.useRef(null),a=C.useCallback(r=>{e.current=r,i()},[i]);return[e,a]}function Fs({defaultShow:i,show:e,onSelect:a,onToggle:r,itemSelector:s=`* [${qs("dropdown-item")}]`,focusFirstItemOnShow:c,placement:d="bottom-start",children:f}){const g=Nu(),[p,y]=qM(e,i,r),[v,T]=iT(),S=v.current,[O,M]=iT(),I=O.current,P=QA(p),L=C.useRef(null),B=C.useRef(!1),$=C.useContext(Ds),V=C.useCallback((W,q,ae=q?.type)=>{y(W,{originalEvent:q,source:ae})},[y]),te=Ut((W,q)=>{a?.(W,q),V(!1,q,"select"),q.isPropagationStopped()||$?.(W,q)}),Z=C.useMemo(()=>({toggle:V,placement:d,show:p,menuElement:S,toggleElement:I,setMenu:T,setToggle:M}),[V,d,p,S,I,T,M]);S&&P&&!p&&(B.current=S.contains(S.ownerDocument.activeElement));const de=Ut(()=>{I&&I.focus&&I.focus()}),ge=Ut(()=>{const W=L.current;let q=c;if(q==null&&(q=v.current&&lw(v.current)?"keyboard":!1),q===!1||q==="keyboard"&&!/^key.+$/.test(W))return;const ae=ui(v.current,s)[0];ae&&ae.focus&&ae.focus()});C.useEffect(()=>{p?ge():B.current&&(B.current=!1,de())},[p,B,de,ge]),C.useEffect(()=>{L.current=null});const ve=(W,q)=>{if(!v.current)return null;const ae=ui(v.current,s);let ie=ae.indexOf(W)+q;return ie=Math.max(0,Math.min(ie,ae.length)),ae[ie]};return MM(C.useCallback(()=>g.document,[g]),"keydown",W=>{var q,ae;const{key:ie}=W,re=W.target,N=(q=v.current)==null?void 0:q.contains(re),F=(ae=O.current)==null?void 0:ae.contains(re);if(/input|textarea/i.test(re.tagName)&&(ie===" "||ie!=="Escape"&&N||ie==="Escape"&&re.type==="search")||!N&&!F||ie==="Tab"&&(!v.current||!p))return;L.current=W.type;const le={originalEvent:W,source:W.type};switch(ie){case"ArrowUp":{const ce=ve(re,-1);ce&&ce.focus&&ce.focus(),W.preventDefault();return}case"ArrowDown":if(W.preventDefault(),!p)y(!0,le);else{const ce=ve(re,1);ce&&ce.focus&&ce.focus()}return;case"Tab":HA(re.ownerDocument,"keyup",ce=>{var _;(ce.key==="Tab"&&!ce.target||!((_=v.current)!=null&&_.contains(ce.target)))&&y(!1,le)},{once:!0});break;case"Escape":ie==="Escape"&&(W.preventDefault(),W.stopPropagation()),y(!1,le);break}}),w.jsx(Ds.Provider,{value:te,children:w.jsx(Iu.Provider,{value:Z,children:f})})}Fs.displayName="Dropdown";Fs.Menu=rw;Fs.Toggle=uw;Fs.Item=hw;const _p=C.createContext({});_p.displayName="DropdownContext";const gw=C.forwardRef(({className:i,bsPrefix:e,as:a="hr",role:r="separator",...s},c)=>(e=We(e,"dropdown-divider"),w.jsx(a,{ref:c,className:Ue(i,e),role:r,...s})));gw.displayName="DropdownDivider";const pw=C.forwardRef(({className:i,bsPrefix:e,as:a="div",role:r="heading",...s},c)=>(e=We(e,"dropdown-header"),w.jsx(a,{ref:c,className:Ue(i,e),role:r,...s})));pw.displayName="DropdownHeader";const mw=C.forwardRef(({bsPrefix:i,className:e,eventKey:a,disabled:r=!1,onClick:s,active:c,as:d=gp,...f},g)=>{const p=We(i,"dropdown-item"),[y,v]=dw({key:a,href:f.href,disabled:r,onClick:s,active:c});return w.jsx(d,{...f,...y,ref:g,className:Ue(e,p,v.isActive&&"active",r&&"disabled")})});mw.displayName="DropdownItem";const yw=C.forwardRef(({className:i,bsPrefix:e,as:a="span",...r},s)=>(e=We(e,"dropdown-item-text"),w.jsx(a,{ref:s,className:Ue(i,e),...r})));yw.displayName="DropdownItemText";const Rx=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",bx=typeof document<"u",vw=bx||Rx?C.useLayoutEffect:C.useEffect,Rp=C.createContext(null);Rp.displayName="InputGroupContext";const uo=C.createContext(null);uo.displayName="NavbarContext";function Cw(i,e){return i}const Br=tt.oneOf(["start","end"]),Ox=tt.oneOfType([Br,tt.shape({sm:Br}),tt.shape({md:Br}),tt.shape({lg:Br}),tt.shape({xl:Br}),tt.shape({xxl:Br}),tt.object]);function Ew(i,e,a){const r=a?"top-end":"top-start",s=a?"top-start":"top-end",c=a?"bottom-end":"bottom-start",d=a?"bottom-start":"bottom-end",f=a?"right-start":"left-start",g=a?"right-end":"left-end",p=a?"left-start":"right-start",y=a?"left-end":"right-end";let v=i?d:c;return e==="up"?v=i?s:r:e==="end"?v=i?y:p:e==="start"?v=i?g:f:e==="down-centered"?v="bottom":e==="up-centered"&&(v="top"),v}const bp=C.forwardRef(({bsPrefix:i,className:e,align:a,rootCloseEvent:r,flip:s=!0,show:c,renderOnMount:d,as:f="div",popperConfig:g,variant:p,...y},v)=>{let T=!1;const S=C.useContext(uo),O=We(i,"dropdown-menu"),{align:M,drop:I,isRTL:P}=C.useContext(_p);a=a||M;const L=C.useContext(Rp),B=[];if(a)if(typeof a=="object"){const W=Object.keys(a);if(W.length){const q=W[0],ae=a[q];T=ae==="start",B.push(`${O}-${q}-${ae}`)}}else a==="end"&&(T=!0);const $=Ew(T,I,P),[V,{hasShown:te,popper:Z,show:de,toggle:ge}]=iw({flip:s,rootCloseEvent:r,show:c,usePopper:!S&&B.length===0,offset:[0,2],popperConfig:g,placement:$});if(V.ref=lp(Cw(v),V.ref),vw(()=>{de&&Z?.update()},[de]),!te&&!d&&!L)return null;typeof f!="string"&&(V.show=de,V.close=()=>ge?.(!1),V.align=a);let ve=y.style;return Z!=null&&Z.placement&&(ve={...y.style,...V.style},y["x-placement"]=Z.placement),w.jsx(f,{...y,...V,style:ve,...(B.length||S)&&{"data-bs-popper":"static"},className:Ue(e,O,de&&"show",T&&`${O}-end`,p&&`${O}-${p}`,...B)})});bp.displayName="DropdownMenu";const Op=C.forwardRef(({bsPrefix:i,split:e,className:a,childBsPrefix:r,as:s=VA,...c},d)=>{const f=We(i,"dropdown-toggle"),g=C.useContext(Iu);r!==void 0&&(c.bsPrefix=r);const[p]=cw();return p.ref=lp(p.ref,Cw(d)),w.jsx(s,{className:Ue(a,f,e&&`${f}-split`,g?.show&&"show"),...p,...c})});Op.displayName="DropdownToggle";const Tw=C.forwardRef((i,e)=>{const{bsPrefix:a,drop:r="down",show:s,className:c,align:d="start",onSelect:f,onToggle:g,focusFirstItemOnShow:p,as:y="div",navbar:v,autoClose:T=!0,...S}=op(i,{show:"onToggle"}),O=C.useContext(Rp),M=We(a,"dropdown"),I=nM(),P=Z=>T===!1?Z==="click":T==="inside"?Z!=="rootClose":T==="outside"?Z!=="select":!0,L=zs((Z,de)=>{var ge;!((ge=de.originalEvent)==null||(ge=ge.target)==null)&&ge.classList.contains("dropdown-toggle")&&de.source==="mousedown"||(de.originalEvent.currentTarget===document&&(de.source!=="keydown"||de.originalEvent.key==="Escape")&&(de.source="rootClose"),P(de.source)&&g?.(Z,de))}),$=Ew(d==="end",r,I),V=C.useMemo(()=>({align:d,drop:r,isRTL:I}),[d,r,I]),te={down:M,"down-centered":`${M}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return w.jsx(_p.Provider,{value:V,children:w.jsx(Fs,{placement:$,show:s,onSelect:f,onToggle:L,focusFirstItemOnShow:p,itemSelector:`.${M}-item:not(.disabled):not(:disabled)`,children:O?S.children:w.jsx(y,{...S,ref:e,className:Ue(c,s&&"show",te[r])})})})});Tw.displayName="Dropdown";const dn=Object.assign(Tw,{Toggle:Op,Menu:bp,Item:mw,ItemText:yw,Divider:gw,Header:pw}),Ix={id:tt.string,href:tt.string,onClick:tt.func,title:tt.node.isRequired,disabled:tt.bool,align:Ox,menuRole:tt.string,renderMenuOnMount:tt.bool,rootCloseEvent:tt.string,menuVariant:tt.oneOf(["dark"]),flip:tt.bool,bsPrefix:tt.string,variant:tt.string,size:tt.string},au=C.forwardRef(({title:i,children:e,bsPrefix:a,rootCloseEvent:r,variant:s,size:c,menuRole:d,renderMenuOnMount:f,disabled:g,href:p,id:y,menuVariant:v,flip:T,...S},O)=>w.jsxs(dn,{ref:O,...S,children:[w.jsx(Op,{id:y,href:p,size:c,variant:s,disabled:g,childBsPrefix:a,children:i}),w.jsx(bp,{role:d,renderOnMount:f,rootCloseEvent:r,variant:v,flip:T,children:e})]}));au.displayName="DropdownButton";au.propTypes=Ix;const rT=i=>!i||typeof i=="function"?i:e=>{i.current=e};function kx(i,e){const a=rT(i),r=rT(e);return s=>{a&&a(s),r&&r(s)}}function Ip(i,e){return C.useMemo(()=>kx(i,e),[i,e])}const Nx=C.createContext(null),Mx=["as","active","eventKey"];function Dx(i,e){if(i==null)return{};var a={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;a[r]=i[r]}return a}function Sw({key:i,onClick:e,active:a,id:r,role:s,disabled:c}){const d=C.useContext(Ds),f=C.useContext(wp),g=C.useContext(Nx);let p=a;const y={role:s};if(f){!s&&f.role==="tablist"&&(y.role="tab");const v=f.getControllerId(i??null),T=f.getControlledId(i??null);y[qs("event-key")]=i,y.id=v||r,p=a==null&&i!=null?f.activeKey===i:a,(p||!(g!=null&&g.unmountOnExit)&&!(g!=null&&g.mountOnEnter))&&(y["aria-controls"]=T)}return y.role==="tab"&&(y["aria-selected"]=p,p||(y.tabIndex=-1),c&&(y.tabIndex=-1,y["aria-disabled"]=!0)),y.onClick=Ut(v=>{c||(e?.(v),i!=null&&d&&!v.isPropagationStopped()&&d(i,v))}),[y,{isActive:p}]}const xx=C.forwardRef((i,e)=>{let{as:a=fp,active:r,eventKey:s}=i,c=Dx(i,Mx);const[d,f]=Sw(Object.assign({key:nu(s,c.href),active:r},c));return d[qs("active")]=f.isActive,w.jsx(a,Object.assign({},c,d,{ref:e}))});xx.displayName="NavItem";function gf(i){i===void 0&&(i=_u());try{var e=i.activeElement;return!e||!e.nodeName?null:e}catch{return i.body}}function Ux(i){const e=C.useRef(i);return e.current=i,e}function Lx(i){const e=Ux(i);C.useEffect(()=>()=>e.current(),[])}function Px(i=document){const e=i.defaultView;return Math.abs(e.innerWidth-i.documentElement.clientWidth)}const oT=qs("modal-open");class kp{constructor({ownerDocument:e,handleContainerOverflow:a=!0,isRTL:r=!1}={}){this.handleContainerOverflow=a,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return Px(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const a={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(a[r]=`${parseInt(Ra(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(oT,""),Ra(s,a)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const a=this.getElement();a.removeAttribute(oT),Object.assign(a.style,e.style)}add(e){let a=this.modals.indexOf(e);return a!==-1||(a=this.modals.length,this.modals.push(e),this.setModalAttributes(e),a!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),a}remove(e){const a=this.modals.indexOf(e);a!==-1&&(this.modals.splice(a,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const pf=(i,e)=>Ru?i==null?(e||_u()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function Hx(i,e){const a=Nu(),[r,s]=C.useState(()=>pf(i,a?.document));if(!r){const c=pf(i);c&&s(c)}return C.useEffect(()=>{},[e,r]),C.useEffect(()=>{const c=pf(i);c!==r&&s(c)},[i,r]),r}function Bx({children:i,in:e,onExited:a,mountOnEnter:r,unmountOnExit:s}){const c=C.useRef(null),d=C.useRef(e),f=Ut(a);C.useEffect(()=>{e?d.current=!0:f(c.current)},[e,f]);const g=Ip(c,co(i)),p=C.cloneElement(i,{ref:g});return e?p:s||!d.current&&r?null:p}const Gx=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function zx(i,e){if(i==null)return{};var a={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;a[r]=i[r]}return a}function Kx(i){let{onEnter:e,onEntering:a,onEntered:r,onExit:s,onExiting:c,onExited:d,addEndListener:f,children:g}=i,p=zx(i,Gx);const y=C.useRef(null),v=Ip(y,co(g)),T=$=>V=>{$&&y.current&&$(y.current,V)},S=C.useCallback(T(e),[e]),O=C.useCallback(T(a),[a]),M=C.useCallback(T(r),[r]),I=C.useCallback(T(s),[s]),P=C.useCallback(T(c),[c]),L=C.useCallback(T(d),[d]),B=C.useCallback(T(f),[f]);return Object.assign({},p,{nodeRef:y},e&&{onEnter:S},a&&{onEntering:O},r&&{onEntered:M},s&&{onExit:I},c&&{onExiting:P},d&&{onExited:L},f&&{addEndListener:B},{children:typeof g=="function"?($,V)=>g($,Object.assign({},V,{ref:v})):C.cloneElement(g,{ref:v})})}const jx=["component"];function qx(i,e){if(i==null)return{};var a={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;a[r]=i[r]}return a}const Fx=C.forwardRef((i,e)=>{let{component:a}=i,r=qx(i,jx);const s=Kx(r);return w.jsx(a,Object.assign({ref:e},s))});function Qx({in:i,onTransition:e}){const a=C.useRef(null),r=C.useRef(!0),s=Ut(e);return KE(()=>{if(!a.current)return;let c=!1;return s({in:i,element:a.current,initial:r.current,isStale:()=>c}),()=>{c=!0}},[i,s]),KE(()=>(r.current=!1,()=>{r.current=!0}),[]),a}function Yx({children:i,in:e,onExited:a,onEntered:r,transition:s}){const[c,d]=C.useState(!e);e&&c&&d(!1);const f=Qx({in:!!e,onTransition:p=>{const y=()=>{p.isStale()||(p.in?r?.(p.element,p.initial):(d(!0),a?.(p.element)))};Promise.resolve(s(p)).then(y,v=>{throw p.in||d(!0),v})}}),g=Ip(f,co(i));return c&&!e?null:C.cloneElement(i,{ref:g})}function sT(i,e,a){return i?w.jsx(Fx,Object.assign({},a,{component:i})):e?w.jsx(Yx,Object.assign({},a,{transition:e})):w.jsx(Bx,Object.assign({},a))}const Vx=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function $x(i,e){if(i==null)return{};var a={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;a[r]=i[r]}return a}let mf;function Wx(i){return mf||(mf=new kp({ownerDocument:i?.document})),mf}function Xx(i){const e=Nu(),a=i||Wx(e),r=C.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>a.add(r.current),remove:()=>a.remove(r.current),isTopModal:()=>a.isTopModal(r.current),setDialogRef:C.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:C.useCallback(s=>{r.current.backdrop=s},[])})}const Aw=C.forwardRef((i,e)=>{let{show:a=!1,role:r="dialog",className:s,style:c,children:d,backdrop:f=!0,keyboard:g=!0,onBackdropClick:p,onEscapeKeyDown:y,transition:v,runTransition:T,backdropTransition:S,runBackdropTransition:O,autoFocus:M=!0,enforceFocus:I=!0,restoreFocus:P=!0,restoreFocusOptions:L,renderDialog:B,renderBackdrop:$=Ye=>w.jsx("div",Object.assign({},Ye)),manager:V,container:te,onShow:Z,onHide:de=()=>{},onExit:ge,onExited:ve,onExiting:W,onEnter:q,onEntering:ae,onEntered:ie}=i,re=$x(i,Vx);const N=Nu(),F=Hx(te),X=Xx(V),le=FA(),ce=QA(a),[_,G]=C.useState(!a),ee=C.useRef(null);C.useImperativeHandle(e,()=>X,[X]),Ru&&!ce&&a&&(ee.current=gf(N?.document)),a&&_&&G(!1);const ne=Ut(()=>{if(X.add(),In.current=fi(document,"keydown",Xe),Pe.current=fi(document,"focus",()=>setTimeout(Ce),!0),Z&&Z(),M){var Ye,ta;const Da=gf((Ye=(ta=X.dialog)==null?void 0:ta.ownerDocument)!=null?Ye:N?.document);X.dialog&&Da&&!tu(X.dialog,Da)&&(ee.current=Da,X.dialog.focus())}}),he=Ut(()=>{if(X.remove(),In.current==null||In.current(),Pe.current==null||Pe.current(),P){var Ye;(Ye=ee.current)==null||Ye.focus==null||Ye.focus(L),ee.current=null}});C.useEffect(()=>{!a||!F||ne()},[a,F,ne]),C.useEffect(()=>{_&&he()},[_,he]),Lx(()=>{he()});const Ce=Ut(()=>{if(!I||!le()||!X.isTopModal())return;const Ye=gf(N?.document);X.dialog&&Ye&&!tu(X.dialog,Ye)&&X.dialog.focus()}),we=Ut(Ye=>{Ye.target===Ye.currentTarget&&(p?.(Ye),f===!0&&de())}),Xe=Ut(Ye=>{g&&pM(Ye)&&X.isTopModal()&&(y?.(Ye),Ye.defaultPrevented||de())}),Pe=C.useRef(),In=C.useRef(),Gn=(...Ye)=>{G(!0),ve?.(...Ye)};if(!F)return null;const Ma=Object.assign({role:r,ref:X.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},re,{style:c,className:s,tabIndex:-1});let ea=B?B(Ma):w.jsx("div",Object.assign({},Ma,{children:C.cloneElement(d,{role:"document"})}));ea=sT(v,T,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!a,onExit:ge,onExiting:W,onExited:Gn,onEnter:q,onEntering:ae,onEntered:ie,children:ea});let zt=null;return f&&(zt=$({ref:X.setBackdropRef,onClick:we}),zt=sT(S,O,{in:!!a,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:zt})),w.jsx(w.Fragment,{children:qr.createPortal(w.jsxs(w.Fragment,{children:[zt,ea]}),F)})});Aw.displayName="Modal";const Jx=Object.assign(Aw,{Manager:kp});function Zx(i,e){return i.classList?i.classList.contains(e):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+e+" ")!==-1}function eU(i,e){i.classList?i.classList.add(e):Zx(i,e)||(typeof i.className=="string"?i.className=i.className+" "+e:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+e))}function lT(i,e){return i.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function tU(i,e){i.classList?i.classList.remove(e):typeof i.className=="string"?i.className=lT(i.className,e):i.setAttribute("class",lT(i.className&&i.className.baseVal||"",e))}const Gr={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class ww extends kp{adjustAndStore(e,a,r){const s=a.style[e];a.dataset[e]=s,Ra(a,{[e]:`${parseFloat(Ra(a,e))+r}px`})}restore(e,a){const r=a.dataset[e];r!==void 0&&(delete a.dataset[e],Ra(a,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const a=this.getElement();if(eU(a,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";ui(a,Gr.FIXED_CONTENT).forEach(c=>this.adjustAndStore(r,c,e.scrollBarWidth)),ui(a,Gr.STICKY_CONTENT).forEach(c=>this.adjustAndStore(s,c,-e.scrollBarWidth)),ui(a,Gr.NAVBAR_TOGGLER).forEach(c=>this.adjustAndStore(s,c,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const a=this.getElement();tU(a,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";ui(a,Gr.FIXED_CONTENT).forEach(c=>this.restore(r,c)),ui(a,Gr.STICKY_CONTENT).forEach(c=>this.restore(s,c)),ui(a,Gr.NAVBAR_TOGGLER).forEach(c=>this.restore(s,c))}}let yf;function nU(i){return yf||(yf=new ww(i)),yf}const _w=C.createContext({onHide(){}}),Rw=C.forwardRef(({closeLabel:i="Close",closeVariant:e,closeButton:a=!1,onHide:r,children:s,...c},d)=>{const f=C.useContext(_w),g=zs(()=>{f?.onHide(),r?.()});return w.jsxs("div",{ref:d,...c,children:[s,a&&w.jsx(pp,{"aria-label":i,variant:e,onClick:g})]})});Rw.displayName="AbstractModalHeader";const bw=C.forwardRef(({bsPrefix:i,className:e,as:a=gp,active:r,eventKey:s,disabled:c=!1,...d},f)=>{i=We(i,"nav-link");const[g,p]=Sw({key:nu(s,d.href),active:r,disabled:c,...d});return w.jsx(a,{...d,...g,ref:f,disabled:c,className:Ue(e,i,c&&"disabled",p.isActive&&"active")})});bw.displayName="NavLink";const Ow=C.forwardRef(({bsPrefix:i,className:e,as:a,...r},s)=>{i=We(i,"navbar-brand");const c=a||(r.href?"a":"span");return w.jsx(c,{...r,ref:s,className:Ue(e,i)})});Ow.displayName="NavbarBrand";const Iw=C.forwardRef(({children:i,bsPrefix:e,...a},r)=>{e=We(e,"navbar-collapse");const s=C.useContext(uo);return w.jsx(cp,{in:!!(s&&s.expanded),...a,children:w.jsx("div",{ref:r,className:e,children:i})})});Iw.displayName="NavbarCollapse";const kw=C.forwardRef(({bsPrefix:i,className:e,children:a,label:r="Toggle navigation",as:s="button",onClick:c,...d},f)=>{i=We(i,"navbar-toggler");const{onToggle:g,expanded:p}=C.useContext(uo)||{},y=zs(v=>{c&&c(v),g&&g()});return s==="button"&&(d.type="button"),w.jsx(s,{...d,ref:f,onClick:y,"aria-label":r,className:Ue(e,i,!p&&"collapsed"),children:a||w.jsx("span",{className:`${i}-icon`})})});kw.displayName="NavbarToggle";const zf=new WeakMap,cT=(i,e)=>{if(!i||!e)return;const a=zf.get(e)||new Map;zf.set(e,a);let r=a.get(i);return r||(r=e.matchMedia(i),r.refCount=0,a.set(r.media,r)),r};function aU(i,e=typeof window>"u"?void 0:window){const a=cT(i,e),[r,s]=C.useState(()=>a?a.matches:!1);return vw(()=>{let c=cT(i,e);if(!c)return s(!1);let d=zf.get(e);const f=()=>{s(c.matches)};return c.refCount++,c.addListener(f),f(),()=>{c.removeListener(f),c.refCount--,c.refCount<=0&&d?.delete(c.media),c=void 0}},[i]),r}function iU(i){const e=Object.keys(i);function a(f,g){return f===g?g:f?`${f} and ${g}`:g}function r(f){return e[Math.min(e.indexOf(f)+1,e.length-1)]}function s(f){const g=r(f);let p=i[g];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function c(f){let g=i[f];return typeof g=="number"&&(g=`${g}px`),`(min-width: ${g})`}function d(f,g,p){let y;typeof f=="object"?(y=f,p=g,g=!0):(g=g||!0,y={[f]:g});let v=C.useMemo(()=>Object.entries(y).reduce((T,[S,O])=>((O==="up"||O===!0)&&(T=a(T,c(S))),(O==="down"||O===!0)&&(T=a(T,s(S))),T),""),[JSON.stringify(y)]);return aU(v,p)}return d}const rU=iU({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Nw=C.forwardRef(({className:i,bsPrefix:e,as:a="div",...r},s)=>(e=We(e,"offcanvas-body"),w.jsx(a,{ref:s,className:Ue(i,e),...r})));Nw.displayName="OffcanvasBody";const oU={[Ln]:"show",[Aa]:"show"},Mw=C.forwardRef(({bsPrefix:i,className:e,children:a,in:r=!1,mountOnEnter:s=!1,unmountOnExit:c=!1,appear:d=!1,...f},g)=>(i=We(i,"offcanvas"),w.jsx(bu,{ref:g,addEndListener:sp,in:r,mountOnEnter:s,unmountOnExit:c,appear:d,...f,childRef:co(a),children:(p,y)=>C.cloneElement(a,{...y,className:Ue(e,a.props.className,(p===Ln||p===ks)&&`${i}-toggling`,oU[p])})})));Mw.displayName="OffcanvasToggling";const Dw=C.forwardRef(({bsPrefix:i,className:e,closeLabel:a="Close",closeButton:r=!1,...s},c)=>(i=We(i,"offcanvas-header"),w.jsx(Rw,{ref:c,...s,className:Ue(e,i),closeLabel:a,closeButton:r})));Dw.displayName="OffcanvasHeader";const sU=IM("h5"),xw=C.forwardRef(({className:i,bsPrefix:e,as:a=sU,...r},s)=>(e=We(e,"offcanvas-title"),w.jsx(a,{ref:s,className:Ue(i,e),...r})));xw.displayName="OffcanvasTitle";function lU(i){return w.jsx(Mw,{...i})}function cU(i){return w.jsx(YA,{...i})}const Uw=C.forwardRef(({bsPrefix:i,className:e,children:a,"aria-labelledby":r,placement:s="start",responsive:c,show:d=!1,backdrop:f=!0,keyboard:g=!0,scroll:p=!1,onEscapeKeyDown:y,onShow:v,onHide:T,container:S,autoFocus:O=!0,enforceFocus:M=!0,restoreFocus:I=!0,restoreFocusOptions:P,onEntered:L,onExit:B,onExiting:$,onEnter:V,onEntering:te,onExited:Z,backdropClassName:de,manager:ge,renderStaticNode:ve=!1,...W},q)=>{const ae=C.useRef();i=We(i,"offcanvas");const[ie,re]=C.useState(!1),N=zs(T),F=rU(c||"xs","up");C.useEffect(()=>{re(c?d&&!F:d)},[d,c,F]);const X=C.useMemo(()=>({onHide:N}),[N]);function le(){return ge||(p?(ae.current||(ae.current=new ww({handleContainerOverflow:!1})),ae.current):nU())}const ce=(ne,...he)=>{ne&&(ne.style.visibility="visible"),V?.(ne,...he)},_=(ne,...he)=>{ne&&(ne.style.visibility=""),Z?.(...he)},G=C.useCallback(ne=>w.jsx("div",{...ne,className:Ue(`${i}-backdrop`,de)}),[de,i]),ee=ne=>w.jsx("div",{...ne,...W,className:Ue(e,c?`${i}-${c}`:i,`${i}-${s}`),"aria-labelledby":r,children:a});return w.jsxs(w.Fragment,{children:[!ie&&(c||ve)&&ee({}),w.jsx(_w.Provider,{value:X,children:w.jsx(Jx,{show:ie,ref:q,backdrop:f,container:S,keyboard:g,autoFocus:O,enforceFocus:M&&!p,restoreFocus:I,restoreFocusOptions:P,onEscapeKeyDown:y,onShow:v,onHide:N,onEnter:ce,onEntering:te,onEntered:L,onExit:B,onExiting:$,onExited:_,manager:le(),transition:lU,backdropTransition:cU,renderBackdrop:G,renderDialog:ee})})]})});Uw.displayName="Offcanvas";const uU=Object.assign(Uw,{Body:Nw,Header:Dw,Title:xw}),Lw=C.forwardRef(({onHide:i,...e},a)=>{const r=C.useContext(uo),s=zs(()=>{r==null||r.onToggle==null||r.onToggle(),i?.()});return w.jsx(uU,{ref:a,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:s})});Lw.displayName="NavbarOffcanvas";const Pw=C.forwardRef(({className:i,bsPrefix:e,as:a="span",...r},s)=>(e=We(e,"navbar-text"),w.jsx(a,{ref:s,className:Ue(i,e),...r})));Pw.displayName="NavbarText";const Hw=C.forwardRef((i,e)=>{const{bsPrefix:a,expand:r=!0,variant:s="light",bg:c,fixed:d,sticky:f,className:g,as:p="nav",expanded:y,onToggle:v,onSelect:T,collapseOnSelect:S=!1,...O}=op(i,{expanded:"onToggle"}),M=We(a,"navbar"),I=C.useCallback((...B)=>{T?.(...B),S&&y&&v?.(!1)},[T,S,y,v]);O.role===void 0&&p!=="nav"&&(O.role="navigation");let P=`${M}-expand`;typeof r=="string"&&(P=`${P}-${r}`);const L=C.useMemo(()=>({onToggle:()=>v?.(!y),bsPrefix:M,expanded:!!y,expand:r}),[M,y,r,v]);return w.jsx(uo.Provider,{value:L,children:w.jsx(Ds.Provider,{value:I,children:w.jsx(p,{ref:e,...O,className:Ue(g,M,r&&P,s&&`${M}-${s}`,c&&`bg-${c}`,f&&`sticky-${f}`,d&&`fixed-${d}`)})})})});Hw.displayName="Navbar";const dU=Object.assign(Hw,{Brand:Ow,Collapse:Iw,Offcanvas:Lw,Text:Pw,Toggle:kw}),Bw=C.forwardRef(({id:i,title:e,children:a,bsPrefix:r,className:s,rootCloseEvent:c,menuRole:d,disabled:f,active:g,renderMenuOnMount:p,menuVariant:y,...v},T)=>{const S=We(void 0,"nav-item");return w.jsxs(dn,{ref:T,...v,className:Ue(s,S),children:[w.jsx(dn.Toggle,{id:i,eventKey:null,active:g,disabled:f,childBsPrefix:r,as:bw,children:e}),w.jsx(dn.Menu,{role:d,renderOnMount:p,rootCloseEvent:c,variant:y,children:a})]})});Bw.displayName="NavDropdown";const zr=Object.assign(Bw,{Item:dn.Item,ItemText:dn.ItemText,Divider:dn.Divider,Header:dn.Header}),hU="/knowledge/assets/Q-D0P5BD4N.png",fU="/knowledge/assets/A-D6cPdaM3.png",gU=()=>{const{instance:i}=Ji();let e=null;i&&(e=i.getActiveAccount(),console.log("activeAccount.idTokenClaims.email",e?.idTokenClaims?.email),console.log(e?e.name:"Unknown"),console.log({activeAccount:e}));const a={loginHint:"name@example.com",scopes:Jc.scopes.read},{result:r}=Y0(pe.Silent,a);let s=ET();r&&(console.log("result.account.name:",r.account?.name),localStorage.setItem("accessToken",r.accessToken));const c=()=>{i.loginRedirect(kE).catch(y=>console.log(y))},d=async()=>{await i.loginPopup({...kE,redirectUri:"/redirect"}).catch(y=>console.log(y))},f=()=>{i.logoutRedirect({account:i.getActiveAccount()})},g=()=>{i.logoutPopup({mainWindowRedirectUri:"/knowledge",account:i.getActiveAccount()})},p=()=>{s("/about")};return console.log(">>>>> activeAccount:",e),w.jsx(w.Fragment,{children:w.jsxs(dU,{bg:"primary",variant:"dark",className:"navbarStyle",children:[w.jsxs(rp,{children:[w.jsx("a",{className:"navbar-brand mx-3",href:"/",children:w.jsx("i",{children:"Knowledge"})}),w.jsxs(Ef,{to:"/categories",className:"nav-link text-warning",children:[w.jsx("img",{width:"22",height:"20",src:hU,alt:"Questions"})," ","Questions"]}),w.jsxs(Ef,{to:"/groups",className:"nav-link text-info",children:[w.jsx("img",{width:"22",height:"20",src:fU,alt:"Answers"})," ","Answers"]}),w.jsx("div",{className:"collapse navbar-collapse justify-content-end",children:w.jsxs(au,{variant:"warning",drop:"start",title:e?e.name:"Unknown",children:[w.jsx(dn.Item,{as:"button",onClick:g,children:"Sign out using Popup"}),w.jsx(dn.Item,{as:"button",onClick:f,children:"Sign out using Redirect"}),w.jsx(zr.Divider,{className:"mx-2"}),w.jsxs(dn.Item,{as:"button",onClick:p,children:[w.jsx(zr.Item,{eventKey:"DARK_MODE",children:"Dark mode"}),w.jsx(zr.Item,{eventKey:"LIGHT_MODE",children:"Light mode"}),w.jsx(zr.Divider,{}),w.jsx(zr.Item,{as:Mc,to:"/health",children:"Health"}),w.jsx(zr.Item,{as:Mc,to:"/about",children:"About"})]})]})})]}),w.jsxs(UA,{children:[w.jsx("a",{className:"navbar-brand ms-2",href:"/",children:"Implement Chatbot at your site"}),w.jsx("div",{className:"collapse navbar-collapse justify-content-end",children:w.jsxs(au,{variant:"secondary",className:"ml-auto",drop:"start",title:"Sign In",children:[w.jsx(dn.Item,{as:"button",onClick:d,children:"Sign in using Popup"}),w.jsx(dn.Item,{as:"button",onClick:c,children:"Sign in using Redirect"})]})})]})]})})},pU=i=>w.jsxs(w.Fragment,{children:[w.jsx(gU,{}),i.children,w.jsx("br",{}),w.jsx(rp,{children:w.jsx("footer",{children:w.jsxs("center",{children:["How did we do?",w.jsxs("a",{href:"https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR_ivMYEeUKlEq8CxnMPgdNZUNDlUTTk2NVNYQkZSSjdaTk5KT1o4V1VVNS4u",rel:"noopener noreferrer",target:"_blank",children:[" ","Share your experience!"]})]})})})]});class Lt{constructor(e){if(e){const{Time:a,NickName:r}=e;this.whoWhen={time:new Date(a),nickName:r}}}whoWhen=void 0}class Nt{constructor(e){if(e){const{time:a,nickName:r}=e;this.whoWhenDto={Time:new Date(a),NickName:r}}}whoWhenDto=void 0}class mU{constructor(e,a){const{questionKey:r,assignedAnswerKey:s,created:c}=e;this.historyDto={Workspace:a,QuestionKey:{TopId:r.topId,Id:r.id},AnswerKey:{TopId:s.topId,Id:s.id},UserAction:e.userAction,Created:new Nt(c).whoWhenDto}}historyDto}class yU{constructor(e,a){const{questionKey:r,filter:s,created:c}=e;this.historyFilterDto={Workspace:a,Filter:s,QuestionKey:{Workspace:a,TopId:r.topId,Id:r.id},Created:new Nt(c).whoWhenDto}}historyFilterDto}var Gw=(i=>(i.OWNER="OWNER",i.ADMIN="ADMIN",i.EDITOR="EDITOR",i.VIEWER="VIEWER",i))(Gw||{}),ke=(i=>(i.SET_LOADING="SET_LOADING",i.SET_FROM_LOCAL_STORAGE="SET_FROM_LOCAL_STORAGE",i.AUTHENTICATE="AUTHENTICATE",i.UN_AUTHENTICATE="UN_AUTHENTICATE",i.SET_ERROR="SET_ERROR",i.DARK_MODE="DARK_MODE",i.LIGHT_MODE="LIGHT_MODE",i.SET_ALL_CATEGORY_ROWS_GLOBAL="SET_ALL_CATEGORY_ROWS_GLOBAL",i.SET_ALL_GROUP_ROWS_GLOBAL="SET_ALL_GROUP_ROWS_GLOBAL",i.SET_NODES_RELOADED="SET_NODES_RELOADED",i.SET_QUESTION_AFTER_ASSIGN_ANSWER="SET_QUESTION_AFTER_ASSIGN_ANSWER",i.SET_LAST_ROUTE_VISITED="SET_LAST_ROUTE_VISITED",i))(ke||{});const zw={nickName:"",name:"",email:"",color:"blue",role:Gw.VIEWER},vU=(i,e)=>{const a=CU(i,e);if([ke.AUTHENTICATE,ke.DARK_MODE,ke.LIGHT_MODE,ke.UN_AUTHENTICATE,ke.SET_LAST_ROUTE_VISITED].includes(e.type)){const{authUser:s,everLoggedIn:c,isDarkMode:d,variant:f,bg:g,lastRouteVisited:p}=a,{nickName:y}=s,v={nickName:y,everLoggedIn:c,isDarkMode:d,variant:f,bg:g,lastRouteVisited:p};localStorage.setItem("GLOBAL_STATE",JSON.stringify(v))}return console.log("=============================================================================="),console.log("========================="+e.type+"======================================="),console.log("=============================================================================="),a},CU=(i,e)=>{const a=e.type;switch(e.type){case ke.SET_LOADING:return{...i,loading:!0};case ke.SET_FROM_LOCAL_STORAGE:{const{locStorage:r}=e.payload;return{...i,...r}}case ke.SET_ERROR:{const{error:r}=e.payload;return{...i,error:r,loading:!1}}case ke.AUTHENTICATE:{console.log("GlobalActionTypes.AUTHENTICATE",e.payload);const{user:r}=e.payload,{nickName:s,name:c,workspace:d}=r;return{...i,authUser:{nickName:s,name:c,email:"",color:"blue",everLoggedIn:!0},workspace:d,canEdit:!0,isOwner:!0,isAuthenticated:!0,everLoggedIn:!0,error:void 0}}case ke.UN_AUTHENTICATE:return{...i,isAuthenticated:!1,everLoggedIn:!1,authUser:zw,isOwner:!1};case ke.LIGHT_MODE:return{...i,isDarkMode:!1,variant:"light",bg:"light"};case ke.DARK_MODE:return{...i,isDarkMode:!0,variant:"dark",bg:"dark"};case ke.SET_LAST_ROUTE_VISITED:{const{lastRouteVisited:r}=e.payload;return{...i,lastRouteVisited:r}}case ke.SET_ALL_CATEGORY_ROWS_GLOBAL:{const{allCategoryRows:r}=e.payload;return{...i,allCategoryRowsGlobal:r,allCategoryRowsGlobalLoaded:Date.now()}}case ke.SET_ALL_GROUP_ROWS_GLOBAL:{const{allGroupRows:r}=e.payload;return{...i,allGroupRows:r,allGroupRowsLoaded:Date.now()}}case ke.SET_NODES_RELOADED:return{...i,nodesReLoaded:!0};default:throw Error("Unknown action: "+a)}};var EU=(i=>(i.None="None",i.AddingCategory="AddingCategory",i.ViewingCategory="ViewingCategory",i.EditingCategory="EditingCategory",i.DeletingCategory="DeletingCategory",i.AddingQuestion="AddingQuestion",i.ViewingQuestion="ViewingQuestion",i.EditingQuestion="EditingQuestion",i.DeletingQuestion="DeletingQuestion",i.AddingVariation="AddingVariation",i.EditingVariation="EditingVariation",i.ViewingVariation="ViewingVariation",i))(EU||{});class jU{constructor(e,a){const{topId:r,id:s,parentId:c,modified:d}=e;this.categoryRowDto={Workspace:a,TopId:r,Id:s,ParentId:c,Title:"",Link:"",Header:"",Variations:[],HasSubCategories:!1,SubCategoryRowDtos:[],NumOfQuestions:0,QuestionRowDtos:[],Level:0,Kind:0,Modified:d?new Nt(d).whoWhenDto:void 0}}categoryRowDto}class Mu{constructor(e){const{TopId:a,Id:r,ParentId:s,Kind:c,Title:d,Link:f,Header:g,Variations:p,Level:y,HasSubCategories:v,SubCategoryRowDtos:T,NumOfQuestions:S,QuestionRowDtos:O,IsExpanded:M}=e;this.categoryRow={topId:a,id:r,parentId:s??null,title:d,link:f,header:g,titlesUpTheTree:"",variations:p,hasSubCategories:v,categoryRows:T.map(I=>new Mu({...I,TopId:a}).categoryRow),numOfQuestions:S,questionRows:O?O.map(I=>new SU({...I,TopId:a??void 0}).questionRow):[],level:y,kind:c,isExpanded:M}}categoryRow}class qU{constructor(e,a){const{topId:r,parentId:s,id:c}=e;this.dto={Workspace:a,TopId:r,ParentId:s,Id:c}}dto}class TU{constructor(e){const{QuestionKey:a,Filter:r,Created:s,LastUsed:c,NumOfUsages:d}=e;this.relatedFilter={questionKey:a??null,filter:r,created:s?new Lt(s).whoWhen:null,lastUsed:c?new Lt(c).whoWhen:null,numOfUsages:d}}relatedFilter}const FU=i=>typeof i=="object"&&i!==null&&i.hasOwnProperty("doc1")&&typeof i.doc1=="string";class SU{constructor(e){const{TopId:a,ParentId:r,Id:s,NumOfAssignedAnswers:c,Title:d,CategoryTitle:f,Created:g,Modified:p,Included:y}=e;this.questionRow={topId:a,parentId:r??"",id:s,numOfAssignedAnswers:c??0,title:d,categoryTitle:f,created:new Lt(g).whoWhen,modified:p?new Lt(p).whoWhen:void 0,included:y??!1}}questionRow}class QU{constructor(e,a){const{topId:r,parentId:s,id:c,numOfAssignedAnswers:d,created:f,modified:g,included:p}=e;this.questionRowDto={Workspace:a,TopId:r,ParentId:s??"",Id:c,NumOfAssignedAnswers:d??0,Title:"",CategoryTitle:"",Created:new Nt(f).whoWhenDto,Modified:new Nt(g).whoWhenDto,Included:p}}questionRowDto}class YU{constructor(e){const{topId:a,id:r,parentId:s}=e;this.categoryKey={topId:a,id:r,parentId:s}}categoryKey;toQuery=e=>{const{topId:a,id:r,parentId:s}=this.categoryKey;return[`catKey.workspace=${encodeURIComponent(e)}`,`catKey.topId=${encodeURIComponent(a)}`,`catKey.id=${encodeURIComponent(r)}`,`catKey.parentId=${encodeURIComponent(s??"null")}`].join("&")}}class VU{constructor(e){const{TopId:a,Id:r,ParentId:s,Kind:c,Title:d,Link:f,Header:g,Level:p,Variations:y,NumOfQuestions:v,HasSubCategories:T,SubCategoryRowDtos:S,Created:O,Modified:M,QuestionRowDtos:I,IsExpanded:P,Doc1:L}=e,B=S?S.map(V=>new Mu(V).categoryRow):[],$=I?I.map(V=>new Kw(V).question):[];this.category={topId:a,id:r,parentId:s??null,kind:c,title:d,link:f,header:g,level:p,variations:y??[],hasSubCategories:T,categoryRows:B,created:new Lt(O).whoWhen,modified:M?new Lt(M).whoWhen:void 0,numOfQuestions:v,questionRows:$??[],isExpanded:P===!0,doc1:L}}category}class $U{constructor(e,a){const{topId:r,id:s,parentId:c,kind:d,title:f,link:g,header:p,level:y,variations:v,created:T,modified:S,doc1:O}=e;this.categoryDto={Workspace:a,TopId:r,Id:s,Kind:d,ParentId:c,Title:f,Link:g,Header:p??"",Level:y,HasSubCategories:!0,SubCategoryRowDtos:[],NumOfQuestions:0,QuestionRowDtos:[],Variations:v,Created:new Nt(T).whoWhenDto,Modified:new Nt(S).whoWhenDto,Doc1:O}}categoryDto}class Kw{constructor(e){const a=e.AssignedAnswerDtos?e.AssignedAnswerDtos.map(s=>new wU(s).assignedAnswer):[],r=e.RelatedFilterDtos?e.RelatedFilterDtos.map(s=>new TU(s).relatedFilter):[];this.question={topId:e.TopId,parentId:e.ParentId??"",id:e.Id,title:e.Title,categoryTitle:e.CategoryTitle,assignedAnswers:a,numOfAssignedAnswers:e.NumOfAssignedAnswers??0,relatedFilters:r,numOfRelatedFilters:e.NumOfRelatedFilters??0,source:e.Source??0,status:e.Status??0,included:e.Included!==void 0,created:new Lt(e.Created).whoWhen,modified:e.Modified?new Lt(e.Modified).whoWhen:void 0}}question}class AU{constructor(e){this.questionKey={topId:e.topId,parentId:e.parentId??null,id:e.id}}questionKey;toQuery=e=>{const{topId:a,parentId:r,id:s}=this.questionKey;return[`qKey.workspace=${encodeURIComponent(e)}`,`qKey.topId=${encodeURIComponent(a)}`,`qKey.parentId=${encodeURIComponent(r??"null")}`,`qKey.id=${encodeURIComponent(s)}`].join("&")}}class WU{constructor(e,a){const{topId:r,parentId:s,id:c,title:d,source:f,status:g,created:p,modified:y,numOfAssignedAnswers:v,numOfRelatedFilters:T}=e;this.questionDto={Workspace:a,TopId:r,ParentId:s??"null",Id:c,Title:d,NumOfAssignedAnswers:v,NumOfRelatedFilters:T,Source:f,Status:g,Created:new Nt(p).whoWhenDto,Modified:new Nt(y).whoWhenDto}}questionDto}class XU{constructor(e){const{topId:a,id:r,answerTitle:s,created:c}=e;this.assignedAnswerDto={TopId:a,Id:r,AnswerTitle:s??"",AnswerLink:s??"",Created:new Nt(c).whoWhenDto}}assignedAnswerDto}class wU{constructor(e){const{TopId:a,Id:r,AnswerTitle:s,AnswerLink:c,Created:d,Modified:f}=e;this.assignedAnswer={topId:a,id:r,answerTitle:s,answerLink:c,created:new Lt(d).whoWhen,modified:new Lt(f).whoWhen}}assignedAnswer}var _U=(i=>(i.SET_FROM_LOCAL_STORAGE="SET_FROM_LOCAL_STORAGE",i.SET_TOP_ROWS="SET_TOP_ROWS",i.SET_NODE_EXPANDED_UP_THE_TREE="SET_NODE_EXPANDED_UP_THE_TREE",i.SET_LOADING_CATEGORY="SET_LOADING_CATEGORY",i.SET_LOADING_QUESTION="SET_LOADING_QUESTION",i.SET_TOP_ROWS_LOADING="SET_TOP_ROWS_LOADING",i.SET_CATEGORY_QUESTIONS_LOADING="SET_CATEGORY_QUESTIONS_LOADING",i.SET_SUB_CATEGORIES="SET_SUB_CATEGORIES",i.SET_ERROR="SET_ERROR",i.ADD_SUB_CATEGORY="ADD_SUB_CATEGORY",i.CATEGORY_TITLE_CHANGED="CATEGORY_TITLE_CHANGED",i.CANCEL_ADD_SUB_CATEGORY="CANCEL_ADD_SUB_CATEGORY",i.SET_CATEGORY="SET_CATEGORY",i.ADD_NEW_QUESTION_TO_ROW="ADD_NEW_QUESTION_TO_ROW",i.SET_ROW_EXPANDING="SET_ROW_EXPANDING",i.SET_ROW_EXPANDED="SET_ROW_EXPANDED",i.SET_ROW_COLLAPSING="SET_ROW_COLLAPSING",i.SET_ROW_COLLAPSED="SET_ROW_COLLAPSED",i.SET_CATEGORY_TO_ADD_TOP="SET_CATEGORY_TO_ADD_TOP",i.SET_CATEGORY_TO_ADD="SET_CATEGORY_TO_ADD",i.SET_CATEGORY_ADDED="SET_CATEGORY_ADDED",i.SET_ALL_CATEGORY_ROWS="SET_ALL_CATEGORY_ROWS",i.SET_CATEGORY_TO_VIEW="SET_CATEGORY_TO_VIEW",i.SET_CATEGORY_TO_EDIT="SET_CATEGORY_TO_EDIT",i.SET_CATEGORY_UPDATED="SET_CATEGORY_UPDATED",i.DELETE_CATEGORY="DELETE_CATEGORY",i.RESET_CATEGORY_QUESTION_DONE="RESET_CATEGORY_QUESTION_DONE",i.CLOSE_CATEGORY_FORM="CLOSE_CATEGORY_FORM",i.CANCEL_CATEGORY_FORM="CANCEL_CATEGORY_FORM",i.SET_NODE_EXPANDING_UP_THE_TREE="SET_NODE_EXPANDING_UP_THE_TREE",i.FORCE_OPEN_NODE="FORCE_OPEN_NODE",i.CATEGORY_QUESTIONS_LOADED="CATEGORY_QUESTIONS_LOADED",i.ADD_QUESTION="ADD_QUESTION",i.QUESTION_TITLE_CHANGED="QUESTION_TITLE_CHANGED",i.CANCEL_ADD_QUESTION="CANCEL_ADD_QUESTION",i.SET_QUESTION_TO_VIEW="SET_QUESTION_TO_VIEW",i.SET_QUESTION_TO_EDIT="SET_QUESTION_TO_EDIT",i.SET_QUESTION_SELECTED="SET_QUESTION_SELECTED",i.SET_QUESTION="SET_QUESTION",i.SET_QUESTION_AFTER_ASSIGN_ANSWER="SET_QUESTION_AFTER_ASSIGN_ANSWER",i.SET_QUESTION_ANSWERS="SET_QUESTION_ANSWERS",i.QUESTION_DELETED="QUESTION_DELETED",i.CLOSE_QUESTION_FORM="CLOSE_QUESTION_FORM",i.CANCEL_QUESTION_FORM="CANCEL_QUESTION_FORM",i))(_U||{});const JU=["SET_ROW_EXPANDED","SET_ROW_COLLAPSED","SET_CATEGORY_ADDED","SET_CATEGORY_TO_VIEW","SET_CATEGORY_TO_EDIT","SET_QUESTION_TO_VIEW","SET_QUESTION_TO_EDIT","FORCE_OPEN_NODE"],ZU=["SET_NODE_EXPANDING_UP_THE_TREE","SET_CATEGORY_UPDATED","ADD_NEW_QUESTION_TO_ROW","CANCEL_CATEGORY_FORM","CLOSE_CATEGORY_FORM"],e1=["CATEGORY_TITLE_CHANGED","QUESTION_TITLE_CHANGED","ADD_SUB_CATEGORY"];var RU=(i=>(i.None="None",i.AddingGroup="AddingGroup",i.ViewingGroup="ViewingGroup",i.EditingGroup="EditingGroup",i.DeletingGroup="DeletingGroup",i.AddingAnswer="AddingAnswer",i.ViewingAnswer="ViewingAnswer",i.EditingAnswer="EditingAnswer",i.DeletingAnswer="DeletingAnswer",i.AddingVariation="AddingVariation",i.EditingVariation="EditingVariation",i.ViewingVariation="ViewingVariation",i))(RU||{});class t1{constructor(e,a){const{topId:r,id:s,parentId:c,modified:d}=e;this.groupRowDto={Workspace:a,TopId:r,Id:s,ParentId:c,Title:"",Link:"",Header:"",Variations:[],HasSubGroups:!1,SubGroupRowDtos:[],NumOfAnswers:0,AnswerRowDtos:[],Level:0,Kind:0,Modified:d?new Nt(d).whoWhenDto:void 0}}groupRowDto}class Du{constructor(e){const{TopId:a,Id:r,ParentId:s,Kind:c,Title:d,Link:f,Header:g,Variations:p,Level:y,HasSubGroups:v,SubGroupRowDtos:T,NumOfAnswers:S,AnswerRowDtos:O,IsExpanded:M}=e;this.groupRow={topId:a,id:r,parentId:s??null,title:d,link:f,header:g,titlesUpTheTree:"",variations:p,hasSubGroups:v,groupRows:T?T.map(I=>new Du({...I,TopId:a}).groupRow):[],numOfAnswers:S,answerRows:O?O.map(I=>new bU({...I,TopId:a??void 0}).answerRow):[],level:y,kind:c,isExpanded:M}}groupRow}const n1=i=>typeof i=="object"&&i!==null&&i.hasOwnProperty("doc1")&&typeof i.doc1=="string";class bU{constructor(e){const{TopId:a,ParentId:r,Id:s,Title:c,GroupTitle:d,Created:f,Modified:g,Included:p}=e;this.answerRow={topId:a,parentId:r??"",id:s,title:c,groupTitle:d,created:new Lt(f).whoWhen,modified:g?new Lt(g).whoWhen:void 0,included:p??!1}}answerRow}class a1{constructor(e,a){const{topId:r,parentId:s,id:c,created:d,modified:f,included:g}=e;this.answerRowDto={Workspace:a,TopId:r,ParentId:s??"",Id:c,Title:"",GroupTitle:"",Created:new Nt(d).whoWhenDto,Modified:new Nt(f).whoWhenDto,Included:g}}answerRowDto}class i1{constructor(e){const{topId:a,id:r,parentId:s}=e;this.groupKey={topId:a,id:r,parentId:s}}groupKey;toQuery=e=>{const{topId:a,id:r,parentId:s}=this.groupKey;return[`grpKey.workspace=${encodeURIComponent(e)}`,`grpKey.topId=${encodeURIComponent(a)}`,`grpKey.id=${encodeURIComponent(r)}`,`grpKey.parentId=${encodeURIComponent(s??"null")}`].join("&")}}class r1{constructor(e){const{TopId:a,Id:r,ParentId:s,Kind:c,Title:d,Link:f,Header:g,Level:p,Variations:y,NumOfAnswers:v,HasSubGroups:T,SubGroupRowDtos:S,Created:O,Modified:M,AnswerRowDtos:I,IsExpanded:P,Doc1:L}=e,B=S?S.map(V=>new Du(V).groupRow):[],$=I?I.map(V=>new Kf(V).answer):[];this.group={topId:a,id:r,parentId:s??null,kind:c,title:d,link:f,header:g,level:p,variations:y??[],hasSubGroups:T,groupRows:B,created:new Lt(O).whoWhen,modified:M?new Lt(M).whoWhen:void 0,numOfAnswers:v,answerRows:$??[],isExpanded:P===!0,doc1:L}}group}class o1{constructor(e,a){const{topId:r,id:s,parentId:c,kind:d,title:f,link:g,header:p,level:y,variations:v,created:T,modified:S,doc1:O}=e;this.groupDto={Workspace:a,TopId:r,Id:s,Kind:d,ParentId:c,Title:f,Link:g,Header:p??"",Level:y,HasSubGroups:!0,SubGroupRowDtos:[],NumOfAnswers:0,AnswerRowDtos:[],Variations:v,Created:new Nt(T).whoWhenDto,Modified:new Nt(S).whoWhenDto,Doc1:O}}groupDto}class Kf{constructor(e){this.answer={topId:e.TopId,parentId:e.ParentId??"",id:e.Id,title:e.Title,groupTitle:e.GroupTitle,source:e.Source??0,status:e.Status??0,included:e.Included!==void 0,created:new Lt(e.Created).whoWhen,modified:e.Modified?new Lt(e.Modified).whoWhen:void 0}}answer}class s1{constructor(e){this.answerKey={topId:e.topId,parentId:e.parentId??null,id:e.id}}answerKey;toQuery=e=>{const{topId:a,parentId:r,id:s}=this.answerKey;return[`qKey.workspace=${encodeURIComponent(e)}`,`qKey.topId=${encodeURIComponent(a)}`,`qKey.parentId=${encodeURIComponent(r??"null")}`,`qKey.id=${encodeURIComponent(s)}`].join("&")}}class l1{constructor(e,a){const{topId:r,parentId:s,id:c,title:d,source:f,status:g,created:p,modified:y}=e;this.answerDto={Workspace:a,TopId:r,ParentId:s??"null",Id:c,Title:d,Source:f,Status:g,Created:new Nt(p).whoWhenDto,Modified:new Nt(y).whoWhenDto}}answerDto}var OU=(i=>(i.SET_FROM_LOCAL_STORAGE="SET_FROM_LOCAL_STORAGE",i.SET_TOP_ROWS="SET_TOP_ROWS",i.SET_NODE_EXPANDED_UP_THE_TREE="SET_NODE_EXPANDED_UP_THE_TREE",i.SET_LOADING_GROUP="SET_LOADING_GROUP",i.SET_LOADING_ANSWER="SET_LOADING_ANSWER",i.SET_TOP_ROWS_LOADING="SET_TOP_ROWS_LOADING",i.SET_ANSWERS_LOADING="SET_ANSWERS_LOADING",i.SET_SUB_GROUPS="SET_SUB_GROUPS",i.SET_GROUP_ERROR="SET_GROUP_ERROR",i.ADD_SUB_GROUP="ADD_SUB_GROUP",i.GROUP_TITLE_CHANGED="GROUP_TITLE_CHANGED",i.CANCEL_ADD_SUB_GROUP="CANCEL_ADD_SUB_GROUP",i.SET_GROUP="SET_GROUP",i.ADD_NEW_ANSWER_TO_ROW="ADD_NEW_ANSWER_TO_ROW",i.SET_ROW_EXPANDING="SET_ROW_EXPANDING",i.SET_ROW_EXPANDED="SET_ROW_EXPANDED",i.SET_ROW_COLLAPSING="SET_ROW_COLLAPSING",i.SET_ROW_COLLAPSED="SET_ROW_COLLAPSED",i.SET_GROUP_TO_ADD_TOP="SET_GROUP_TO_ADD_TOP",i.SET_GROUP_TO_ADD="SET_GROUP_TO_ADD",i.SET_GROUP_ADDED="SET_GROUP_ADDED",i.SET_ALL_GROUP_ROWS="SET_ALL_GROUP_ROWS",i.SET_GROUP_TO_VIEW="SET_GROUP_TO_VIEW",i.SET_GROUP_TO_EDIT="SET_GROUP_TO_EDIT",i.SET_GROUP_UPDATED="SET_GROUP_UPDATED",i.DELETE_GROUP="DELETE_GROUP",i.RESET_GROUP_ANSWER_DONE="RESET_GROUP_ANSWER_DONE",i.CLOSE_GROUP_FORM="CLOSE_GROUP_FORM",i.CANCEL_GROUP_FORM="CANCEL_GROUP_FORM",i.SET_NODE_EXPANDING_UP_THE_TREE="SET_NODE_EXPANDING_UP_THE_TREE",i.FORCE_GROUP_OPEN_NODE="FORCE_GROUP_OPEN_NODE",i.GROUP_ANSWERS_LOADED="GROUP_ANSWERS_LOADED",i.ADD_ANSWER="ADD_ANSWER",i.ANSWER_TITLE_CHANGED="ANSWER_TITLE_CHANGED",i.CANCEL_ADD_ANSWER="CANCEL_ADD_ANSWER",i.SET_ANSWER_TO_VIEW="SET_ANSWER_TO_VIEW",i.SET_ANSWER_TO_EDIT="SET_ANSWER_TO_EDIT",i.SET_ANSWER_SELECTED="SET_ANSWER_SELECTED",i.SET_ANSWER="SET_ANSWER",i.SET_ANSWER_AFTER_ASSIGN_ANSWER="SET_ANSWER_AFTER_ASSIGN_ANSWER",i.ANSWER_DELETED="ANSWER_DELETED",i.CLOSE_ANSWER_FORM="CLOSE_ANSWER_FORM",i.CANCEL_ANSWER_FORM="CANCEL_ANSWER_FORM",i))(OU||{});const c1=["SET_FROM_LOCAL_STORAGE","SET_ROW_EXPANDED","SET_ROW_COLLAPSED","SET_GROUP_ADDED","SET_GROUP_TO_VIEW","SET_GROUP_TO_EDIT","SET_ANSWER_TO_VIEW","SET_ANSWER_TO_EDIT","FORCE_GROUP_OPEN_NODE"],u1=["SET_NODE_EXPANDING_UP_THE_TREE","SET_GROUP_UPDATED","ADD_NEW_ANSWER_TO_ROW","CANCEL_GROUP_FORM","CLOSE_GROUP_FORM"],d1=["GROUP_TITLE_CHANGED","ANSWER_TITLE_CHANGED","ADD_SUB_GROUP"],jw=C.createContext({}),qw=C.createContext(()=>null),Ta=Jc.KnowledgeAPI.endPoints,IU={KnowledgeAPI:{endpointCategoryRow:Ta.Category.Row,endpointCategory:Ta.Category.Category,endpointQuestion:Ta.Category.Question,endpointQuestionAnswer:Ta.Category.QuestionAnswer,endpointGroupRow:Ta.Group.Row,endpointGroup:Ta.Group.Group,endpointAnswer:Ta.Group.Answer,endpointHistory:Ta.History.endpointHistory,endpointHistoryFilter:Ta.History.endpointHistoryFilter},workspace:"unknown",authUser:zw,isAuthenticated:!1,everLoggedIn:!0,canEdit:!0,isOwner:!0,isDarkMode:!0,variant:"dark",bg:"dark",loading:!1,allCategoryRowsGlobal:new Map,allCategoryRowsGlobalLoaded:void 0,allGroupRows:new Map,allGroupRowsLoaded:void 0,nodesReLoaded:!1,lastRouteVisited:"/categories"},kU=({children:i})=>{const[e,a]=C.useReducer(vU,IU),{KnowledgeAPI:r,workspace:s,allCategoryRowsGlobal:c,allGroupRows:d,allGroupRowsLoaded:f}=e;console.log("--------> GlobalProvider"),C.useEffect(()=>{if("localStorage"in window){console.log("GLOBAL_STATE loaded before signIn");let W=localStorage.getItem("GLOBAL_STATE");if(W!==null){const q=JSON.parse(W);a({type:ke.SET_FROM_LOCAL_STORAGE,payload:{locStorage:q}})}}},[]);const g=async(W,q,ae=null)=>{const ie=localStorage.getItem("accessToken");if(ie)try{console.log({accessToken:ie});let re=null;const N=new Headers,F=`Bearer ${ie}`;N.append("Authorization",F),ae&&N.append("Content-Type","application/json");let X={method:W,headers:N,body:ae?JSON.stringify(ae):null};if(re=await fetch(q,X),re.ok){if(re.status===200||re.status===201){let le=null;try{le=await re.json()}catch{a({type:ke.SET_ERROR,payload:{error:new Error(`Response status: ${re.status}`)}})}finally{return le}}}else{const{errors:le}=await re.json(),ce=new Error(le?.map(_=>_.message).join(`
`)??"unknown");a({type:ke.SET_ERROR,payload:{error:ce}})}}catch(re){console.log("-------------->>> execute",W,q,re),a({type:ke.SET_ERROR,payload:{error:new Error("fetch eror")}})}return null},p=C.useCallback(async()=>new Promise(async W=>{try{console.time();const q=`${r.endpointCategoryRow}/${s}`;await g("GET",q,null).then(ae=>{const ie=new Map;console.timeEnd(),ae.forEach(re=>ie.set(re.Id,new Mu(re).categoryRow)),ie.forEach(re=>{let{id:N,parentId:F}=re,X=N,le=F;for(;le;){const ce=ie.get(le);X=ce.id+" / "+X,le=ce.parentId}re.titlesUpTheTree=X,ie.set(N,re)}),a({type:ke.SET_ALL_CATEGORY_ROWS_GLOBAL,payload:{allCategoryRows:ie}}),W(!0)})}catch(q){console.log(q),a({type:ke.SET_ERROR,payload:{error:q}})}W(!0)}),[r.endpointCategoryRow,s]),y=C.useCallback(async()=>new Promise(async W=>{try{console.time();const q=`${r.endpointGroupRow}/${s}`;await g("GET",q,null).then(ae=>{console.log("loadAndCacheAllGroupRows",r.endpointGroupRow);const ie=new Map;console.timeEnd(),ae.forEach(re=>ie.set(re.Id,new Du(re).groupRow)),ie.forEach(re=>{let{id:N,parentId:F}=re,X=N,le=F;for(;le;){const ce=ie.get(le);X=ce.id+" / "+X,le=ce.parentId}re.titlesUpTheTree=X,ie.set(N,re)}),a({type:ke.SET_ALL_GROUP_ROWS_GLOBAL,payload:{allGroupRows:ie}}),W(!0)})}catch(q){console.log(q),a({type:ke.SET_ERROR,payload:{error:q}})}W(!0)}),[r.endpointGroupRow,s]),v=async(W,q)=>new Promise(async ae=>{try{console.time();const ie=encodeURIComponent(W),re=`${r.endpointQuestion}/${s}/${ie}/${q}/null`;await g("GET",re).then(N=>{const{questionRowDtos:F}=N;if(console.log("questionRowDtos:",{dtos:N},r.endpointCategory),console.timeEnd(),F){const X=F.map(le=>{const{TopId:ce,ParentId:_,Id:G,Title:ee,NumOfAssignedAnswers:ne,Included:he}=le;return{topId:ce,parentId:_??"",id:G,title:ee,categoryTitle:"",numOfAssignedAnswers:ne??0,included:he??!1}});ae(X)}else console.log("no rows in search")})}catch(ie){console.log(ie)}}),T=C.useCallback(async W=>{f||await y();try{let q="";const ae=[];return d.forEach(ie=>{if(ie.id===W)q=ie.header;else if(ie.parentId===W){const{topId:re,id:N,parentId:F,header:X,title:le,level:ce,kind:_,hasSubGroups:G}=ie,ee={topId:re,id:N,header:X,title:le,parentId:F,titlesUpTheTree:"",hasSubGroups:G,level:ce,kind:_,isExpanded:!1,link:null,groupRows:[],variations:[],numOfAnswers:0,answerRows:[]};ae.push(ee)}}),{subGroupRows:ae,parentHeader:q}}catch(q){return console.log(q),a({type:ke.SET_ERROR,payload:{error:q}}),{groupRows:[],parentHeader:"Kiks"}}},[d,f,y]),S=async(W,q,ae)=>new Promise(async ie=>{try{console.time();const re=encodeURIComponent(W),N=`${r.endpointAnswer}/${s}/${re}/${q}/${ae?`${ae.topId}/${ae.id}`:"null/null"}`;await g("GET",N).then(F=>{const{answerRowDtos:X,msg:le}=F;if(console.log("ANSWERSSSSS",{answerRowDtos:X},N),console.timeEnd(),X){const ce=X.map(_=>new Kf(_).answer);ie(ce)}else console.log("no rows in search"+le)})}catch(re){console.log(re)}}),O=C.useCallback(async W=>new Promise(async q=>{try{const ae=new AU(W).toQuery(s),ie=`${r.endpointQuestion}?${ae}`;console.time(),await g("GET",ie).then(re=>{console.timeEnd();const{questionDto:N,msg:F}=re;if(N){const X={question:new Kw(N).question,msg:F};q(X)}else q({question:null,msg:F})})}catch(ae){console.log(ae),q({question:null,msg:"Problemos"})}}),[r.endpointQuestion,s]),M=async W=>{try{const{allCategoryRowsGlobal:q}=e,ae=[];return q.forEach(ie=>{ie.kind===W&&ae.push(ie)}),ae}catch(q){console.log(q),a({type:ke.SET_ERROR,payload:{error:q}})}return[]},I=C.useCallback(async W=>{try{let q="";const ae=[];return c.forEach((ie,re)=>{re===W?q="":ie.parentId===W&&ae.push(ie)}),{subCats:ae,parentHeader:q}}catch(q){return console.log(q),a({type:ke.SET_ERROR,payload:{error:q}}),{subCats:[],parentHeader:"Kiks subCats"}}},[c]),P=C.useCallback(async W=>{try{return c.get(W)}catch(q){console.log(q),a({type:ke.SET_ERROR,payload:{error:q}})}},[c]),L=()=>{},B=()=>{e.nodesReLoaded||a({type:ke.SET_NODES_RELOADED})},$=async W=>new Promise(async q=>{try{const{topId:ae,id:ie}=W;console.time();const re=`${r.endpointAnswer}/${ae}/${ie}`;await g("GET",re).then(N=>{console.timeEnd(),console.log({response:N});const F=new Kf(N).answer;q(F)})}catch(ae){console.log(ae),a({type:ke.SET_ERROR,payload:ae})}}),V=C.useCallback(async W=>{try{return d.get(W)}catch(q){console.log(q),a({type:ke.SET_ERROR,payload:{error:q}})}},[d]),te=async W=>{try{const{allGroupRows:q}=e,ae=[];return q.forEach(ie=>{if(ie.kind===W){const{topId:re,id:N,header:F,title:X,level:le}=ie,ce={topId:re,id:N,header:F,title:X,parentId:"",titlesUpTheTree:"",hasSubGroups:!1,level:le,kind:W,isExpanded:!1,link:null,groupRows:[],variations:[],numOfAnswers:0,answerRows:[]};ae.push(ce)}}),ae}catch(q){console.log(q),a({type:ke.SET_ERROR,payload:{error:q}})}return[]},Z=C.useCallback(async W=>{try{const q=new mU(W,s).historyDto;console.log("historyDto",{historyDto:q});const ae=`${r.endpointHistory}`;console.time(),await g("POST",ae,q).then(async ie=>{const{questionDto:re}=ie;console.timeEnd(),re&&console.log("History successfully created",{questionDto:re})})}catch(q){console.log(q)}},[r.endpointHistory,s]),de=async()=>{},ge=C.useCallback(async W=>{try{const q=new yU(W,s).historyFilterDto,ae=`${r.endpointHistoryFilter}`;console.time(),await g("POST",ae,q).then(async ie=>{const{questionDto:re}=ie;console.timeEnd(),re&&console.log("History Filter successfully created",{questionDto:re})})}catch(q){console.log(q)}},[r.endpointHistoryFilter,s]),ve=C.useCallback(W=>{a({type:ke.SET_LAST_ROUTE_VISITED,payload:{lastRouteVisited:W}})},[]);return C.useEffect(()=>{},[]),w.jsx(jw.Provider,{value:{globalState:e,setLastRouteVisited:ve,health:L,loadAllCategoryRowsGlobal:p,getCat:P,getSubCats:I,getCatsByKind:M,searchQuestions:v,getQuestion:O,loadAndCacheAllGroupRows:y,globalGetGroupRow:V,getGroupRows:T,getGroupRowsByKind:te,searchAnswers:S,getAnswer:$,setNodesReloaded:B,addHistory:Z,getAnswersRated:de,addHistoryFilter:ge},children:w.jsx(qw.Provider,{value:a,children:i})})};function NU(){return C.useContext(jw)}const h1=()=>C.useContext(qw),f1=()=>{const{globalState:i}=NU();return i},MU=()=>w.jsx(mp,{className:"fs-6",children:w.jsxs("div",{className:"d-flex flex-row flex-wrap mx-3",children:[w.jsx("div",{className:"card card-block col-5 m-3",style:{backgroundColor:"rgb(239, 217, 253)"},children:w.jsxs("div",{className:"card-body",children:[w.jsx("h5",{className:"card-title",children:"Questions & Answers"}),w.jsx("h6",{className:"card-subtitle mb-2 text-muted",children:"Build your knowledge base, for sharing information."}),w.jsx("p",{className:"card-text",children:"When you record your experiences and insights, other members of your team can share info."}),w.jsx("p",{className:"card-subtitle mb-2 text-muted",children:"We use MS Azure Platform and Cosmos DB for NoSQL"}),w.jsx("p",{children:" Keeping Q/A at Microsoft Cloud Azure Platform, you get: Security, Integrity, Backups, Role based authorization ..., without any administration"})]})}),w.jsx("div",{className:"card card-block col-5 m-3",style:{backgroundColor:"rgb(206.6, 226, 254.6)"},children:w.jsxs("div",{className:"card-body",children:[w.jsx("h5",{className:"card-title",children:"Implement Chatbot at your Web site"}),w.jsx("h6",{className:"card-subtitle my-2 text-muted",children:"Three steps:"}),w.jsxs("ol",{className:"my-3",children:[w.jsx("li",{className:"my-1",children:"Create your Workspace at our platform"}),w.jsx("li",{className:"my-1",children:"Use our Web App for maintenace of your Q/A"}),w.jsxs("li",{className:"my-1",children:["Integrate our Knowledge-Lib",w.jsx("br",{}),w.jsx("i",{children:"'ChatBot JavaScript Library'"})," at your Web site ",w.jsx("br",{}),w.jsx("a",{href:"https://knowledge-share-demo.com",target:"_blank",rel:"noopener noreferrer",children:"Try it"})]})]})]})}),w.jsx("div",{className:"card card-block col-5 m-3",children:w.jsxs("div",{className:"card-body",children:[w.jsx("h5",{className:"card-title",children:"Microsoft Azure Cloud Platform"}),w.jsxs("p",{className:"card-text",children:["CosmosDB uses Vector Search which is suitable for AI agents. Using CosmosDB embeddings we should get a much better query search. ",w.jsx("br",{}),"For example, someone can enter one of the following filters, in the question auto-complete:",w.jsxs("ol",{children:[w.jsx("li",{children:'"dead remote controller"'}),w.jsx("li",{children:'"remote unit does not work"'}),w.jsx("li",{children:`"controller doesn't work as expected"`})]}),"App will return a similar set of answers for each filter. Users can ask questions in a much more natural language form."]})]})}),w.jsx("div",{className:"card card-block col-5 m-3",children:w.jsxs("div",{className:"card-body",children:[w.jsx("h5",{className:"card-title",children:"Two ways of Hosting"}),w.jsxs("ul",{className:"card-text",children:[w.jsxs("li",{children:["Self Hosting",w.jsx("div",{children:"You create your own Azure Account"}),w.jsx("div",{children:" We do some initial administration and you can use the appliction"}),w.jsx("div",{children:" You continue with administration"})]}),w.jsxs("li",{className:"mt-2",children:["Shared Hosting",w.jsx("div",{children:"We create Work Space for your Company"}),w.jsx("div",{children:"We create user groups and user accounts"}),w.jsx("div",{children:"Role based access rights are supported by Azure platform"})]})]})]})}),w.jsx("div",{className:"card card-block col-5 m-3",children:w.jsxs("div",{className:"card-body",children:[w.jsx("h5",{className:"card-title",children:"AI"}),w.jsx("h6",{className:"card-subtitle mb-2 text-muted",children:"Many companies have rounded (limited) Knowledge and want to stay inside of it"}),w.jsxs("p",{className:"card-text",children:["Although OpenAI relies on  to dynamically scale their ChatGPT service,",w.jsx("br",{}),"in many cases it would be overkill"]})]})}),w.jsx("div",{className:"card card-block col-5 m-3",children:w.jsxs("div",{className:"card-body",children:[w.jsx("h5",{className:"card-title",children:"Application is capable of learning"}),w.jsx("h6",{className:"card-subtitle mb-2 text-muted",children:"We use history of users interactions, providing:"}),w.jsxs("ul",{className:"card-text",children:[w.jsx("li",{children:"Most rated answer for single question"}),w.jsx("li",{children:"Most frequently used Question filter in Question AutoSuggest as the next Question"})]})]})}),w.jsx("div",{className:"card card-block col-12 m-3",children:w.jsx(si,{defaultActiveKey:"null",children:w.jsxs(si.Item,{eventKey:"0",children:[w.jsx(si.Header,{children:"Integrate Knowledge-Lib at WordPress site"}),w.jsx(si.Body,{children:w.jsxs("pre",{children:[w.jsx("div",{className:"bg-warning w-auto",children:w.jsx("b",{children:"Header"})}),w.jsxs("code",{children:['<link rel="stylesheet" crossorigin ',w.jsx("br",{}),'href="https://slavkopar.github.io/knowledge/assets/index.css" />',w.jsx("br",{}),'<base href="https://slavkopar.github.io/knowledge" />']}),w.jsx("br",{}),w.jsx("br",{}),w.jsx("div",{className:"bg-warning w-auto",style:{minWidth:"100%"},children:w.jsx("b",{children:"Body"})}),w.jsx("code",{children:'<div id="root"></div>'}),w.jsx("br",{}),w.jsx("br",{}),w.jsx("div",{className:"bg-warning w-auto",children:w.jsx("b",{children:"Footer"})}),w.jsxs("code",{children:['<script type="module" crossorigin',w.jsx("br",{}),'src="https://slavkopar.github.io/knowledge/assets/index.js"><\/script>']}),w.jsx("br",{}),w.jsx("br",{})]})})]})})}),w.jsx("div",{className:"card card-block col-12 m-3",children:w.jsx(si,{defaultActiveKey:"null",children:w.jsxs(si.Item,{eventKey:"0",children:[w.jsx(si.Header,{children:"Source Code"}),w.jsx(si.Body,{children:w.jsxs("ul",{children:[w.jsx("li",{children:w.jsx("a",{href:"https://github.com/SlavkoPar/NewKnowledgeAPI",target:"_blank",rel:"noopener noreferrer",children:"ASP.NET Core Web API"})}),w.jsx("li",{children:w.jsx("a",{href:"https://github.com/SlavkoPar/knowledge",target:"_blank",rel:"noopener noreferrer",children:"React Single Page App"})}),w.jsx("li",{children:w.jsxs("a",{href:"https://github.com/SlavkoPar/knowledge-lib",target:"_blank",rel:"noopener noreferrer",children:[w.jsx("i",{children:"Knowledge-Lib"}),"JavaScript Library"]})})]})})]})})})]})}),DU=()=>{console.log("-----> MainContent");const{instance:i}=Ji(),e=i.getActiveAccount(),a=C.lazy(()=>H0(()=>import("./App-BbS5zoGd.js").then(r=>r.A),__vite__mapDeps([0,1])).then(r=>({default:r.default})));return w.jsxs("div",{className:"App",children:[w.jsx(rp,{children:e?w.jsx(mp,{children:w.jsx(kU,{children:w.jsx(C.Suspense,{fallback:w.jsx("div",{children:"Loading..."}),children:w.jsx(a,{})})})}):null}),w.jsx(UA,{children:w.jsx(MU,{})})]})},xU=({instance:i})=>(console.log("---> Main"),w.jsx(q0,{instance:i,children:w.jsx(pU,{children:w.jsx(DU,{})})})),Vn=new np(B0);await Vn.initialize();console.log("msalInstance.getAllAccounts().length: ",Vn.getAllAccounts().length);!Vn.getActiveAccount()&&Vn.getAllAccounts().length>0&&Vn.setActiveAccount(Vn.getAllAccounts()[0]);Vn.enableAccountStorageEvents();Vn.addEventCallback(i=>{if(i.eventType===oe.LOGIN_SUCCESS&&i.payload){const e=i.payload;console.log("--->>>>>>>> LOGIN_SUCCESS",{accountInfo:e}),Vn.setActiveAccount(e)}});const UU=vb.createRoot(document.getElementById("root"));UU.render(w.jsx(MO,{children:w.jsx(xU,{instance:Vn})}));export{a1 as $,MU as A,VA as B,mp as C,qU as D,pp as E,EU as F,ke as G,dn as H,FU as I,hU as J,LU as K,OU as L,u1 as M,d1 as N,c1 as O,RU as P,WU as Q,PU as R,n1 as S,Du as T,r1 as U,i1 as V,o1 as W,t1 as X,l1 as Y,Kf as Z,H0 as _,GU as a,s1 as a0,tt as a1,xx as a2,FM as a3,Ds as a4,Nx as a5,qs as a6,Ip as a7,wp as a8,nu as a9,KU as aa,ui as ab,Sw as ac,zs as ad,op as ae,Ru as af,Rw as ag,IM as ah,lp as ai,nM as aj,yM as ak,_w as al,Jx as am,_u as an,YA as ao,nU as ap,HA as aq,TM as ar,eM as as,tM as at,lt as au,xs as av,uU as aw,fU as ax,jf as ay,hM as az,zU as b,Ue as c,NU as d,f1 as e,Wi as f,ET as g,h1 as h,Ji as i,w as j,lO as k,_U as l,ZU as m,e1 as n,JU as o,Mu as p,VU as q,C as r,YU as s,$U as t,We as u,jU as v,Kw as w,QU as x,AU as y,XU as z};
//# sourceMappingURL=index-CuxjKTJ_.js.map
